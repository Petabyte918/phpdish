webpackJsonp([7],{

/***/ "./assets/js/setting.js":
/*!******************************!*\
  !*** ./assets/js/setting.js ***!
  \******************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function($) {

__webpack_require__(/*! ../modules/common.js */ "./assets/modules/common.js");

__webpack_require__(/*! jquery-validation */ "./node_modules/jquery-validation/dist/jquery.validate.js");

var _uploadFile = __webpack_require__(/*! ../modules/upload-file.js */ "./assets/modules/upload-file.js");

var _uploadFile2 = _interopRequireDefault(_uploadFile);

var _util = __webpack_require__(/*! ../modules/util.js */ "./assets/modules/util.js");

var _util2 = _interopRequireDefault(_util);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//上传 头像
(function () {

    var $changeProfileForm = $('#change-profile-form');

    if ($changeProfileForm.length > 0) {
        var $uploadCover = $('#upload-cover');
        var $avatar = $('#change_user_profile_avatar');
        if ($uploadCover.length > 0) {
            var $previewImage = $uploadCover.find('[data-role="preview"]');
            new _uploadFile2.default('pick-image', {
                onUploaded: function onUploaded(result) {
                    if (result.status === 200) {
                        var response = $.parseJSON(result.response);
                        $uploadCover.addClass('uploaded');
                        $avatar.val(response.key);
                        $previewImage.attr('src', response.thumb);
                    } else {
                        _util2.default.dialog.message(result.response.message || Translator.trans('ui.server_error'));
                    }
                },
                headers: {
                    'Upload_Avatar': true
                }
            });
        }
        $changeProfileForm.validate({
            submitHandler: function submitHandler() {
                if ($avatar.val().length === 0) {
                    _util2.default.dialog.message(Translator.trans('setting.validation.avatar')).flash();
                    return false;
                }
                return true;
            },
            messages: {
                'change_user_profile[email]': {
                    required: Translator.trans('setting.validation.email')
                },
                'change_user_profile[gender]': {
                    required: Translator.trans('setting.validation.gender')
                },
                'change_user_profile[description]': {
                    required: Translator.trans('setting.validation.description')
                }
            }
        });
    }
})($);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! jquery */ "jquery")))

/***/ }),

/***/ "./assets/modules/upload-file.js":
/*!***************************************!*\
  !*** ./assets/modules/upload-file.js ***!
  \***************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _classCallCheck2 = __webpack_require__(/*! babel-runtime/helpers/classCallCheck */ "./node_modules/babel-runtime/helpers/classCallCheck.js");

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(/*! babel-runtime/helpers/createClass */ "./node_modules/babel-runtime/helpers/createClass.js");

var _createClass3 = _interopRequireDefault(_createClass2);

var _plupload = __webpack_require__(/*! plupload */ "./node_modules/plupload/js/plupload.full.min.js");

var _plupload2 = _interopRequireDefault(_plupload);

var _jquery = __webpack_require__(/*! jquery */ "jquery");

var _jquery2 = _interopRequireDefault(_jquery);

var _util = __webpack_require__(/*! ./util.js */ "./assets/modules/util.js");

var _util2 = _interopRequireDefault(_util);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var UploadFile = function () {
    function UploadFile(selectorId, options) {
        var _this = this;

        (0, _classCallCheck3.default)(this, UploadFile);


        this.selectorId = selectorId;
        this.options = _jquery2.default.extend({
            headers: {},
            onUploaded: function onUploaded(response, file) {},
            onError: function onError(error) {
                _util2.default.dialog.message(error.code + ": " + error.message + '; ' + Translator.trans('upload.try_again_after_refresh'));
            }
        }, options);

        this.uploader = new _plupload2.default.Uploader({
            runtimes: 'html5,flash,silverlight,html4',
            browse_button: selectorId,
            url: _util2.default.route.getRoutePath('upload'),
            file_data_name: 'file',
            filters: {
                max_file_size: '2mb',
                mime_types: [{ title: Translator.trans('upload.try_again_after_refresh'), extensions: "jpg,gif,png" }]
            },
            headers: this.options.headers,
            init: {
                FilesAdded: function FilesAdded(uploader) {
                    uploader.start();
                },
                FileUploaded: function FileUploaded(uploader, file, result) {
                    _this.options.onUploaded(result, file);
                },
                Error: function Error(uploader, error) {
                    _this.options.onError(error);
                }
            }
        });
        this.uploader.init();
    }

    (0, _createClass3.default)(UploadFile, [{
        key: 'getUploader',
        value: function getUploader() {
            return this.uploader;
        }
    }]);
    return UploadFile;
}();

exports.default = UploadFile;

/***/ }),

/***/ "./node_modules/plupload/js/plupload.full.min.js":
/*!*******************************************************!*\
  !*** ./node_modules/plupload/js/plupload.full.min.js ***!
  \*******************************************************/
/*! dynamic exports provided */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_LOCAL_MODULE_0__;var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**
 * mOxie - multi-runtime File API & XMLHttpRequest L2 Polyfill
 * v1.5.7
 *
 * Copyright 2013, Moxiecode Systems AB
 * Released under GPL License.
 *
 * License: http://www.plupload.com/license
 * Contributing: http://www.plupload.com/contributing
 *
 * Date: 2017-11-03
 */
!function(e,t){var i=function(){var e={};return t.apply(e,arguments),e.moxie}; true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (i),
				__WEBPACK_LOCAL_MODULE_0__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__)):"object"==typeof module&&module.exports?module.exports=i():e.moxie=i()}(this||window,function(){!function(e,t){"use strict";function i(e,t){for(var i,n=[],r=0;r<e.length;++r){if(i=s[e[r]]||o(e[r]),!i)throw"module definition dependecy not found: "+e[r];n.push(i)}t.apply(null,n)}function n(e,n,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(n===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";i(n,function(){s[e]=r.apply(null,arguments)})}function r(e){return!!s[e]}function o(t){for(var i=e,n=t.split(/[.\/]/),r=0;r<n.length;++r){if(!i[n[r]])return;i=i[n[r]]}return i}function a(i){for(var n=0;n<i.length;n++){for(var r=e,o=i[n],a=o.split(/[.\/]/),u=0;u<a.length-1;++u)r[a[u]]===t&&(r[a[u]]={}),r=r[a[u]];r[a[a.length-1]]=s[o]}}var s={};n("moxie/core/utils/Basic",[],function(){function e(e){var t;return e===t?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}function t(){return s(!1,!1,arguments)}function i(){return s(!0,!1,arguments)}function n(){return s(!1,!0,arguments)}function r(){return s(!0,!0,arguments)}function o(t){switch(e(t)){case"array":return s(!1,!0,[[],t]);case"object":return s(!1,!0,[{},t]);default:return t}}function a(i){switch(e(i)){case"array":return Array.prototype.slice.call(i);case"object":return t({},i)}return i}function s(t,i,n){var r,o=n[0];return c(n,function(n,u){u>0&&c(n,function(n,u){var c=-1!==h(e(n),["array","object"]);return n===r||t&&o[u]===r?!0:(c&&i&&(n=a(n)),e(o[u])===e(n)&&c?s(t,i,[o[u],n]):o[u]=n,void 0)})}),o}function u(e,t){function i(){this.constructor=e}for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.parent=t.prototype,e}function c(e,t){var i,n,r,o;if(e){try{i=e.length}catch(a){i=o}if(i===o||"number"!=typeof i){for(n in e)if(e.hasOwnProperty(n)&&t(e[n],n)===!1)return}else for(r=0;i>r;r++)if(t(e[r],r)===!1)return}}function l(t){var i;if(!t||"object"!==e(t))return!0;for(i in t)return!1;return!0}function d(t,i){function n(r){"function"===e(t[r])&&t[r](function(e){++r<o&&!e?n(r):i(e)})}var r=0,o=t.length;"function"!==e(i)&&(i=function(){}),t&&t.length||i(),n(r)}function m(e,t){var i=0,n=e.length,r=new Array(n);c(e,function(e,o){e(function(e){if(e)return t(e);var a=[].slice.call(arguments);a.shift(),r[o]=a,i++,i===n&&(r.unshift(null),t.apply(this,r))})})}function h(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i}return-1}function f(t,i){var n=[];"array"!==e(t)&&(t=[t]),"array"!==e(i)&&(i=[i]);for(var r in t)-1===h(t[r],i)&&n.push(t[r]);return n.length?n:!1}function p(e,t){var i=[];return c(e,function(e){-1!==h(e,t)&&i.push(e)}),i.length?i:null}function g(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i}function x(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e}function v(e){if("string"!=typeof e)return e;var t,i={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9\.]+)([tmgk]?)$/.exec(e.toLowerCase().replace(/[^0-9\.tmkg]/g,"")),t=e[2],e=+e[1],i.hasOwnProperty(t)&&(e*=i[t]),Math.floor(e)}function w(e){var t=[].slice.call(arguments,1);return e.replace(/%([a-z])/g,function(e,i){var n=t.shift();switch(i){case"s":return n+"";case"d":return parseInt(n,10);case"f":return parseFloat(n);case"c":return"";default:return n}})}function y(e,t){var i=this;setTimeout(function(){e.call(i)},t||1)}var E=function(){var e=0;return function(t){var i,n=(new Date).getTime().toString(32);for(i=0;5>i;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+n+(e++).toString(32)}}();return{guid:E,typeOf:e,extend:t,extendIf:i,extendImmutable:n,extendImmutableIf:r,clone:o,inherit:u,each:c,isEmptyObj:l,inSeries:d,inParallel:m,inArray:h,arrayDiff:f,arrayIntersect:p,toArray:g,trim:x,sprintf:w,parseSizeStr:v,delay:y}}),n("moxie/core/utils/Encode",[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))},i=function(e,i){if("function"==typeof window.atob)return i?t(window.atob(e)):window.atob(e);var n,r,o,a,s,u,c,l,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=0,h=0,f="",p=[];if(!e)return e;e+="";do a=d.indexOf(e.charAt(m++)),s=d.indexOf(e.charAt(m++)),u=d.indexOf(e.charAt(m++)),c=d.indexOf(e.charAt(m++)),l=a<<18|s<<12|u<<6|c,n=255&l>>16,r=255&l>>8,o=255&l,p[h++]=64==u?String.fromCharCode(n):64==c?String.fromCharCode(n,r):String.fromCharCode(n,r,o);while(m<e.length);return f=p.join(""),i?t(f):f},n=function(t,i){if(i&&(t=e(t)),"function"==typeof window.btoa)return window.btoa(t);var n,r,o,a,s,u,c,l,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",m=0,h=0,f="",p=[];if(!t)return t;do n=t.charCodeAt(m++),r=t.charCodeAt(m++),o=t.charCodeAt(m++),l=n<<16|r<<8|o,a=63&l>>18,s=63&l>>12,u=63&l>>6,c=63&l,p[h++]=d.charAt(a)+d.charAt(s)+d.charAt(u)+d.charAt(c);while(m<t.length);f=p.join("");var g=t.length%3;return(g?f.slice(0,g-3):f)+"===".slice(g||3)};return{utf8_encode:e,utf8_decode:t,atob:i,btoa:n}}),n("moxie/core/utils/Env",["moxie/core/utils/Basic"],function(e){function i(e,t,i){var n=0,r=0,o=0,a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},s=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},u=function(e){return e?isNaN(e)?a[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),r=Math.max(e.length,t.length),n=0;r>n;n++)if(e[n]!=t[n]){if(e[n]=u(e[n]),t[n]=u(t[n]),e[n]<t[n]){o=-1;break}if(e[n]>t[n]){o=1;break}}if(!i)return o;switch(i){case">":case"gt":return o>0;case">=":case"ge":return o>=0;case"<=":case"le":return 0>=o;case"==":case"=":case"eq":return 0===o;case"<>":case"!=":case"ne":return 0!==o;case"":case"<":case"lt":return 0>o;default:return null}}var n=function(e){var t="",i="?",n="function",r="undefined",o="object",a="name",s="version",u={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},c={rgx:function(){for(var t,i,a,s,u,c,l,d=0,m=arguments;d<m.length;d+=2){var h=m[d],f=m[d+1];if(typeof t===r){t={};for(s in f)u=f[s],typeof u===o?t[u[0]]=e:t[u]=e}for(i=a=0;i<h.length;i++)if(c=h[i].exec(this.getUA())){for(s=0;s<f.length;s++)l=c[++a],u=f[s],typeof u===o&&u.length>0?2==u.length?t[u[0]]=typeof u[1]==n?u[1].call(this,l):u[1]:3==u.length?t[u[0]]=typeof u[1]!==n||u[1].exec&&u[1].test?l?l.replace(u[1],u[2]):e:l?u[1].call(this,l,u[2]):e:4==u.length&&(t[u[0]]=l?u[3].call(this,l.replace(u[1],u[2])):e):t[u]=l?l:e;break}if(c)break}return t},str:function(t,n){for(var r in n)if(typeof n[r]===o&&n[r].length>0){for(var a=0;a<n[r].length;a++)if(u.has(n[r][a],t))return r===i?e:r}else if(u.has(n[r],t))return r===i?e:r;return t}},l={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},d={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,s],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],s],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[a,s],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],s],[/(edge)\/((\d+)?[\w\.]+)/i],[a,s],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],s],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],s],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[a,s],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],s],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],s],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[s,[a,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[s,[a,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[s,[a,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[s,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[s,a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[s,c.str,l.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,s],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],s],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,s]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[s,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,s],[/rv\:([\w\.]+).*(gecko)/i],[s,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,s],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[s,c.str,l.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[s,c.str,l.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],s],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[a,s],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],s],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],s],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,s],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],s],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],s],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,s],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[a,"iOS"],[s,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[s,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[a,s]]},m=function(e){var i=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:t);this.getBrowser=function(){return c.rgx.apply(this,d.browser)},this.getEngine=function(){return c.rgx.apply(this,d.engine)},this.getOS=function(){return c.rgx.apply(this,d.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i)};return m}(),r=function(){var i={access_global_ns:function(){return!!window.moxie},define_property:function(){return!1}(),create_canvas:function(){var e=document.createElement("canvas"),t=!(!e.getContext||!e.getContext("2d"));return i.create_canvas=t,t},return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var i=new XMLHttpRequest;if(i.open("get","/"),"responseType"in i)return i.responseType=t,i.responseType!==t?!1:!0}}catch(n){}return!1},use_blob_uri:function(){var e=window.URL;return i.use_blob_uri=e&&"createObjectURL"in e&&"revokeObjectURL"in e&&("IE"!==a.browser||a.verComp(a.version,"11.0.46",">=")),i.use_blob_uri},use_data_uri:function(){var e=new Image;return e.onload=function(){i.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return i.use_data_uri&&("IE"!==a.browser||a.version>=9)},use_data_uri_of:function(e){return i.use_data_uri&&33e3>e||i.use_data_uri_over32kb()},use_fileinput:function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var e=document.createElement("input");return e.setAttribute("type","file"),i.use_fileinput=!e.disabled},use_webgl:function(){var e,n=document.createElement("canvas"),r=null;try{r=n.getContext("webgl")||n.getContext("experimental-webgl")}catch(o){}return r||(r=null),e=!!r,i.use_webgl=e,n=t,e}};return function(t){var n=[].slice.call(arguments);return n.shift(),"function"===e.typeOf(i[t])?i[t].apply(this,n):!!i[t]}}(),o=(new n).getResult(),a={can:r,uaParser:n,browser:o.browser.name,version:o.browser.version,os:o.os.name,osVersion:o.os.version,verComp:i,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return a.OS=a.os,a}),n("moxie/core/Exceptions",["moxie/core/utils/Basic"],function(e){function t(e,t){var i;for(i in e)if(e[i]===t)return i;return null}return{RuntimeError:function(){function i(e,i){this.code=e,this.name=t(n,e),this.message=this.name+(i||": RuntimeError "+this.code)}var n={NOT_INIT_ERR:1,EXCEPTION_ERR:3,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(i,n),i.prototype=Error.prototype,i}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": ImageError "+this.code}var n={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2,INVALID_META_ERR:3};return e.extend(i,n),i.prototype=Error.prototype,i}(),FileException:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": FileException "+this.code}var n={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(i,n),i.prototype=Error.prototype,i}(),DOMException:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": DOMException "+this.code}var n={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(i,n),i.prototype=Error.prototype,i}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),n("moxie/core/utils/Dom",["moxie/core/utils/Env"],function(e){var t=function(e){return"string"!=typeof e?e:document.getElementById(e)},i=function(e,t){if(!e.className)return!1;var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return i.test(e.className)},n=function(e,t){i(e,t)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+t:t)},r=function(e,t){if(e.className){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(i,function(e,t,i){return" "===t&&" "===i?" ":""})}},o=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},a=function(t,i){function n(e){var t,i,n=0,r=0;return e&&(i=e.getBoundingClientRect(),t="CSS1Compat"===c.compatMode?c.documentElement:c.body,n=i.left+t.scrollLeft,r=i.top+t.scrollTop),{x:n,y:r}}var r,o,a,s=0,u=0,c=document;if(t=t,i=i||c.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!c.documentMode||c.documentMode<8))return o=n(t),a=n(i),{x:o.x-a.x,y:o.y-a.y};for(r=t;r&&r!=i&&r.nodeType;)s+=r.offsetLeft||0,u+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!=i&&r.nodeType;)s-=r.scrollLeft||0,u-=r.scrollTop||0,r=r.parentNode;return{x:s,y:u}},s=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:i,addClass:n,removeClass:r,getStyle:o,getPos:a,getSize:s}}),n("moxie/core/EventTarget",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic"],function(e,t,i){function n(){this.uid=i.guid()}var r={};return i.extend(n.prototype,{init:function(){this.uid||(this.uid=i.guid("uid_"))},addEventListener:function(e,t,n,o){var a,s=this;return this.hasOwnProperty("uid")||(this.uid=i.guid("uid_")),e=i.trim(e),/\s/.test(e)?(i.each(e.split(/\s+/),function(e){s.addEventListener(e,t,n,o)}),void 0):(e=e.toLowerCase(),n=parseInt(n,10)||0,a=r[this.uid]&&r[this.uid][e]||[],a.push({fn:t,priority:n,scope:o||this}),r[this.uid]||(r[this.uid]={}),r[this.uid][e]=a,void 0)},hasEventListener:function(e){var t;return e?(e=e.toLowerCase(),t=r[this.uid]&&r[this.uid][e]):t=r[this.uid],t?t:!1},removeEventListener:function(e,t){var n,o,a=this;if(e=e.toLowerCase(),/\s/.test(e))return i.each(e.split(/\s+/),function(e){a.removeEventListener(e,t)}),void 0;if(n=r[this.uid]&&r[this.uid][e]){if(t){for(o=n.length-1;o>=0;o--)if(n[o].fn===t){n.splice(o,1);break}}else n=[];n.length||(delete r[this.uid][e],i.isEmptyObj(r[this.uid])&&delete r[this.uid])}},removeAllEventListeners:function(){r[this.uid]&&delete r[this.uid]},dispatchEvent:function(e){var n,o,a,s,u,c={},l=!0;if("string"!==i.typeOf(e)){if(s=e,"string"!==i.typeOf(s.type))throw new t.EventException(t.EventException.UNSPECIFIED_EVENT_TYPE_ERR);e=s.type,s.total!==u&&s.loaded!==u&&(c.total=s.total,c.loaded=s.loaded),c.async=s.async||!1}if(-1!==e.indexOf("::")?function(t){n=t[0],e=t[1]}(e.split("::")):n=this.uid,e=e.toLowerCase(),o=r[n]&&r[n][e]){o.sort(function(e,t){return t.priority-e.priority}),a=[].slice.call(arguments),a.shift(),c.type=e,a.unshift(c);var d=[];i.each(o,function(e){a[0].target=e.scope,c.async?d.push(function(t){setTimeout(function(){t(e.fn.apply(e.scope,a)===!1)},1)}):d.push(function(t){t(e.fn.apply(e.scope,a)===!1)})}),d.length&&i.inSeries(d,function(e){l=!e})}return l},bindOnce:function(e,t,i,n){var r=this;r.bind.call(this,e,function o(){return r.unbind(e,o),t.apply(this,arguments)},i,n)},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},handleEventProps:function(e){var t=this;this.bind(e.join(" "),function(e){var t="on"+e.type.toLowerCase();"function"===i.typeOf(this[t])&&this[t].apply(this,arguments)}),i.each(e,function(e){e="on"+e.toLowerCase(e),"undefined"===i.typeOf(t[e])&&(t[e]=null)})}}),n.instance=new n,n}),n("moxie/runtime/Runtime",["moxie/core/utils/Env","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/EventTarget"],function(e,t,i,n){function r(e,n,o,s,u){var c,l=this,d=t.guid(n+"_"),m=u||"browser";e=e||{},a[d]=this,o=t.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},o),e.preferred_caps&&(m=r.getMode(s,e.preferred_caps,m)),c=function(){var e={};return{exec:function(t,i,n,r){return c[i]&&(e[t]||(e[t]={context:this,instance:new c[i]}),e[t].instance[n])?e[t].instance[n].apply(this,r):void 0},removeInstance:function(t){delete e[t]},removeAllInstances:function(){var i=this;t.each(e,function(e,n){"function"===t.typeOf(e.instance.destroy)&&e.instance.destroy.call(e.context),i.removeInstance(n)})}}}(),t.extend(this,{initialized:!1,uid:d,type:n,mode:r.getMode(s,e.required_caps,m),shimid:d+"_container",clients:0,options:e,can:function(e,i){var n=arguments[2]||o;if("string"===t.typeOf(e)&&"undefined"===t.typeOf(i)&&(e=r.parseCaps(e)),"object"===t.typeOf(e)){for(var a in e)if(!this.can(a,e[a],n))return!1;return!0}return"function"===t.typeOf(n[e])?n[e].call(this,i):i===n[e]},getShimContainer:function(){var e,n=i.get(this.shimid);return n||(e=i.get(this.options.container)||document.body,n=document.createElement("div"),n.id=this.shimid,n.className="moxie-shim moxie-shim-"+this.type,t.extend(n.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.appendChild(n),e=null),n},getShim:function(){return c},shimExec:function(e,t){var i=[].slice.call(arguments,2);return l.getShim().exec.call(this,this.uid,e,t,i)},exec:function(e,t){var i=[].slice.call(arguments,2);return l[e]&&l[e][t]?l[e][t].apply(this,i):l.shimExec.apply(this,arguments)},destroy:function(){if(l){var e=i.get(this.shimid);e&&e.parentNode.removeChild(e),c&&c.removeAllInstances(),this.unbindAll(),delete a[this.uid],this.uid=null,d=l=c=e=null}}}),this.mode&&e.required_caps&&!this.can(e.required_caps)&&(this.mode=!1)}var o={},a={};return r.order="html5,flash,silverlight,html4",r.getRuntime=function(e){return a[e]?a[e]:!1},r.addConstructor=function(e,t){t.prototype=n.instance,o[e]=t},r.getConstructor=function(e){return o[e]||null},r.getInfo=function(e){var t=r.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},r.parseCaps=function(e){var i={};return"string"!==t.typeOf(e)?e||{}:(t.each(e.split(","),function(e){i[e]=!0}),i)},r.can=function(e,t){var i,n,o=r.getConstructor(e);return o?(i=new o({required_caps:t}),n=i.mode,i.destroy(),!!n):!1},r.thatCan=function(e,t){var i=(t||r.order).split(/\s*,\s*/);for(var n in i)if(r.can(i[n],e))return i[n];return null},r.getMode=function(e,i,n){var r=null;if("undefined"===t.typeOf(n)&&(n="browser"),i&&!t.isEmptyObj(e)){if(t.each(i,function(i,n){if(e.hasOwnProperty(n)){var o=e[n](i);if("string"==typeof o&&(o=[o]),r){if(!(r=t.arrayIntersect(r,o)))return r=!1}else r=o}}),r)return-1!==t.inArray(n,r)?n:r[0];if(r===!1)return!1}return n},r.getGlobalEventTarget=function(){if(/^moxie\./.test(e.global_event_dispatcher)&&!e.can("access_global_ns")){var i=t.guid("moxie_event_target_");window[i]=function(e,t){n.instance.dispatchEvent(e,t)},e.global_event_dispatcher=i}return e.global_event_dispatcher},r.capTrue=function(){return!0},r.capFalse=function(){return!1},r.capTest=function(e){return function(){return!!e}},r}),n("moxie/runtime/RuntimeClient",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/Runtime"],function(e,t,i,n){return function(){var e;i.extend(this,{connectRuntime:function(r){function o(i){var a,u;return i.length?(a=i.shift().toLowerCase(),(u=n.getConstructor(a))?(e=new u(r),e.bind("Init",function(){e.initialized=!0,setTimeout(function(){e.clients++,s.ruid=e.uid,s.trigger("RuntimeInit",e)},1)}),e.bind("Error",function(){e.destroy(),o(i)}),e.bind("Exception",function(e,i){var n=i.name+"(#"+i.code+")"+(i.message?", from: "+i.message:"");s.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.EXCEPTION_ERR,n))}),e.mode?(e.init(),void 0):(e.trigger("Error"),void 0)):(o(i),void 0)):(s.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)),e=null,void 0)}var a,s=this;if("string"===i.typeOf(r)?a=r:"string"===i.typeOf(r.ruid)&&(a=r.ruid),a){if(e=n.getRuntime(a))return s.ruid=a,e.clients++,e;throw new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)}o((r.runtime_order||n.order).split(/\s*,\s*/))},disconnectRuntime:function(){e&&--e.clients<=0&&e.destroy(),e=null},getRuntime:function(){return e&&e.uid?e:e=null},exec:function(){return e?e.exec.apply(this,arguments):null},can:function(t){return e?e.can(t):!1}})}}),n("moxie/file/Blob",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient"],function(e,t,i){function n(o,a){function s(t,i,o){var a,s=r[this.uid];return"string"===e.typeOf(s)&&s.length?(a=new n(null,{type:o,size:i-t}),a.detach(s.substr(t,a.size)),a):null}i.call(this),o&&this.connectRuntime(o),a?"string"===e.typeOf(a)&&(a={data:a}):a={},e.extend(this,{uid:a.uid||e.guid("uid_"),ruid:o,size:a.size||0,type:a.type||"",slice:function(e,t,i){return this.isDetached()?s.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,i)},getSource:function(){return r[this.uid]?r[this.uid]:null},detach:function(e){if(this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy"),this.disconnectRuntime(),this.ruid=null),e=e||"","data:"==e.substr(0,5)){var i=e.indexOf(";base64,");this.type=e.substring(5,i),e=t.atob(e.substring(i+8))}this.size=e.length,r[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(r[this.uid])},destroy:function(){this.detach(),delete r[this.uid]}}),a.data?this.detach(a.data):r[this.uid]=a}var r={};return n}),n("moxie/core/I18n",["moxie/core/utils/Basic"],function(e){var t={};return{addI18n:function(i){return e.extend(t,i)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var i=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=i.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),n("moxie/core/utils/Mime",["moxie/core/utils/Basic","moxie/core/I18n"],function(e,t){var i="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb xlt xla,application/vnd.ms-powerpoint,ppt pps pot ppa,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",n={},r={},o=function(e){var t,i,o,a=e.split(/,/);for(t=0;t<a.length;t+=2){for(o=a[t+1].split(/ /),i=0;i<o.length;i++)n[o[i]]=a[t];r[a[t]]=o}},a=function(t,i){var n,r,o,a,s=[];for(r=0;r<t.length;r++)for(n=t[r].extensions.toLowerCase().split(/\s*,\s*/),o=0;o<n.length;o++){if("*"===n[o])return[];if(a=s[n[o]],i&&/^\w+$/.test(n[o]))s.push("."+n[o]);else if(a&&-1===e.inArray(a,s))s.push(a);else if(!a)return[]}return s},s=function(t){var i=[];return e.each(t,function(t){if(t=t.toLowerCase(),"*"===t)return i=[],!1;var n=t.match(/^(\w+)\/(\*|\w+)$/);n&&("*"===n[2]?e.each(r,function(e,t){new RegExp("^"+n[1]+"/").test(t)&&[].push.apply(i,r[t])}):r[t]&&[].push.apply(i,r[t]))}),i},u=function(i){var n=[],r=[];return"string"===e.typeOf(i)&&(i=e.trim(i).split(/\s*,\s*/)),r=s(i),n.push({title:t.translate("Files"),extensions:r.length?r.join(","):"*"}),n},c=function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""},l=function(e){return n[c(e)]||""};return o(i),{mimes:n,extensions:r,addMimeType:o,extList2mimes:a,mimes2exts:s,mimes2extList:u,getFileExtension:c,getFileMime:l}}),n("moxie/file/FileInput",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Mime","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/I18n","moxie/runtime/Runtime","moxie/runtime/RuntimeClient"],function(e,t,i,n,r,o,a,s,u){function c(t){var o,c,d;if(-1!==e.inArray(e.typeOf(t),["string","node"])&&(t={browse_button:t}),c=n.get(t.browse_button),!c)throw new r.DOMException(r.DOMException.NOT_FOUND_ERR);d={accept:[{title:a.translate("All Files"),extensions:"*"}],multiple:!1,required_caps:!1,container:c.parentNode||document.body},t=e.extend({},d,t),"string"==typeof t.required_caps&&(t.required_caps=s.parseCaps(t.required_caps)),"string"==typeof t.accept&&(t.accept=i.mimes2extList(t.accept)),o=n.get(t.container),o||(o=document.body),"static"===n.getStyle(o,"position")&&(o.style.position="relative"),o=c=null,u.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){var i=this;i.bind("RuntimeInit",function(r,o){i.ruid=o.uid,i.shimid=o.shimid,i.bind("Ready",function(){i.trigger("Refresh")},999),i.bind("Refresh",function(){var i,r,a,s,u;a=n.get(t.browse_button),s=n.get(o.shimid),a&&(i=n.getPos(a,n.get(t.container)),r=n.getSize(a),u=parseInt(n.getStyle(a,"z-index"),10)||0,s&&e.extend(s.style,{top:i.y+"px",left:i.x+"px",width:r.w+"px",height:r.h+"px",zIndex:u+1})),s=a=null}),o.exec.call(i,"FileInput","init",t)}),i.connectRuntime(e.extend({},t,{required_caps:{select_file:!0}}))},getOption:function(e){return t[e]},setOption:function(e,n){if(t.hasOwnProperty(e)){var o=t[e];switch(e){case"accept":"string"==typeof n&&(n=i.mimes2extList(n));break;case"container":case"required_caps":throw new r.FileException(r.FileException.NO_MODIFICATION_ALLOWED_ERR)}t[e]=n,this.exec("FileInput","setOption",e,n),this.trigger("OptionChanged",e,n,o)}},disable:function(t){var i=this.getRuntime();i&&this.exec("FileInput","disable","undefined"===e.typeOf(t)?!0:t)},refresh:function(){this.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null,this.unbindAll()}}),this.handleEventProps(l)}var l=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return c.prototype=o.instance,c}),n("moxie/file/File",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/file/Blob"],function(e,t,i){function n(n,r){r||(r={}),i.apply(this,arguments),this.type||(this.type=t.getFileMime(r.name));var o;if(r.name)o=r.name.replace(/\\/g,"/"),o=o.substr(o.lastIndexOf("/")+1);else if(this.type){var a=this.type.split("/")[0];o=e.guid((""!==a?a:"file")+"_"),t.extensions[this.type]&&(o+="."+t.extensions[this.type][0])}e.extend(this,{name:o||e.guid("file_"),relativePath:"",lastModifiedDate:r.lastModifiedDate||(new Date).toLocaleString()})}return n.prototype=i.prototype,n}),n("moxie/file/FileDrop",["moxie/core/I18n","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/core/utils/Env","moxie/file/File","moxie/runtime/RuntimeClient","moxie/core/EventTarget","moxie/core/utils/Mime"],function(e,t,i,n,r,o,a,s,u){function c(i){var r,o=this;"string"==typeof i&&(i={drop_zone:i}),r={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},i="object"==typeof i?n.extend({},r,i):r,i.container=t.get(i.drop_zone)||document.body,"static"===t.getStyle(i.container,"position")&&(i.container.style.position="relative"),"string"==typeof i.accept&&(i.accept=u.mimes2extList(i.accept)),a.call(o),n.extend(o,{uid:n.guid("uid_"),ruid:null,files:null,init:function(){o.bind("RuntimeInit",function(e,t){o.ruid=t.uid,t.exec.call(o,"FileDrop","init",i),o.dispatchEvent("ready")
}),o.connectRuntime(i)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null,this.unbindAll()}}),this.handleEventProps(l)}var l=["ready","dragenter","dragleave","drop","error"];return c.prototype=s.instance,c}),n("moxie/file/FileReader",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/Exceptions","moxie/core/EventTarget","moxie/file/Blob","moxie/runtime/RuntimeClient"],function(e,t,i,n,r,o){function a(){function n(e,n){if(this.trigger("loadstart"),this.readyState===a.LOADING)return this.trigger("error",new i.DOMException(i.DOMException.INVALID_STATE_ERR)),this.trigger("loadend"),void 0;if(!(n instanceof r))return this.trigger("error",new i.DOMException(i.DOMException.NOT_FOUND_ERR)),this.trigger("loadend"),void 0;if(this.result=null,this.readyState=a.LOADING,n.isDetached()){var o=n.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=o;break;case"readAsDataURL":this.result="data:"+n.type+";base64,"+t.btoa(o)}this.readyState=a.DONE,this.trigger("load"),this.trigger("loadend")}else this.connectRuntime(n.ruid),this.exec("FileReader","read",e,n)}o.call(this),e.extend(this,{uid:e.guid("uid_"),readyState:a.EMPTY,result:null,error:null,readAsBinaryString:function(e){n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){n.call(this,"readAsDataURL",e)},readAsText:function(e){n.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[a.EMPTY,a.DONE])&&(this.readyState===a.LOADING&&(this.readyState=a.DONE),this.exec("FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),this.exec("FileReader","destroy"),this.disconnectRuntime(),this.unbindAll()}}),this.handleEventProps(s),this.bind("Error",function(e,t){this.readyState=a.DONE,this.error=t},999),this.bind("Load",function(){this.readyState=a.DONE},999)}var s=["loadstart","progress","load","abort","error","loadend"];return a.EMPTY=0,a.LOADING=1,a.DONE=2,a.prototype=n.instance,a}),n("moxie/core/utils/Url",["moxie/core/utils/Basic"],function(e){var t=function(i,n){var r,o=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],a=o.length,s={http:80,https:443},u={},c=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@\/]*):?([^:@\/]*))?@)?(\[[\da-fA-F:]+\]|[^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,l=c.exec(i||""),d=/^\/\/\w/.test(i);switch(e.typeOf(n)){case"undefined":n=t(document.location.href,!1);break;case"string":n=t(n,!1)}for(;a--;)l[a]&&(u[o[a]]=l[a]);if(r=!d&&!u.scheme,(d||r)&&(u.scheme=n.scheme),r){u.host=n.host,u.port=n.port;var m="";/^[^\/]/.test(u.path)&&(m=n.path,m=/\/[^\/]*\.[^\/]*$/.test(m)?m.replace(/\/[^\/]+$/,"/"):m.replace(/\/?$/,"/")),u.path=m+(u.path||"")}return u.port||(u.port=s[u.scheme]||80),u.port=parseInt(u.port,10),u.path||(u.path="/"),delete u.source,u},i=function(e){var i={http:80,https:443},n="object"==typeof e?e:t(e);return n.scheme+"://"+n.host+(n.port!==i[n.scheme]?":"+n.port:"")+n.path+(n.query?n.query:"")},n=function(e){function i(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof e&&(e=t(e)),i(t())===i(e)};return{parseUrl:t,resolveUrl:i,hasSameOrigin:n}}),n("moxie/runtime/RuntimeTarget",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,i){function n(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return n.prototype=i.instance,n}),n("moxie/file/FileReaderSync",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/utils/Encode"],function(e,t,i){return function(){function n(e,t){if(!t.isDetached()){var n=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),n}var r=t.getSource();switch(e){case"readAsBinaryString":return r;case"readAsDataURL":return"data:"+t.type+";base64,"+i.btoa(r);case"readAsText":for(var o="",a=0,s=r.length;s>a;a++)o+=String.fromCharCode(r[a]);return o}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return n.call(this,"readAsDataURL",e)},readAsText:function(e){return n.call(this,"readAsText",e)}})}}),n("moxie/xhr/FormData",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/Blob"],function(e,t,i){function n(){var e,n=[];t.extend(this,{append:function(r,o){var a=this,s=t.typeOf(o);o instanceof i?e={name:r,value:o}:"array"===s?(r+="[]",t.each(o,function(e){a.append(r,e)})):"object"===s?t.each(o,function(e,t){a.append(r+"["+t+"]",e)}):"null"===s||"undefined"===s||"number"===s&&isNaN(o)?a.append(r,"false"):n.push({name:r,value:o.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(i){t.each(n,function(e){i(e.value,e.name)}),e&&i(e.value,e.name)},destroy:function(){e=null,n=[]}})}return n}),n("moxie/xhr/XMLHttpRequest",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/core/utils/Url","moxie/runtime/Runtime","moxie/runtime/RuntimeTarget","moxie/file/Blob","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/core/utils/Env","moxie/core/utils/Mime"],function(e,t,i,n,r,o,a,s,u,c,l,d){function m(){this.uid=e.guid("uid_")}function h(){function i(e,t){return I.hasOwnProperty(e)?1===arguments.length?l.can("define_property")?I[e]:A[e]:(l.can("define_property")?I[e]=t:A[e]=t,void 0):void 0}function u(t){function n(){_&&(_.destroy(),_=null),s.dispatchEvent("loadend"),s=null}function r(r){_.bind("LoadStart",function(e){i("readyState",h.LOADING),s.dispatchEvent("readystatechange"),s.dispatchEvent(e),L&&s.upload.dispatchEvent(e)}),_.bind("Progress",function(e){i("readyState")!==h.LOADING&&(i("readyState",h.LOADING),s.dispatchEvent("readystatechange")),s.dispatchEvent(e)}),_.bind("UploadProgress",function(e){L&&s.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),_.bind("Load",function(t){i("readyState",h.DONE),i("status",Number(r.exec.call(_,"XMLHttpRequest","getStatus")||0)),i("statusText",f[i("status")]||""),i("response",r.exec.call(_,"XMLHttpRequest","getResponse",i("responseType"))),~e.inArray(i("responseType"),["text",""])?i("responseText",i("response")):"document"===i("responseType")&&i("responseXML",i("response")),U=r.exec.call(_,"XMLHttpRequest","getAllResponseHeaders"),s.dispatchEvent("readystatechange"),i("status")>0?(L&&s.upload.dispatchEvent(t),s.dispatchEvent(t)):(F=!0,s.dispatchEvent("error")),n()}),_.bind("Abort",function(e){s.dispatchEvent(e),n()}),_.bind("Error",function(e){F=!0,i("readyState",h.DONE),s.dispatchEvent("readystatechange"),M=!0,s.dispatchEvent(e),n()}),r.exec.call(_,"XMLHttpRequest","send",{url:x,method:v,async:T,user:w,password:y,headers:S,mimeType:D,encoding:O,responseType:s.responseType,withCredentials:s.withCredentials,options:k},t)}var s=this;E=(new Date).getTime(),_=new a,"string"==typeof k.required_caps&&(k.required_caps=o.parseCaps(k.required_caps)),k.required_caps=e.extend({},k.required_caps,{return_response_type:s.responseType}),t instanceof c&&(k.required_caps.send_multipart=!0),e.isEmptyObj(S)||(k.required_caps.send_custom_headers=!0),B||(k.required_caps.do_cors=!0),k.ruid?r(_.connectRuntime(k)):(_.bind("RuntimeInit",function(e,t){r(t)}),_.bind("RuntimeError",function(e,t){s.dispatchEvent("RuntimeError",t)}),_.connectRuntime(k))}function g(){i("responseText",""),i("responseXML",null),i("response",null),i("status",0),i("statusText",""),E=b=null}var x,v,w,y,E,b,_,R,A=this,I={timeout:0,readyState:h.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},T=!0,S={},O=null,D=null,N=!1,C=!1,L=!1,M=!1,F=!1,B=!1,P=null,H=null,k={},U="";e.extend(this,I,{uid:e.guid("uid_"),upload:new m,open:function(o,a,s,u,c){var l;if(!o||!a)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(o)||n.utf8_encode(o)!==o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(o.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(v=o.toUpperCase()),~e.inArray(v,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(a=n.utf8_encode(a),l=r.parseUrl(a),B=r.hasSameOrigin(l),x=r.resolveUrl(a),(u||c)&&!B)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(w=u||l.user,y=c||l.pass,T=s||!0,T===!1&&(i("timeout")||i("withCredentials")||""!==i("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);N=!T,C=!1,S={},g.call(this),i("readyState",h.OPENED),this.dispatchEvent("readystatechange")},setRequestHeader:function(r,o){var a=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(i("readyState")!==h.OPENED||C)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(r)||n.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return r=e.trim(r).toLowerCase(),~e.inArray(r,a)||/^(proxy\-|sec\-)/.test(r)?!1:(S[r]?S[r]+=", "+o:S[r]=o,!0)},hasRequestHeader:function(e){return e&&S[e.toLowerCase()]||!1},getAllResponseHeaders:function(){return U||""},getResponseHeader:function(t){return t=t.toLowerCase(),F||~e.inArray(t,["set-cookie","set-cookie2"])?null:U&&""!==U&&(R||(R={},e.each(U.split(/\r\n/),function(t){var i=t.split(/:\s+/);2===i.length&&(i[0]=e.trim(i[0]),R[i[0].toLowerCase()]={header:i[0],value:e.trim(i[1])})})),R.hasOwnProperty(t))?R[t].header+": "+R[t].value:null},overrideMimeType:function(n){var r,o;if(~e.inArray(i("readyState"),[h.LOADING,h.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n=e.trim(n.toLowerCase()),/;/.test(n)&&(r=n.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(n=r[1],r[2]&&(o=r[2])),!d.mimes[n])throw new t.DOMException(t.DOMException.SYNTAX_ERR);P=n,H=o},send:function(i,r){if(k="string"===e.typeOf(r)?{ruid:r}:r?r:{},this.readyState!==h.OPENED||C)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i instanceof s)k.ruid=i.ruid,D=i.type||"application/octet-stream";else if(i instanceof c){if(i.hasBlob()){var o=i.getBlob();k.ruid=o.ruid,D=o.type||"application/octet-stream"}}else"string"==typeof i&&(O="UTF-8",D="text/plain;charset=UTF-8",i=n.utf8_encode(i));this.withCredentials||(this.withCredentials=k.required_caps&&k.required_caps.send_browser_cookies&&!B),L=!N&&this.upload.hasEventListener(),F=!1,M=!i,N||(C=!0),u.call(this,i)},abort:function(){if(F=!0,N=!1,~e.inArray(i("readyState"),[h.UNSENT,h.OPENED,h.DONE]))i("readyState",h.UNSENT);else{if(i("readyState",h.DONE),C=!1,!_)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);_.getRuntime().exec.call(_,"XMLHttpRequest","abort",M),M=!0}},destroy:function(){_&&("function"===e.typeOf(_.destroy)&&_.destroy(),_=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}}),this.handleEventProps(p.concat(["readystatechange"])),this.upload.handleEventProps(p)}var f={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};m.prototype=i.instance;var p=["loadstart","progress","abort","error","load","timeout","loadend"];return h.UNSENT=0,h.OPENED=1,h.HEADERS_RECEIVED=2,h.LOADING=3,h.DONE=4,h.prototype=i.instance,h}),n("moxie/runtime/Transporter",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,i,n){function r(){function n(){l=d=0,c=this.result=null}function o(t,i){var n=this;u=i,n.bind("TransportingProgress",function(t){d=t.loaded,l>d&&-1===e.inArray(n.state,[r.IDLE,r.DONE])&&a.call(n)},999),n.bind("TransportingComplete",function(){d=l,n.state=r.DONE,c=null,n.result=u.exec.call(n,"Transporter","getAsBlob",t||"")},999),n.state=r.BUSY,n.trigger("TransportingStarted"),a.call(n)}function a(){var e,i=this,n=l-d;m>n&&(m=n),e=t.btoa(c.substr(d,m)),u.exec.call(i,"Transporter","receive",e,l)}var s,u,c,l,d,m;i.call(this),e.extend(this,{uid:e.guid("uid_"),state:r.IDLE,result:null,transport:function(t,i,r){var a=this;if(r=e.extend({chunk_size:204798},r),(s=r.chunk_size%3)&&(r.chunk_size+=3-s),m=r.chunk_size,n.call(this),c=t,l=t.length,"string"===e.typeOf(r)||r.ruid)o.call(a,i,this.connectRuntime(r));else{var u=function(e,t){a.unbind("RuntimeInit",u),o.call(a,i,t)};this.bind("RuntimeInit",u),this.connectRuntime(r)}},abort:function(){var e=this;e.state=r.IDLE,u&&(u.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),n.call(e)},destroy:function(){this.unbindAll(),u=null,this.disconnectRuntime(),n.call(this)}})}return r.IDLE=0,r.BUSY=1,r.DONE=2,r.prototype=n.instance,r}),n("moxie/image/Image",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/file/FileReaderSync","moxie/xhr/XMLHttpRequest","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/runtime/Transporter","moxie/core/utils/Env","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/core/utils/Encode"],function(e,t,i,n,r,o,a,s,u,c,l,d,m){function h(){function n(e){try{return e||(e=this.exec("Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name),!0}catch(t){return this.trigger("error",t.code),!1}}function c(t){var n=e.typeOf(t);try{if(t instanceof h){if(!t.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);p.apply(this,arguments)}else if(t instanceof l){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new i.ImageError(i.ImageError.WRONG_FORMAT);g.apply(this,arguments)}else if(-1!==e.inArray(n,["blob","file"]))c.call(this,new d(null,t),arguments[1]);else if("string"===n)"data:"===t.substr(0,5)?c.call(this,new l(null,{data:t}),arguments[1]):x.apply(this,arguments);else{if("node"!==n||"img"!==t.nodeName.toLowerCase())throw new i.DOMException(i.DOMException.TYPE_MISMATCH_ERR);c.call(this,t.src,arguments[1])}}catch(r){this.trigger("error",r.code)}}function p(t,i){var n=this.connectRuntime(t.ruid);this.ruid=n.uid,n.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(i)?!0:i)}function g(t,i){function n(e){r.ruid=e.uid,e.exec.call(r,"Image","loadFromBlob",t)}var r=this;r.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){n(t)}),i&&"string"==typeof i.required_caps&&(i.required_caps=o.parseCaps(i.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},i))):n(this.connectRuntime(t.ruid))}function x(e,t){var i,n=this;i=new r,i.open("get",e),i.responseType="blob",i.onprogress=function(e){n.trigger(e)},i.onload=function(){g.call(n,i.response,!0)},i.onerror=function(e){n.trigger(e)},i.onloadend=function(){i.destroy()},i.bind("RuntimeError",function(e,t){n.trigger("RuntimeError",t)}),i.send(null,t)}a.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){c.apply(this,arguments)},resize:function(t){var n,r,o=this,a={x:0,y:0,width:o.width,height:o.height},s=e.extendIf({width:o.width,height:o.height,type:o.type||"image/jpeg",quality:90,crop:!1,fit:!0,preserveHeaders:!0,resample:"default",multipass:!0},t);try{if(!o.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);if(o.width>h.MAX_RESIZE_WIDTH||o.height>h.MAX_RESIZE_HEIGHT)throw new i.ImageError(i.ImageError.MAX_RESOLUTION_ERR);if(n=o.meta&&o.meta.tiff&&o.meta.tiff.Orientation||1,-1!==e.inArray(n,[5,6,7,8])){var u=s.width;s.width=s.height,s.height=u}if(s.crop){switch(r=Math.max(s.width/o.width,s.height/o.height),t.fit?(a.width=Math.min(Math.ceil(s.width/r),o.width),a.height=Math.min(Math.ceil(s.height/r),o.height),r=s.width/a.width):(a.width=Math.min(s.width,o.width),a.height=Math.min(s.height,o.height),r=1),"boolean"==typeof s.crop&&(s.crop="cc"),s.crop.toLowerCase().replace(/_/,"-")){case"rb":case"right-bottom":a.x=o.width-a.width,a.y=o.height-a.height;break;case"cb":case"center-bottom":a.x=Math.floor((o.width-a.width)/2),a.y=o.height-a.height;break;case"lb":case"left-bottom":a.x=0,a.y=o.height-a.height;break;case"lt":case"left-top":a.x=0,a.y=0;break;case"ct":case"center-top":a.x=Math.floor((o.width-a.width)/2),a.y=0;break;case"rt":case"right-top":a.x=o.width-a.width,a.y=0;break;case"rc":case"right-center":case"right-middle":a.x=o.width-a.width,a.y=Math.floor((o.height-a.height)/2);break;case"lc":case"left-center":case"left-middle":a.x=0,a.y=Math.floor((o.height-a.height)/2);break;case"cc":case"center-center":case"center-middle":default:a.x=Math.floor((o.width-a.width)/2),a.y=Math.floor((o.height-a.height)/2)}a.x=Math.max(a.x,0),a.y=Math.max(a.y,0)}else r=Math.min(s.width/o.width,s.height/o.height),r>1&&!s.fit&&(r=1);this.exec("Image","resize",a,r,s)}catch(c){o.trigger("error",c.code)}},downsize:function(t){var i,n={width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90,crop:!1,fit:!1,preserveHeaders:!0,resample:"default"};i="object"==typeof t?e.extend(n,t):e.extend(n,{width:arguments[0],height:arguments[1],crop:arguments[2],preserveHeaders:arguments[3]}),this.resize(i)},crop:function(e,t,i){this.downsize(e,t,!0,i)},getAsCanvas:function(){if(!u.can("create_canvas"))throw new i.RuntimeError(i.RuntimeError.NOT_SUPPORTED_ERR);return this.exec("Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsBlob",e||"image/jpeg",t||90)},getAsDataURL:function(e,t){if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsDataURL",e||"image/jpeg",t||90)},getAsBinaryString:function(e,t){var i=this.getAsDataURL(e,t);return m.atob(i.substring(i.indexOf("base64,")+7))},embed:function(n,r){function o(t,r){var o=this;if(u.can("create_canvas")){var l=o.getAsCanvas();if(l)return n.appendChild(l),l=null,o.destroy(),c.trigger("embedded"),void 0}var d=o.getAsDataURL(t,r);if(!d)throw new i.ImageError(i.ImageError.WRONG_FORMAT);if(u.can("use_data_uri_of",d.length))n.innerHTML='<img src="'+d+'" width="'+o.width+'" height="'+o.height+'" alt="" />',o.destroy(),c.trigger("embedded");else{var h=new s;h.bind("TransportingComplete",function(){a=c.connectRuntime(this.result.ruid),c.bind("Embedded",function(){e.extend(a.getShimContainer().style,{top:"0px",left:"0px",width:o.width+"px",height:o.height+"px"}),a=null},999),a.exec.call(c,"ImageView","display",this.result.uid,width,height),o.destroy()}),h.transport(m.atob(d.substring(d.indexOf("base64,")+7)),t,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:n})}}var a,c=this,l=e.extend({width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90,fit:!0,resample:"nearest"},r);try{if(!(n=t.get(n)))throw new i.DOMException(i.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);this.width>h.MAX_RESIZE_WIDTH||this.height>h.MAX_RESIZE_HEIGHT;var d=new h;return d.bind("Resize",function(){o.call(this,l.type,l.quality)}),d.bind("Load",function(){this.downsize(l)}),this.meta.thumb&&this.meta.thumb.width>=l.width&&this.meta.thumb.height>=l.height?d.load(this.meta.thumb.data):d.clone(this,!1),d}catch(f){this.trigger("error",f.code)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.meta&&this.meta.thumb&&this.meta.thumb.data.destroy(),this.unbindAll()}}),this.handleEventProps(f),this.bind("Load Resize",function(){return n.call(this)},999)}var f=["progress","load","error","resize","embedded"];return h.MAX_RESIZE_WIDTH=8192,h.MAX_RESIZE_HEIGHT=8192,h.prototype=c.instance,h}),n("moxie/runtime/html5/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,i,n){function o(t){var o=this,u=i.capTest,c=i.capTrue,l=e.extend({access_binary:u(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return o.can("access_binary")&&!!s.Image},display_media:u((n.can("create_canvas")||n.can("use_data_uri_over32kb"))&&r("moxie/image/Image")),do_cors:u(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:u(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==n.browser||n.verComp(n.version,9,">"))}()),filter_by_extension:u(function(){return!("Chrome"===n.browser&&n.verComp(n.version,28,"<")||"IE"===n.browser&&n.verComp(n.version,10,"<")||"Safari"===n.browser&&n.verComp(n.version,7,"<")||"Firefox"===n.browser&&n.verComp(n.version,37,"<"))}()),return_response_headers:c,return_response_type:function(e){return"json"===e&&window.JSON?!0:n.can("return_response_type",e)},return_status_code:c,report_upload_progress:u(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return o.can("access_binary")&&n.can("create_canvas")},select_file:function(){return n.can("use_fileinput")&&window.File},select_folder:function(){return o.can("select_file")&&("Chrome"===n.browser&&n.verComp(n.version,21,">=")||"Firefox"===n.browser&&n.verComp(n.version,42,">="))},select_multiple:function(){return!(!o.can("select_file")||"Safari"===n.browser&&"Windows"===n.os||"iOS"===n.os&&n.verComp(n.osVersion,"7.0.0",">")&&n.verComp(n.osVersion,"8.0.0","<"))},send_binary_string:u(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:u(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||o.can("send_binary_string")},slice_blob:u(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return o.can("slice_blob")&&o.can("send_multipart")},summon_file_dialog:function(){return o.can("select_file")&&!("Firefox"===n.browser&&n.verComp(n.version,4,"<")||"Opera"===n.browser&&n.verComp(n.version,12,"<")||"IE"===n.browser&&n.verComp(n.version,10,"<"))},upload_filesize:c,use_http_method:c},arguments[2]);i.call(this,t,arguments[1]||a,l),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(o),e=o=null}}(this.destroy)}),e.extend(this.getShim(),s)}var a="html5",s={};return i.addConstructor(a,o),s}),n("moxie/runtime/html5/file/Blob",["moxie/runtime/html5/Runtime","moxie/file/Blob"],function(e,t){function i(){function e(e,t,i){var n;if(!window.File.prototype.slice)return(n=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?n.call(e,t,i):null;try{return e.slice(),e.slice(t,i)}catch(r){return e.slice(t,i-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))},this.destroy=function(){this.getRuntime().getShim().removeInstance(this.uid)}}return e.Blob=i}),n("moxie/core/utils/Events",["moxie/core/utils/Basic"],function(e){function t(){this.returnValue=!1}function i(){this.cancelBubble=!0}var n={},r="moxie_"+e.guid(),o=function(o,a,s,u){var c,l;a=a.toLowerCase(),o.addEventListener?(c=s,o.addEventListener(a,c,!1)):o.attachEvent&&(c=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=i,s(e)},o.attachEvent("on"+a,c)),o[r]||(o[r]=e.guid()),n.hasOwnProperty(o[r])||(n[o[r]]={}),l=n[o[r]],l.hasOwnProperty(a)||(l[a]=[]),l[a].push({func:c,orig:s,key:u})},a=function(t,i,o){var a,s;if(i=i.toLowerCase(),t[r]&&n[t[r]]&&n[t[r]][i]){a=n[t[r]][i];for(var u=a.length-1;u>=0&&(a[u].orig!==o&&a[u].key!==o||(t.removeEventListener?t.removeEventListener(i,a[u].func,!1):t.detachEvent&&t.detachEvent("on"+i,a[u].func),a[u].orig=null,a[u].func=null,a.splice(u,1),o===s));u--);if(a.length||delete n[t[r]][i],e.isEmptyObj(n[t[r]])){delete n[t[r]];try{delete t[r]}catch(c){t[r]=s}}}},s=function(t,i){t&&t[r]&&e.each(n[t[r]],function(e,n){a(t,n,i)})};return{addEvent:o,removeEvent:a,removeAllEvents:s}}),n("moxie/runtime/html5/file/FileInput",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,r,o,a){function s(){var e,s;i.extend(this,{init:function(u){var c,l,d,m,h,f,p=this,g=p.getRuntime();e=u,d=o.extList2mimes(e.accept,g.can("filter_by_extension")),l=g.getShimContainer(),l.innerHTML='<input id="'+g.uid+'" type="file" style="font-size:999px;opacity:0;"'+(e.multiple&&g.can("select_multiple")?"multiple":"")+(e.directory&&g.can("select_folder")?"webkitdirectory directory":"")+(d?' accept="'+d.join(",")+'"':"")+" />",c=n.get(g.uid),i.extend(c.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),m=n.get(e.browse_button),s=n.getStyle(m,"z-index")||"auto",g.can("summon_file_dialog")&&("static"===n.getStyle(m,"position")&&(m.style.position="relative"),r.addEvent(m,"click",function(e){var t=n.get(g.uid);t&&!t.disabled&&t.click(),e.preventDefault()},p.uid),p.bind("Refresh",function(){h=parseInt(s,10)||1,n.get(e.browse_button).style.zIndex=h,this.getRuntime().getShimContainer().style.zIndex=h-1})),f=g.can("summon_file_dialog")?m:l,r.addEvent(f,"mouseover",function(){p.trigger("mouseenter")},p.uid),r.addEvent(f,"mouseout",function(){p.trigger("mouseleave")},p.uid),r.addEvent(f,"mousedown",function(){p.trigger("mousedown")},p.uid),r.addEvent(n.get(e.container),"mouseup",function(){p.trigger("mouseup")},p.uid),(g.can("summon_file_dialog")?c:m).setAttribute("tabindex",-1),c.onchange=function x(){if(p.files=[],i.each(this.files,function(i){var n="";return e.directory&&"."==i.name?!0:(i.webkitRelativePath&&(n="/"+i.webkitRelativePath.replace(/^\//,"")),i=new t(g.uid,i),i.relativePath=n,p.files.push(i),void 0)}),"IE"!==a.browser&&"IEMobile"!==a.browser)this.value="";else{var n=this.cloneNode(!0);this.parentNode.replaceChild(n,this),n.onchange=x}p.files.length&&p.trigger("change")},p.trigger({type:"ready",async:!0}),l=null},setOption:function(e,t){var i=this.getRuntime(),r=n.get(i.uid);switch(e){case"accept":if(t){var a=t.mimes||o.extList2mimes(t,i.can("filter_by_extension"));r.setAttribute("accept",a.join(","))}else r.removeAttribute("accept");break;case"directory":t&&i.can("select_folder")?(r.setAttribute("directory",""),r.setAttribute("webkitdirectory","")):(r.removeAttribute("directory"),r.removeAttribute("webkitdirectory"));break;case"multiple":t&&i.can("select_multiple")?r.setAttribute("multiple",""):r.removeAttribute("multiple")}},disable:function(e){var t,i=this.getRuntime();(t=n.get(i.uid))&&(t.disabled=!!e)},destroy:function(){var t=this.getRuntime(),i=t.getShim(),o=t.getShimContainer(),a=e&&n.get(e.container),u=e&&n.get(e.browse_button);a&&r.removeAllEvents(a,this.uid),u&&(r.removeAllEvents(u,this.uid),u.style.zIndex=s),o&&(r.removeAllEvents(o,this.uid),o.innerHTML=""),i.removeInstance(this.uid),e=o=a=u=i=null}})}return e.FileInput=s}),n("moxie/runtime/html5/file/FileDrop",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime"],function(e,t,i,n,r,o){function a(){function e(e){if(!e.dataTransfer||!e.dataTransfer.types)return!1;var t=i.toArray(e.dataTransfer.types||[]);return-1!==i.inArray("Files",t)||-1!==i.inArray("public.file-url",t)||-1!==i.inArray("application/x-moz-file",t)}function a(e,i){if(u(e)){var n=new t(f,e);n.relativePath=i||"",p.push(n)}}function s(e){for(var t=[],n=0;n<e.length;n++)[].push.apply(t,e[n].extensions.split(/\s*,\s*/));return-1===i.inArray("*",t)?t:[]}function u(e){if(!g.length)return!0;var t=o.getFileExtension(e.name);return!t||-1!==i.inArray(t,g)}function c(e,t){var n=[];i.each(e,function(e){var t=e.webkitGetAsEntry();t&&(t.isFile?a(e.getAsFile(),t.fullPath):n.push(t))}),n.length?l(n,t):t()}function l(e,t){var n=[];i.each(e,function(e){n.push(function(t){d(e,t)})}),i.inSeries(n,function(){t()})}function d(e,t){e.isFile?e.file(function(i){a(i,e.fullPath),t()},function(){t()}):e.isDirectory?m(e,t):t()}function m(e,t){function i(e){r.readEntries(function(t){t.length?([].push.apply(n,t),i(e)):e()},e)}var n=[],r=e.createReader();i(function(){l(n,t)})}var h,f,p=[],g=[];i.extend(this,{init:function(t){var n,o=this;h=t,f=o.ruid,g=s(h.accept),n=h.container,r.addEvent(n,"dragover",function(t){e(t)&&(t.preventDefault(),t.dataTransfer.dropEffect="copy")},o.uid),r.addEvent(n,"drop",function(t){e(t)&&(t.preventDefault(),p=[],t.dataTransfer.items&&t.dataTransfer.items[0].webkitGetAsEntry?c(t.dataTransfer.items,function(){o.files=p,o.trigger("drop")}):(i.each(t.dataTransfer.files,function(e){a(e)}),o.files=p,o.trigger("drop")))},o.uid),r.addEvent(n,"dragenter",function(){o.trigger("dragenter")},o.uid),r.addEvent(n,"dragleave",function(){o.trigger("dragleave")},o.uid)},destroy:function(){r.removeAllEvents(h&&n.get(h.container),this.uid),f=p=g=h=null,this.getRuntime().getShim().removeInstance(this.uid)}})}return e.FileDrop=a}),n("moxie/runtime/html5/file/FileReader",["moxie/runtime/html5/Runtime","moxie/core/utils/Encode","moxie/core/utils/Basic"],function(e,t,i){function n(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var n,r=!1;i.extend(this,{read:function(t,o){var a=this;a.result="",n=new window.FileReader,n.addEventListener("progress",function(e){a.trigger(e)}),n.addEventListener("load",function(t){a.result=r?e(n.result):n.result,a.trigger(t)}),n.addEventListener("error",function(e){a.trigger(e,n.error)}),n.addEventListener("loadend",function(e){n=null,a.trigger(e)}),"function"===i.typeOf(n[t])?(r=!1,n[t](o.getSource())):"readAsBinaryString"===t&&(r=!0,n.readAsDataURL(o.getSource()))},abort:function(){n&&n.abort()},destroy:function(){n=null,this.getRuntime().getShim().removeInstance(this.uid)}})}return e.FileReader=n}),n("moxie/runtime/html5/xhr/XMLHttpRequest",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Url","moxie/file/File","moxie/file/Blob","moxie/xhr/FormData","moxie/core/Exceptions","moxie/core/utils/Env"],function(e,t,i,n,r,o,a,s,u){function c(){function e(e,t){var i,n,r=this;i=t.getBlob().getSource(),n=new window.FileReader,n.onload=function(){t.append(t.getBlobName(),new o(null,{type:i.type,data:n.result})),f.send.call(r,e,t)},n.readAsBinaryString(i)}function c(){return!window.XMLHttpRequest||"IE"===u.browser&&u.verComp(u.version,8,"<")?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(i){}}():new window.XMLHttpRequest}function l(e){var t=e.responseXML,i=e.responseText;return"IE"===u.browser&&i&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(i)),t&&("IE"===u.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t
}function d(e){var t="----moxieboundary"+(new Date).getTime(),i="--",n="\r\n",r="",a=this.getRuntime();if(!a.can("send_binary_string"))throw new s.RuntimeError(s.RuntimeError.NOT_SUPPORTED_ERR);return m.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each(function(e,a){r+=e instanceof o?i+t+n+'Content-Disposition: form-data; name="'+a+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+n+"Content-Type: "+(e.type||"application/octet-stream")+n+n+e.getSource()+n:i+t+n+'Content-Disposition: form-data; name="'+a+'"'+n+n+unescape(encodeURIComponent(e))+n}),r+=i+t+i+n}var m,h,f=this;t.extend(this,{send:function(i,r){var s=this,l="Mozilla"===u.browser&&u.verComp(u.version,4,">=")&&u.verComp(u.version,7,"<"),f="Android Browser"===u.browser,p=!1;if(h=i.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),m=c(),m.open(i.method,i.url,i.async,i.user,i.password),r instanceof o)r.isDetached()&&(p=!0),r=r.getSource();else if(r instanceof a){if(r.hasBlob())if(r.getBlob().isDetached())r=d.call(s,r),p=!0;else if((l||f)&&"blob"===t.typeOf(r.getBlob().getSource())&&window.FileReader)return e.call(s,i,r),void 0;if(r instanceof a){var g=new window.FormData;r.each(function(e,t){e instanceof o?g.append(t,e.getSource()):g.append(t,e)}),r=g}}m.upload?(i.withCredentials&&(m.withCredentials=!0),m.addEventListener("load",function(e){s.trigger(e)}),m.addEventListener("error",function(e){s.trigger(e)}),m.addEventListener("progress",function(e){s.trigger(e)}),m.upload.addEventListener("progress",function(e){s.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):m.onreadystatechange=function(){switch(m.readyState){case 1:break;case 2:break;case 3:var e,t;try{n.hasSameOrigin(i.url)&&(e=m.getResponseHeader("Content-Length")||0),m.responseText&&(t=m.responseText.length)}catch(r){e=t=0}s.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:m.onreadystatechange=function(){};try{if(m.status>=200&&m.status<400){s.trigger("load");break}}catch(r){}s.trigger("error")}},t.isEmptyObj(i.headers)||t.each(i.headers,function(e,t){m.setRequestHeader(t,e)}),""!==i.responseType&&"responseType"in m&&(m.responseType="json"!==i.responseType||u.can("return_response_type","json")?i.responseType:"text"),p?m.sendAsBinary?m.sendAsBinary(r):function(){for(var e=new Uint8Array(r.length),t=0;t<r.length;t++)e[t]=255&r.charCodeAt(t);m.send(e.buffer)}():m.send(r),s.trigger("loadstart")},getStatus:function(){try{if(m)return m.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var n=new r(t.uid,m.response),o=m.getResponseHeader("Content-Disposition");if(o){var a=o.match(/filename=([\'\"'])([^\1]+)\1/);a&&(h=a[2])}return n.name=h,n.type||(n.type=i.getFileMime(h)),n;case"json":return u.can("return_response_type","json")?m.response:200===m.status&&window.JSON?JSON.parse(m.responseText):null;case"document":return l(m);default:return""!==m.responseText?m.responseText:null}}catch(s){return null}},getAllResponseHeaders:function(){try{return m.getAllResponseHeaders()}catch(e){}return""},abort:function(){m&&m.abort()},destroy:function(){f=h=null,this.getRuntime().getShim().removeInstance(this.uid)}})}return e.XMLHttpRequest=c}),n("moxie/runtime/html5/utils/BinaryReader",["moxie/core/utils/Basic"],function(e){function t(e){e instanceof ArrayBuffer?i.apply(this,arguments):n.apply(this,arguments)}function i(t){var i=new DataView(t);e.extend(this,{readByteAt:function(e){return i.getUint8(e)},writeByteAt:function(e,t){i.setUint8(e,t)},SEGMENT:function(e,n,r){switch(arguments.length){case 2:return t.slice(e,e+n);case 1:return t.slice(e);case 3:if(null===r&&(r=new ArrayBuffer),r instanceof ArrayBuffer){var o=new Uint8Array(this.length()-n+r.byteLength);e>0&&o.set(new Uint8Array(t.slice(0,e)),0),o.set(new Uint8Array(r),e),o.set(new Uint8Array(t.slice(e+n)),e+r.byteLength),this.clear(),t=o.buffer,i=new DataView(t);break}default:return t}},length:function(){return t?t.byteLength:0},clear:function(){i=t=null}})}function n(t){function i(e,i,n){n=3===arguments.length?n:t.length-i-1,t=t.substr(0,i)+e+t.substr(n+i)}e.extend(this,{readByteAt:function(e){return t.charCodeAt(e)},writeByteAt:function(e,t){i(String.fromCharCode(t),e,1)},SEGMENT:function(e,n,r){switch(arguments.length){case 1:return t.substr(e);case 2:return t.substr(e,n);case 3:i(null!==r?r:"",e,n);break;default:return t}},length:function(){return t?t.length:0},clear:function(){t=null}})}return e.extend(t.prototype,{littleEndian:!1,read:function(e,t){var i,n,r;if(e+t>this.length())throw new Error("You are trying to read outside the source boundaries.");for(n=this.littleEndian?0:-8*(t-1),r=0,i=0;t>r;r++)i|=this.readByteAt(e+r)<<Math.abs(n+8*r);return i},write:function(e,t,i){var n,r;if(e>this.length())throw new Error("You are trying to write outside the source boundaries.");for(n=this.littleEndian?0:-8*(i-1),r=0;i>r;r++)this.writeByteAt(e+r,255&t>>Math.abs(n+8*r))},BYTE:function(e){return this.read(e,1)},SHORT:function(e){return this.read(e,2)},LONG:function(e){return this.read(e,4)},SLONG:function(e){var t=this.read(e,4);return t>2147483647?t-4294967296:t},CHAR:function(e){return String.fromCharCode(this.read(e,1))},STRING:function(e,t){return this.asArray("CHAR",e,t).join("")},asArray:function(e,t,i){for(var n=[],r=0;i>r;r++)n[r]=this[e](t+r);return n}}),t}),n("moxie/runtime/html5/image/JPEGHeaders",["moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],function(e,t){return function i(n){var r,o,a,s=[],u=0;if(r=new e(n),65496!==r.SHORT(0))throw r.clear(),new t.ImageError(t.ImageError.WRONG_FORMAT);for(o=2;o<=r.length();)if(a=r.SHORT(o),a>=65488&&65495>=a)o+=2;else{if(65498===a||65497===a)break;u=r.SHORT(o+2)+2,a>=65505&&65519>=a&&s.push({hex:a,name:"APP"+(15&a),start:o,length:u,segment:r.SEGMENT(o,u)}),o+=u}return r.clear(),{headers:s,restore:function(t){var i,n,r;for(r=new e(t),o=65504==r.SHORT(2)?4+r.SHORT(4):2,n=0,i=s.length;i>n;n++)r.SEGMENT(o,0,s[n].segment),o+=s[n].length;return t=r.SEGMENT(),r.clear(),t},strip:function(t){var n,r,o,a;for(o=new i(t),r=o.headers,o.purge(),n=new e(t),a=r.length;a--;)n.SEGMENT(r[a].start,r[a].length,"");return t=n.SEGMENT(),n.clear(),t},get:function(e){for(var t=[],i=0,n=s.length;n>i;i++)s[i].name===e.toUpperCase()&&t.push(s[i].segment);return t},set:function(e,t){var i,n,r,o=[];for("string"==typeof t?o.push(t):o=t,i=n=0,r=s.length;r>i&&(s[i].name===e.toUpperCase()&&(s[i].segment=o[n],s[i].length=o[n].length,n++),!(n>=o.length));i++);},purge:function(){this.headers=s=[]}}}}),n("moxie/runtime/html5/image/ExifParser",["moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],function(e,i,n){function r(o){function a(i,r){var o,a,s,u,c,m,h,f,p=this,g=[],x={},v={1:"BYTE",7:"UNDEFINED",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",9:"SLONG",10:"SRATIONAL"},w={BYTE:1,UNDEFINED:1,ASCII:1,SHORT:2,LONG:4,RATIONAL:8,SLONG:4,SRATIONAL:8};for(o=p.SHORT(i),a=0;o>a;a++)if(g=[],h=i+2+12*a,s=r[p.SHORT(h)],s!==t){if(u=v[p.SHORT(h+=2)],c=p.LONG(h+=2),m=w[u],!m)throw new n.ImageError(n.ImageError.INVALID_META_ERR);if(h+=4,m*c>4&&(h=p.LONG(h)+d.tiffHeader),h+m*c>=this.length())throw new n.ImageError(n.ImageError.INVALID_META_ERR);"ASCII"!==u?(g=p.asArray(u,h,c),f=1==c?g[0]:g,x[s]=l.hasOwnProperty(s)&&"object"!=typeof f?l[s][f]:f):x[s]=e.trim(p.STRING(h,c).replace(/\0$/,""))}return x}function s(e,t,i){var n,r,o,a=0;if("string"==typeof t){var s=c[e.toLowerCase()];for(var u in s)if(s[u]===t){t=u;break}}n=d[e.toLowerCase()+"IFD"],r=this.SHORT(n);for(var l=0;r>l;l++)if(o=n+12*l+2,this.SHORT(o)==t){a=o+8;break}if(!a)return!1;try{this.write(a,i,4)}catch(m){return!1}return!0}var u,c,l,d,m,h;if(i.call(this,o),c={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"},thumb:{513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength"}},l={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},d={tiffHeader:10},m=d.tiffHeader,u={clear:this.clear},e.extend(this,{read:function(){try{return r.prototype.read.apply(this,arguments)}catch(e){throw new n.ImageError(n.ImageError.INVALID_META_ERR)}},write:function(){try{return r.prototype.write.apply(this,arguments)}catch(e){throw new n.ImageError(n.ImageError.INVALID_META_ERR)}},UNDEFINED:function(){return this.BYTE.apply(this,arguments)},RATIONAL:function(e){return this.LONG(e)/this.LONG(e+4)},SRATIONAL:function(e){return this.SLONG(e)/this.SLONG(e+4)},ASCII:function(e){return this.CHAR(e)},TIFF:function(){return h||null},EXIF:function(){var t=null;if(d.exifIFD){try{t=a.call(this,d.exifIFD,c.exif)}catch(i){return null}if(t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var n=0,r="";n<t.ExifVersion.length;n++)r+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=r}}return t},GPS:function(){var t=null;if(d.gpsIFD){try{t=a.call(this,d.gpsIFD,c.gps)}catch(i){return null}t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join("."))}return t},thumb:function(){if(d.IFD1)try{var e=a.call(this,d.IFD1,c.thumb);if("JPEGInterchangeFormat"in e)return this.SEGMENT(d.tiffHeader+e.JPEGInterchangeFormat,e.JPEGInterchangeFormatLength)}catch(t){}return null},setExif:function(e,t){return"PixelXDimension"!==e&&"PixelYDimension"!==e?!1:s.call(this,"exif",e,t)},clear:function(){u.clear(),o=c=l=h=d=u=null}}),65505!==this.SHORT(0)||"EXIF\0"!==this.STRING(4,5).toUpperCase())throw new n.ImageError(n.ImageError.INVALID_META_ERR);if(this.littleEndian=18761==this.SHORT(m),42!==this.SHORT(m+=2))throw new n.ImageError(n.ImageError.INVALID_META_ERR);d.IFD0=d.tiffHeader+this.LONG(m+=2),h=a.call(this,d.IFD0,c.tiff),"ExifIFDPointer"in h&&(d.exifIFD=d.tiffHeader+h.ExifIFDPointer,delete h.ExifIFDPointer),"GPSInfoIFDPointer"in h&&(d.gpsIFD=d.tiffHeader+h.GPSInfoIFDPointer,delete h.GPSInfoIFDPointer),e.isEmptyObj(h)&&(h=null);var f=this.LONG(d.IFD0+12*this.SHORT(d.IFD0)+2);f&&(d.IFD1=d.tiffHeader+f)}return r.prototype=i.prototype,r}),n("moxie/runtime/html5/image/JPEG",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEGHeaders","moxie/runtime/html5/utils/BinaryReader","moxie/runtime/html5/image/ExifParser"],function(e,t,i,n,r){function o(o){function a(e){var t,i,n=0;for(e||(e=c);n<=e.length();){if(t=e.SHORT(n+=2),t>=65472&&65475>=t)return n+=5,{height:e.SHORT(n),width:e.SHORT(n+=2)};i=e.SHORT(n+=2),n+=i-2}return null}function s(){var e,t,i=d.thumb();return i&&(e=new n(i),t=a(e),e.clear(),t)?(t.data=i,t):null}function u(){d&&l&&c&&(d.clear(),l.purge(),c.clear(),m=l=d=c=null)}var c,l,d,m;if(c=new n(o),65496!==c.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);l=new i(o);try{d=new r(l.get("app1")[0])}catch(h){}m=a.call(this),e.extend(this,{type:"image/jpeg",size:c.length(),width:m&&m.width||0,height:m&&m.height||0,setExif:function(t,i){return d?("object"===e.typeOf(t)?e.each(t,function(e,t){d.setExif(t,e)}):d.setExif(t,i),l.set("app1",d.SEGMENT()),void 0):!1},writeHeaders:function(){return arguments.length?l.restore(arguments[0]):l.restore(o)},stripHeaders:function(e){return l.strip(e)},purge:function(){u.call(this)}}),d&&(this.meta={tiff:d.TIFF(),exif:d.EXIF(),gps:d.GPS(),thumb:s()})}return o}),n("moxie/runtime/html5/image/PNG",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],function(e,t,i){function n(n){function r(){var e,t;return e=a.call(this,8),"IHDR"==e.type?(t=e.start,{width:s.LONG(t),height:s.LONG(t+=4)}):null}function o(){s&&(s.clear(),n=l=u=c=s=null)}function a(e){var t,i,n,r;return t=s.LONG(e),i=s.STRING(e+=4,4),n=e+=4,r=s.LONG(e+t),{length:t,type:i,start:n,CRC:r}}var s,u,c,l;s=new i(n),function(){var t=0,i=0,n=[35152,20039,3338,6666];for(i=0;i<n.length;i++,t+=2)if(n[i]!=s.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),l=r.call(this),t.extend(this,{type:"image/png",size:s.length(),width:l.width,height:l.height,purge:function(){o.call(this)}}),o.call(this)}return n}),n("moxie/runtime/html5/image/ImageInfo",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEG","moxie/runtime/html5/image/PNG"],function(e,t,i,n){return function(r){var o,a=[i,n];o=function(){for(var e=0;e<a.length;e++)try{return new a[e](r)}catch(i){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){r=null}}),e.extend(this,o),this.purge=function(){o.purge(),o=null}}}),n("moxie/runtime/html5/image/ResizerCanvas",[],function(){function e(i,n,r){var o=i.width>i.height?"width":"height",a=Math.round(i[o]*n),s=!1;"nearest"!==r&&(.5>n||n>2)&&(n=.5>n?.5:2,s=!0);var u=t(i,n);return s?e(u,a/u[o],r):u}function t(e,t){var i=e.width,n=e.height,r=Math.round(i*t),o=Math.round(n*t),a=document.createElement("canvas");return a.width=r,a.height=o,a.getContext("2d").drawImage(e,0,0,i,n,0,0,r,o),e=null,a}return{scale:e}}),n("moxie/runtime/html5/image/Image",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/utils/Encode","moxie/file/Blob","moxie/file/File","moxie/runtime/html5/image/ImageInfo","moxie/runtime/html5/image/ResizerCanvas","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,r,o,a,s,u){function c(){function e(){if(!v&&!g)throw new i.ImageError(i.DOMException.INVALID_STATE_ERR);return v||g}function c(){var t=e();return"canvas"==t.nodeName.toLowerCase()?t:(v=document.createElement("canvas"),v.width=t.width,v.height=t.height,v.getContext("2d").drawImage(t,0,0),v)}function l(e){return n.atob(e.substring(e.indexOf("base64,")+7))}function d(e,t){return"data:"+(t||"")+";base64,"+n.btoa(e)}function m(e){var t=this;g=new Image,g.onerror=function(){p.call(this),t.trigger("error",i.ImageError.WRONG_FORMAT)},g.onload=function(){t.trigger("load")},g.src="data:"==e.substr(0,5)?e:d(e,y.type)}function h(e,t){var n,r=this;return window.FileReader?(n=new FileReader,n.onload=function(){t.call(r,this.result)},n.onerror=function(){r.trigger("error",i.ImageError.WRONG_FORMAT)},n.readAsDataURL(e),void 0):t.call(this,e.getAsDataURL())}function f(e,i){var n=Math.PI/180,r=document.createElement("canvas"),o=r.getContext("2d"),a=e.width,s=e.height;switch(t.inArray(i,[5,6,7,8])>-1?(r.width=s,r.height=a):(r.width=a,r.height=s),i){case 2:o.translate(a,0),o.scale(-1,1);break;case 3:o.translate(a,s),o.rotate(180*n);break;case 4:o.translate(0,s),o.scale(1,-1);break;case 5:o.rotate(90*n),o.scale(1,-1);break;case 6:o.rotate(90*n),o.translate(0,-s);break;case 7:o.rotate(90*n),o.translate(a,-s),o.scale(-1,1);break;case 8:o.rotate(-90*n),o.translate(-a,0)}return o.drawImage(e,0,0,a,s),r}function p(){x&&(x.purge(),x=null),w=g=v=y=null,b=!1}var g,x,v,w,y,E=this,b=!1,_=!0;t.extend(this,{loadFromBlob:function(e){var t=this.getRuntime(),n=arguments.length>1?arguments[1]:!0;if(!t.can("access_binary"))throw new i.RuntimeError(i.RuntimeError.NOT_SUPPORTED_ERR);return y=e,e.isDetached()?(w=e.getSource(),m.call(this,w),void 0):(h.call(this,e.getSource(),function(e){n&&(w=l(e)),m.call(this,e)}),void 0)},loadFromImage:function(e,t){this.meta=e.meta,y=new o(null,{name:e.name,size:e.size,type:e.type}),m.call(this,t?w=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t,i=this.getRuntime();return!x&&w&&i.can("access_image_binary")&&(x=new a(w)),t={width:e().width||0,height:e().height||0,type:y.type||u.getFileMime(y.name),size:w&&w.length||y.size||0,name:y.name||"",meta:null},_&&(t.meta=x&&x.meta||this.meta||{},!t.meta||!t.meta.thumb||t.meta.thumb.data instanceof r||(t.meta.thumb.data=new r(null,{type:"image/jpeg",data:t.meta.thumb.data}))),t},resize:function(t,i,n){var r=document.createElement("canvas");if(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(e(),t.x,t.y,t.width,t.height,0,0,r.width,r.height),v=s.scale(r,i),_=n.preserveHeaders,!_){var o=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1;v=f(v,o)}this.width=v.width,this.height=v.height,b=!0,this.trigger("Resize")},getAsCanvas:function(){return v||(v=c()),v.id=this.uid+"_canvas",v},getAsBlob:function(e,t){return e!==this.type?(b=!0,new o(null,{name:y.name||"",type:e,data:E.getAsDataURL(e,t)})):new o(null,{name:y.name||"",type:e,data:E.getAsBinaryString(e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!b)return g.src;if(c(),"image/jpeg"!==e)return v.toDataURL("image/png");try{return v.toDataURL("image/jpeg",t/100)}catch(i){return v.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!b)return w||(w=l(E.getAsDataURL(e,t))),w;if("image/jpeg"!==e)w=l(E.getAsDataURL(e,t));else{var i;t||(t=90),c();try{i=v.toDataURL("image/jpeg",t/100)}catch(n){i=v.toDataURL("image/jpeg")}w=l(i),x&&(w=x.stripHeaders(w),_&&(x.meta&&x.meta.exif&&x.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),w=x.writeHeaders(w)),x.purge(),x=null)}return b=!1,w},destroy:function(){E=null,p.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=c}),n("moxie/runtime/flash/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,i,n,o){function a(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(i){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}function s(e){var n=i.get(e);n&&"OBJECT"==n.nodeName&&("IE"===t.browser?(n.style.display="none",function r(){4==n.readyState?u(e):setTimeout(r,10)}()):n.parentNode.removeChild(n))}function u(e){var t=i.get(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function c(u){var c,m=this;u=e.extend({swf_url:t.swf_url},u),o.call(this,u,l,{access_binary:function(e){return e&&"browser"===m.mode},access_image_binary:function(e){return e&&"browser"===m.mode},display_media:o.capTest(r("moxie/image/Image")),do_cors:o.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===m.mode},resize_image:o.capTrue,return_response_headers:!1,return_response_type:function(t){return"json"===t&&window.JSON?!0:!e.arrayDiff(t,["","text","document"])||"browser"===m.mode},return_status_code:function(t){return"browser"===m.mode||!e.arrayDiff(t,[200,404])},select_file:o.capTrue,select_multiple:o.capTrue,send_binary_string:function(e){return e&&"browser"===m.mode},send_browser_cookies:function(e){return e&&"browser"===m.mode},send_custom_headers:function(e){return e&&"browser"===m.mode},send_multipart:o.capTrue,slice_blob:function(e){return e&&"browser"===m.mode},stream_upload:function(e){return e&&"browser"===m.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===m.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},slice_blob:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),a()<11.3&&(this.mode=!1),e.extend(this,{getShim:function(){return i.get(this.uid)},shimExec:function(e,t){var i=[].slice.call(arguments,2);return m.getShim().exec(this.uid,e,t,i)},init:function(){var i,r,a;a=this.getShimContainer(),e.extend(a.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),i='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+u.swf_url+'" ',"IE"===t.browser&&(i+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),i+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+u.swf_url+'" />'+'<param name="flashvars" value="uid='+escape(this.uid)+"&target="+o.getGlobalEventTarget()+'" />'+'<param name="wmode" value="transparent" />'+'<param name="allowscriptaccess" value="always" />'+"</object>","IE"===t.browser?(r=document.createElement("div"),a.appendChild(r),r.outerHTML=i,r=a=null):a.innerHTML=i,c=setTimeout(function(){m&&!m.initialized&&m.trigger("Error",new n.RuntimeError(n.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){s(m.uid),e.call(m),clearTimeout(c),u=c=e=m=null}}(this.destroy)},d)}var l="flash",d={};return o.addConstructor(l,c),d}),n("moxie/runtime/flash/file/Blob",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var i={slice:function(e,i,n,r){var o=this.getRuntime();return 0>i?i=Math.max(e.size+i,0):i>0&&(i=Math.min(i,e.size)),0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),e=o.shimExec.call(this,"Blob","slice",i,n,r||""),e&&(e=new t(o.uid,e)),e}};return e.Blob=i}),n("moxie/runtime/flash/file/FileInput",["moxie/runtime/flash/Runtime","moxie/file/File","moxie/core/utils/Dom","moxie/core/utils/Basic"],function(e,t,i,n){var r={init:function(e){var r=this,o=this.getRuntime(),a=i.get(e.browse_button);a&&(a.setAttribute("tabindex",-1),a=null),this.bind("Change",function(){var e=o.shimExec.call(r,"FileInput","getFiles");r.files=[],n.each(e,function(e){r.files.push(new t(o.uid,e))})},999),this.getRuntime().shimExec.call(this,"FileInput","init",{accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=r}),n("moxie/runtime/flash/file/FileReader",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function i(e,i){switch(i){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var n={read:function(e,t){var n=this;return n.result="","readAsDataURL"===e&&(n.result="data:"+(t.type||"")+";base64,"),n.bind("Progress",function(t,r){r&&(n.result+=i(r,e))},999),n.getRuntime().shimExec.call(this,"FileReader","readAsBase64",t.uid)}};return e.FileReader=n}),n("moxie/runtime/flash/file/FileReaderSync",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function i(e,i){switch(i){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var n={read:function(e,t){var n,r=this.getRuntime();return(n=r.shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(n="data:"+(t.type||"")+";base64,"+n),i(n,e,t.type)):null}};return e.FileReaderSync=n}),n("moxie/runtime/flash/runtime/Transporter",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var i={getAsBlob:function(e){var i=this.getRuntime(),n=i.shimExec.call(this,"Transporter","getAsBlob",e);return n?new t(i.uid,n):null}};return e.Transporter=i}),n("moxie/runtime/flash/xhr/XMLHttpRequest",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/file/File","moxie/file/FileReaderSync","moxie/runtime/flash/file/FileReaderSync","moxie/xhr/FormData","moxie/runtime/Transporter","moxie/runtime/flash/runtime/Transporter"],function(e,t,i,n,r,o,a,s){var u={send:function(e,n){function r(){e.transport=l.mode,l.shimExec.call(c,"XMLHttpRequest","send",e,n)}function o(e,t){l.shimExec.call(c,"XMLHttpRequest","appendBlob",e,t.uid),n=null,r()}function u(e,t){var i=new s;i.bind("TransportingComplete",function(){t(this.result)}),i.transport(e.getSource(),e.type,{ruid:l.uid})}var c=this,l=c.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){l.shimExec.call(c,"XMLHttpRequest","setRequestHeader",t,e.toString())}),n instanceof a){var d;if(n.each(function(e,t){e instanceof i?d=t:l.shimExec.call(c,"XMLHttpRequest","append",t,e)}),n.hasBlob()){var m=n.getBlob();m.isDetached()?u(m,function(e){m.destroy(),o(d,e)}):o(d,m)}else n=null,r()}else n instanceof i?n.isDetached()?u(n,function(e){n.destroy(),n=e.uid,r()}):(n=n.uid,r()):r()},getResponse:function(e){var i,o,a=this.getRuntime();if(o=a.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(o=new n(a.uid,o),"blob"===e)return o;try{if(i=new r,~t.inArray(e,["","text"]))return i.readAsText(o);if("json"===e&&window.JSON)return JSON.parse(i.readAsText(o))}finally{o.destroy()}}return null},abort:function(){var e=this.getRuntime();e.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=u}),n("moxie/runtime/flash/image/Image",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/runtime/Transporter","moxie/file/Blob","moxie/file/FileReaderSync"],function(e,t,i,n,r){var o={loadFromBlob:function(e){function t(e){r.shimExec.call(n,"Image","loadFromBlob",e.uid),n=r=null}var n=this,r=n.getRuntime();if(e.isDetached()){var o=new i;o.bind("TransportingComplete",function(){t(o.result.getSource())}),o.transport(e.getSource(),e.type,{ruid:r.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,"Image","loadFromImage",e.uid)},getInfo:function(){var e=this.getRuntime(),t=e.shimExec.call(this,"Image","getInfo");return t.meta&&t.meta.thumb&&t.meta.thumb.data&&!(e.meta.thumb.data instanceof n)&&(t.meta.thumb.data=new n(e.uid,t.meta.thumb.data)),t},getAsBlob:function(e,t){var i=this.getRuntime(),r=i.shimExec.call(this,"Image","getAsBlob",e,t);return r?new n(i.uid,r):null},getAsDataURL:function(){var e,t=this.getRuntime(),i=t.Image.getAsBlob.apply(this,arguments);return i?(e=new r,e.readAsDataURL(i)):null}};return e.Image=o}),n("moxie/runtime/silverlight/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,i,n,o){function a(e){var t,i,n,r,o,a=!1,s=null,u=0;try{try{s=new ActiveXObject("AgControl.AgControl"),s.IsVersionSupported(e)&&(a=!0),s=null}catch(c){var l=navigator.plugins["Silverlight Plug-In"];if(l){for(t=l.description,"1.0.30226.2"===t&&(t="2.0.30226.2"),i=t.split(".");i.length>3;)i.pop();for(;i.length<4;)i.push(0);for(n=e.split(".");n.length>4;)n.pop();do r=parseInt(n[u],10),o=parseInt(i[u],10),u++;while(u<n.length&&r===o);o>=r&&!isNaN(r)&&(a=!0)}}}catch(d){a=!1}return a}function s(s){var l,d=this;s=e.extend({xap_url:t.xap_url},s),o.call(this,s,u,{access_binary:o.capTrue,access_image_binary:o.capTrue,display_media:o.capTest(r("moxie/image/Image")),do_cors:o.capTrue,drag_and_drop:!1,report_upload_progress:o.capTrue,resize_image:o.capTrue,return_response_headers:function(e){return e&&"client"===d.mode},return_response_type:function(e){return"json"!==e?!0:!!window.JSON},return_status_code:function(t){return"client"===d.mode||!e.arrayDiff(t,[200,404])},select_file:o.capTrue,select_multiple:o.capTrue,send_binary_string:o.capTrue,send_browser_cookies:function(e){return e&&"browser"===d.mode},send_custom_headers:function(e){return e&&"client"===d.mode},send_multipart:o.capTrue,slice_blob:o.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:o.capTrue,use_http_method:function(t){return"client"===d.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),a("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return i.get(this.uid).content.Moxie},shimExec:function(e,t){var i=[].slice.call(arguments,2);return d.getShim().exec(this.uid,e,t,i)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;">'+'<param name="source" value="'+s.xap_url+'"/>'+'<param name="background" value="Transparent"/>'+'<param name="windowless" value="true"/>'+'<param name="enablehtmlaccess" value="true"/>'+'<param name="initParams" value="uid='+this.uid+",target="+o.getGlobalEventTarget()+'"/>'+"</object>",l=setTimeout(function(){d&&!d.initialized&&d.trigger("Error",new n.RuntimeError(n.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(d),clearTimeout(l),s=l=e=d=null}}(this.destroy)},c)}var u="silverlight",c={};return o.addConstructor(u,s),c}),n("moxie/runtime/silverlight/file/Blob",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/Blob"],function(e,t,i){return e.Blob=t.extend({},i)}),n("moxie/runtime/silverlight/file/FileInput",["moxie/runtime/silverlight/Runtime","moxie/file/File","moxie/core/utils/Dom","moxie/core/utils/Basic"],function(e,t,i,n){function r(e){for(var t="",i=0;i<e.length;i++)t+=(""!==t?"|":"")+e[i].title+" | *."+e[i].extensions.replace(/,/g,";*.");return t}var o={init:function(e){var o=this,a=this.getRuntime(),s=i.get(e.browse_button);s&&(s.setAttribute("tabindex",-1),s=null),this.bind("Change",function(){var e=a.shimExec.call(o,"FileInput","getFiles");
o.files=[],n.each(e,function(e){o.files.push(new t(a.uid,e))})},999),a.shimExec.call(this,"FileInput","init",r(e.accept),e.multiple),this.trigger("ready")},setOption:function(e,t){"accept"==e&&(t=r(t)),this.getRuntime().shimExec.call(this,"FileInput","setOption",e,t)}};return e.FileInput=o}),n("moxie/runtime/silverlight/file/FileDrop",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Dom","moxie/core/utils/Events"],function(e,t,i){var n={init:function(){var e,n=this,r=n.getRuntime();return e=r.getShimContainer(),i.addEvent(e,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},n.uid),i.addEvent(e,"dragenter",function(e){e.preventDefault();var i=t.get(r.uid).dragEnter(e);i&&e.stopPropagation()},n.uid),i.addEvent(e,"drop",function(e){e.preventDefault();var i=t.get(r.uid).dragDrop(e);i&&e.stopPropagation()},n.uid),r.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=n}),n("moxie/runtime/silverlight/file/FileReader",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReader"],function(e,t,i){return e.FileReader=t.extend({},i)}),n("moxie/runtime/silverlight/file/FileReaderSync",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReaderSync"],function(e,t,i){return e.FileReaderSync=t.extend({},i)}),n("moxie/runtime/silverlight/runtime/Transporter",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/runtime/Transporter"],function(e,t,i){return e.Transporter=t.extend({},i)}),n("moxie/runtime/silverlight/xhr/XMLHttpRequest",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/xhr/XMLHttpRequest","moxie/runtime/silverlight/file/FileReaderSync","moxie/runtime/silverlight/runtime/Transporter"],function(e,t,i){return e.XMLHttpRequest=t.extend({},i)}),n("moxie/runtime/silverlight/image/Image",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/runtime/flash/image/Image"],function(e,t,i,n){return e.Image=t.extend({},n,{getInfo:function(){var e=this.getRuntime(),n=["tiff","exif","gps","thumb"],r={meta:{}},o=e.shimExec.call(this,"Image","getInfo");return o.meta&&(t.each(n,function(e){var t,i,n,a,s=o.meta[e];if(s&&s.keys)for(r.meta[e]={},i=0,n=s.keys.length;n>i;i++)t=s.keys[i],a=s[t],a&&(/^(\d|[1-9]\d+)$/.test(a)?a=parseInt(a,10):/^\d*\.\d+$/.test(a)&&(a=parseFloat(a)),r.meta[e][t]=a)}),r.meta&&r.meta.thumb&&r.meta.thumb.data&&!(e.meta.thumb.data instanceof i)&&(r.meta.thumb.data=new i(e.uid,r.meta.thumb.data))),r.width=parseInt(o.width,10),r.height=parseInt(o.height,10),r.size=parseInt(o.size,10),r.type=o.type,r.name=o.name,r},resize:function(e,t,i){this.getRuntime().shimExec.call(this,"Image","resize",e.x,e.y,e.width,e.height,t,i.preserveHeaders,i.resample)}})}),n("moxie/runtime/html4/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,i,n){function o(t){var o=this,u=i.capTest,c=i.capTrue;i.call(this,t,a,{access_binary:u(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:u((n.can("create_canvas")||n.can("use_data_uri_over32kb"))&&r("moxie/image/Image")),do_cors:!1,drag_and_drop:!1,filter_by_extension:u(function(){return!("Chrome"===n.browser&&n.verComp(n.version,28,"<")||"IE"===n.browser&&n.verComp(n.version,10,"<")||"Safari"===n.browser&&n.verComp(n.version,7,"<")||"Firefox"===n.browser&&n.verComp(n.version,37,"<"))}()),resize_image:function(){return s.Image&&o.can("access_binary")&&n.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return"json"===t&&window.JSON?!0:!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return n.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return o.can("select_file")},summon_file_dialog:function(){return o.can("select_file")&&!("Firefox"===n.browser&&n.verComp(n.version,4,"<")||"Opera"===n.browser&&n.verComp(n.version,12,"<")||"IE"===n.browser&&n.verComp(n.version,10,"<"))},upload_filesize:c,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(o),e=o=null}}(this.destroy)}),e.extend(this.getShim(),s)}var a="html4",s={};return i.addConstructor(a,o),s}),n("moxie/runtime/html4/file/FileInput",["moxie/runtime/html4/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,r,o,a){function s(){function e(){var o,c,d,m,h,f,p=this,g=p.getRuntime();f=i.guid("uid_"),o=g.getShimContainer(),s&&(d=n.get(s+"_form"),d&&(i.extend(d.style,{top:"100%"}),d.firstChild.setAttribute("tabindex",-1))),m=document.createElement("form"),m.setAttribute("id",f+"_form"),m.setAttribute("method","post"),m.setAttribute("enctype","multipart/form-data"),m.setAttribute("encoding","multipart/form-data"),i.extend(m.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),h=document.createElement("input"),h.setAttribute("id",f),h.setAttribute("type","file"),h.setAttribute("accept",l.join(",")),g.can("summon_file_dialog")&&h.setAttribute("tabindex",-1),i.extend(h.style,{fontSize:"999px",opacity:0}),m.appendChild(h),o.appendChild(m),i.extend(h.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===a.browser&&a.verComp(a.version,10,"<")&&i.extend(h.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),h.onchange=function(){var i;this.value&&(i=this.files?this.files[0]:{name:this.value},i=new t(g.uid,i),this.onchange=function(){},e.call(p),p.files=[i],h.setAttribute("id",i.uid),m.setAttribute("id",i.uid+"_form"),p.trigger("change"),h=m=null)},g.can("summon_file_dialog")&&(c=n.get(u.browse_button),r.removeEvent(c,"click",p.uid),r.addEvent(c,"click",function(e){h&&!h.disabled&&h.click(),e.preventDefault()},p.uid)),s=f,o=d=c=null}var s,u,c,l=[];i.extend(this,{init:function(t){var i,a=this,s=a.getRuntime();u=t,l=o.extList2mimes(t.accept,s.can("filter_by_extension")),i=s.getShimContainer(),function(){var e,o,l;e=n.get(t.browse_button),c=n.getStyle(e,"z-index")||"auto",s.can("summon_file_dialog")?("static"===n.getStyle(e,"position")&&(e.style.position="relative"),a.bind("Refresh",function(){o=parseInt(c,10)||1,n.get(u.browse_button).style.zIndex=o,this.getRuntime().getShimContainer().style.zIndex=o-1})):e.setAttribute("tabindex",-1),l=s.can("summon_file_dialog")?e:i,r.addEvent(l,"mouseover",function(){a.trigger("mouseenter")},a.uid),r.addEvent(l,"mouseout",function(){a.trigger("mouseleave")},a.uid),r.addEvent(l,"mousedown",function(){a.trigger("mousedown")},a.uid),r.addEvent(n.get(t.container),"mouseup",function(){a.trigger("mouseup")},a.uid),e=null}(),e.call(this),i=null,a.trigger({type:"ready",async:!0})},setOption:function(e,t){var i,r=this.getRuntime();"accept"==e&&(l=t.mimes||o.extList2mimes(t,r.can("filter_by_extension"))),i=n.get(s),i&&i.setAttribute("accept",l.join(","))},disable:function(e){var t;(t=n.get(s))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),i=e.getShimContainer(),o=u&&n.get(u.container),a=u&&n.get(u.browse_button);o&&r.removeAllEvents(o,this.uid),a&&(r.removeAllEvents(a,this.uid),a.style.zIndex=c),i&&(r.removeAllEvents(i,this.uid),i.innerHTML=""),t.removeInstance(this.uid),s=l=u=i=o=a=t=null}})}return e.FileInput=s}),n("moxie/runtime/html4/file/FileReader",["moxie/runtime/html4/Runtime","moxie/runtime/html5/file/FileReader"],function(e,t){return e.FileReader=t}),n("moxie/runtime/html4/xhr/XMLHttpRequest",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Url","moxie/core/Exceptions","moxie/core/utils/Events","moxie/file/Blob","moxie/xhr/FormData"],function(e,t,i,n,r,o,a,s){function u(){function e(e){var t,n,r,a,s=this,u=!1;if(l){if(t=l.id.replace(/_iframe$/,""),n=i.get(t+"_form")){for(r=n.getElementsByTagName("input"),a=r.length;a--;)switch(r[a].getAttribute("type")){case"hidden":r[a].parentNode.removeChild(r[a]);break;case"file":u=!0}r=[],u||n.parentNode.removeChild(n),n=null}setTimeout(function(){o.removeEvent(l,"load",s.uid),l.parentNode&&l.parentNode.removeChild(l);var t=s.getRuntime().getShimContainer();t.children.length||t.parentNode.removeChild(t),t=l=null,e()},1)}}var u,c,l;t.extend(this,{send:function(d,m){function h(){var i=w.getShimContainer()||document.body,r=document.createElement("div");r.innerHTML='<iframe id="'+f+'_iframe" name="'+f+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',l=r.firstChild,i.appendChild(l),o.addEvent(l,"load",function(){var i;try{i=l.contentWindow.document||l.contentDocument||window.frames[l.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(i.title)?u=i.title.replace(/^(\d+).*$/,"$1"):(u=200,c=t.trim(i.body.innerHTML),v.trigger({type:"progress",loaded:c.length,total:c.length}),x&&v.trigger({type:"uploadprogress",loaded:x.size||1025,total:x.size||1025}))}catch(r){if(!n.hasSameOrigin(d.url))return e.call(v,function(){v.trigger("error")}),void 0;u=404}e.call(v,function(){v.trigger("load")})},v.uid)}var f,p,g,x,v=this,w=v.getRuntime();if(u=c=null,m instanceof s&&m.hasBlob()){if(x=m.getBlob(),f=x.uid,g=i.get(f),p=i.get(f+"_form"),!p)throw new r.DOMException(r.DOMException.NOT_FOUND_ERR)}else f=t.guid("uid_"),p=document.createElement("form"),p.setAttribute("id",f+"_form"),p.setAttribute("method",d.method),p.setAttribute("enctype","multipart/form-data"),p.setAttribute("encoding","multipart/form-data"),w.getShimContainer().appendChild(p);p.setAttribute("target",f+"_iframe"),m instanceof s&&m.each(function(e,i){if(e instanceof a)g&&g.setAttribute("name",i);else{var n=document.createElement("input");t.extend(n,{type:"hidden",name:i,value:e}),g?p.insertBefore(n,g):p.appendChild(n)}}),p.setAttribute("action",d.url),h(),p.submit(),v.trigger("loadstart")},getStatus:function(){return u},getResponse:function(e){if("json"===e&&"string"===t.typeOf(c)&&window.JSON)try{return JSON.parse(c.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(i){return null}return c},abort:function(){var t=this;l&&l.contentWindow&&(l.contentWindow.stop?l.contentWindow.stop():l.contentWindow.document.execCommand?l.contentWindow.document.execCommand("Stop"):l.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})},destroy:function(){this.getRuntime().getShim().removeInstance(this.uid)}})}return e.XMLHttpRequest=u}),n("moxie/runtime/html4/image/Image",["moxie/runtime/html4/Runtime","moxie/runtime/html5/image/Image"],function(e,t){return e.Image=t}),a(["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Dom","moxie/core/EventTarget","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/file/Blob","moxie/core/I18n","moxie/core/utils/Mime","moxie/file/FileInput","moxie/file/File","moxie/file/FileDrop","moxie/file/FileReader","moxie/core/utils/Url","moxie/runtime/RuntimeTarget","moxie/xhr/FormData","moxie/xhr/XMLHttpRequest","moxie/image/Image","moxie/core/utils/Events","moxie/runtime/html5/image/ResizerCanvas"])}(this)});
/**
 * Plupload - multi-runtime File Uploader
 * v2.3.6
 *
 * Copyright 2013, Moxiecode Systems AB
 * Released under GPL License.
 *
 * License: http://www.plupload.com/license
 * Contributing: http://www.plupload.com/contributing
 *
 * Date: 2017-11-03
 */
!function(e,t){var i=function(){var e={};return t.apply(e,arguments),e.plupload}; true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__WEBPACK_LOCAL_MODULE_0__], __WEBPACK_AMD_DEFINE_FACTORY__ = (i),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):"object"==typeof module&&module.exports?module.exports=i(require("./moxie")):e.plupload=i(e.moxie)}(this||window,function(e){!function(e,t,i){function n(e){function t(e,t,i){var r={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",urlstream_upload:"send_binary_string",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};r[e]?n[r[e]]=t:i||(n[e]=t)}var i=e.required_features,n={};return"string"==typeof i?l.each(i.split(/\s*,\s*/),function(e){t(e,!0)}):"object"==typeof i?l.each(i,function(e,i){t(i,e)}):i===!0&&(e.chunk_size&&e.chunk_size>0&&(n.slice_blob=!0),l.isEmptyObj(e.resize)&&e.multipart!==!1||(n.send_binary_string=!0),e.http_method&&(n.use_http_method=e.http_method),l.each(e,function(e,i){t(i,!!e,!0)})),n}var r=window.setTimeout,s={},a=t.core.utils,o=t.runtime.Runtime,l={VERSION:"2.3.6",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,moxie:t,mimeTypes:a.Mime.mimes,ua:a.Env,typeOf:a.Basic.typeOf,extend:a.Basic.extend,guid:a.Basic.guid,getAll:function(e){var t,i=[];"array"!==l.typeOf(e)&&(e=[e]);for(var n=e.length;n--;)t=l.get(e[n]),t&&i.push(t);return i.length?i:null},get:a.Dom.get,each:a.Basic.each,getPos:a.Dom.getPos,getSize:a.Dom.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},i=/[<>&\"\']/g;return e?(""+e).replace(i,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:a.Basic.toArray,inArray:a.Basic.inArray,inSeries:a.Basic.inSeries,addI18n:t.core.I18n.addI18n,translate:t.core.I18n.translate,sprintf:a.Basic.sprintf,isEmptyObj:a.Basic.isEmptyObj,hasClass:a.Dom.hasClass,addClass:a.Dom.addClass,removeClass:a.Dom.removeClass,getStyle:a.Dom.getStyle,addEvent:a.Events.addEvent,removeEvent:a.Events.removeEvent,removeAllEvents:a.Events.removeAllEvents,cleanName:function(e){var t,i;for(i=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<i.length;t+=2)e=e.replace(i[t],i[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(e,t){var i="";return l.each(t,function(e,t){i+=(i?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),i&&(e+=(e.indexOf("?")>0?"&":"?")+i),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===i||/\D/.test(e))return l.translate("N/A");var n=Math.pow(1024,4);return e>n?t(e/n,1)+" "+l.translate("tb"):e>(n/=1024)?t(e/n,1)+" "+l.translate("gb"):e>(n/=1024)?t(e/n,1)+" "+l.translate("mb"):e>1024?Math.round(e/1024)+" "+l.translate("kb"):e+" "+l.translate("b")},parseSize:a.Basic.parseSizeStr,predictRuntime:function(e,t){var i,n;return i=new l.Uploader(e),n=o.thatCan(i.getOption().required_features,t||e.runtimes),i.destroy(),n},addFileFilter:function(e,t){s[e]=t}};l.addFileFilter("mime_types",function(e,t,i){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:l.FILE_EXTENSION_ERROR,message:l.translate("File extension error."),file:t}),i(!1)):i(!0)}),l.addFileFilter("max_file_size",function(e,t,i){var n;e=l.parseSize(e),t.size!==n&&e&&t.size>e?(this.trigger("Error",{code:l.FILE_SIZE_ERROR,message:l.translate("File size error."),file:t}),i(!1)):i(!0)}),l.addFileFilter("prevent_duplicates",function(e,t,i){if(e)for(var n=this.files.length;n--;)if(t.name===this.files[n].name&&t.size===this.files[n].size)return this.trigger("Error",{code:l.FILE_DUPLICATE_ERROR,message:l.translate("Duplicate file error."),file:t}),i(!1),void 0;i(!0)}),l.addFileFilter("prevent_empty",function(e,t,n){e&&!t.size&&t.size!==i?(this.trigger("Error",{code:l.FILE_SIZE_ERROR,message:l.translate("File size error."),file:t}),n(!1)):n(!0)}),l.Uploader=function(e){function a(){var e,t,i=0;if(this.state==l.STARTED){for(t=0;t<D.length;t++)e||D[t].status!=l.QUEUED?i++:(e=D[t],this.trigger("BeforeUpload",e)&&(e.status=l.UPLOADING,this.trigger("UploadFile",e)));i==D.length&&(this.state!==l.STOPPED&&(this.state=l.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",D))}}function u(e){e.percent=e.size>0?Math.ceil(100*(e.loaded/e.size)):100,d()}function d(){var e,t,n,r=0;for(I.reset(),e=0;e<D.length;e++)t=D[e],t.size!==i?(I.size+=t.origSize,n=t.loaded*t.origSize/t.size,(!t.completeTimestamp||t.completeTimestamp>S)&&(r+=n),I.loaded+=n):I.size=i,t.status==l.DONE?I.uploaded++:t.status==l.FAILED?I.failed++:I.queued++;I.size===i?I.percent=D.length>0?Math.ceil(100*(I.uploaded/D.length)):0:(I.bytesPerSec=Math.ceil(r/((+new Date-S||1)/1e3)),I.percent=I.size>0?Math.ceil(100*(I.loaded/I.size)):0)}function c(){var e=F[0]||P[0];return e?e.getRuntime().uid:!1}function f(){this.bind("FilesAdded FilesRemoved",function(e){e.trigger("QueueChanged"),e.refresh()}),this.bind("CancelUpload",b),this.bind("BeforeUpload",m),this.bind("UploadFile",_),this.bind("UploadProgress",E),this.bind("StateChanged",v),this.bind("QueueChanged",d),this.bind("Error",R),this.bind("FileUploaded",y),this.bind("Destroy",z)}function p(e,i){var n=this,r=0,s=[],a={runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:x,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};l.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(a[t]=e[t])}),e.browse_button&&l.each(e.browse_button,function(i){s.push(function(s){var u=new t.file.FileInput(l.extend({},a,{accept:e.filters.mime_types,name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:i}));u.onready=function(){var e=o.getInfo(this.ruid);l.extend(n.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),r++,F.push(this),s()},u.onchange=function(){n.addFile(this.files)},u.bind("mouseenter mouseleave mousedown mouseup",function(t){U||(e.browse_button_hover&&("mouseenter"===t.type?l.addClass(i,e.browse_button_hover):"mouseleave"===t.type&&l.removeClass(i,e.browse_button_hover)),e.browse_button_active&&("mousedown"===t.type?l.addClass(i,e.browse_button_active):"mouseup"===t.type&&l.removeClass(i,e.browse_button_active)))}),u.bind("mousedown",function(){n.trigger("Browse")}),u.bind("error runtimeerror",function(){u=null,s()}),u.init()})}),e.drop_element&&l.each(e.drop_element,function(e){s.push(function(i){var s=new t.file.FileDrop(l.extend({},a,{drop_zone:e}));s.onready=function(){var e=o.getInfo(this.ruid);l.extend(n.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),dragdrop:e.can("drag_and_drop")}),r++,P.push(this),i()},s.ondrop=function(){n.addFile(this.files)},s.bind("error runtimeerror",function(){s=null,i()}),s.init()})}),l.inSeries(s,function(){"function"==typeof i&&i(r)})}function g(e,n,r,s){var a=new t.image.Image;try{a.onload=function(){n.width>this.width&&n.height>this.height&&n.quality===i&&n.preserve_headers&&!n.crop?(this.destroy(),s(e)):a.downsize(n.width,n.height,n.crop,n.preserve_headers)},a.onresize=function(){var t=this.getAsBlob(e.type,n.quality);this.destroy(),s(t)},a.bind("error runtimeerror",function(){this.destroy(),s(e)}),a.load(e,r)}catch(o){s(e)}}function h(e,i,r){function s(e,i,n){var r=O[e];switch(e){case"max_file_size":"max_file_size"===e&&(O.max_file_size=O.filters.max_file_size=i);break;case"chunk_size":(i=l.parseSize(i))&&(O[e]=i,O.send_file_name=!0);break;case"multipart":O[e]=i,i||(O.send_file_name=!0);break;case"http_method":O[e]="PUT"===i.toUpperCase()?"PUT":"POST";break;case"unique_names":O[e]=i,i&&(O.send_file_name=!0);break;case"filters":"array"===l.typeOf(i)&&(i={mime_types:i}),n?l.extend(O.filters,i):O.filters=i,i.mime_types&&("string"===l.typeOf(i.mime_types)&&(i.mime_types=t.core.utils.Mime.mimes2extList(i.mime_types)),i.mime_types.regexp=function(e){var t=[];return l.each(e,function(e){l.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}(i.mime_types),O.filters.mime_types=i.mime_types);break;case"resize":O.resize=i?l.extend({preserve_headers:!0,crop:!1},i):!1;break;case"prevent_duplicates":O.prevent_duplicates=O.filters.prevent_duplicates=!!i;break;case"container":case"browse_button":case"drop_element":i="container"===e?l.get(i):l.getAll(i);case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":O[e]=i,n||(u=!0);break;default:O[e]=i}n||a.trigger("OptionChanged",e,i,r)}var a=this,u=!1;"object"==typeof e?l.each(e,function(e,t){s(t,e,r)}):s(e,i,r),r?(O.required_features=n(l.extend({},O)),x=n(l.extend({},O,{required_features:!0}))):u&&(a.trigger("Destroy"),p.call(a,O,function(e){e?(a.runtime=o.getInfo(c()).type,a.trigger("Init",{runtime:a.runtime}),a.trigger("PostInit")):a.trigger("Error",{code:l.INIT_ERROR,message:l.translate("Init error.")})}))}function m(e,t){if(e.settings.unique_names){var i=t.name.match(/\.([^.]+)$/),n="part";i&&(n=i[1]),t.target_name=t.id+"."+n}}function _(e,i){function n(){c-->0?r(s,1e3):(i.loaded=p,e.trigger("Error",{code:l.HTTP_ERROR,message:l.translate("HTTP Error."),file:i,response:T.responseText,status:T.status,responseHeaders:T.getAllResponseHeaders()}))}function s(){var t,n,r={};i.status===l.UPLOADING&&e.state!==l.STOPPED&&(e.settings.send_file_name&&(r.name=i.target_name||i.name),d&&f.chunks&&o.size>d?(n=Math.min(d,o.size-p),t=o.slice(p,p+n)):(n=o.size,t=o),d&&f.chunks&&(e.settings.send_chunk_number?(r.chunk=Math.ceil(p/d),r.chunks=Math.ceil(o.size/d)):(r.offset=p,r.total=o.size)),e.trigger("BeforeChunkUpload",i,r,t,p)&&a(r,t,n))}function a(a,d,g){var m;T=new t.xhr.XMLHttpRequest,T.upload&&(T.upload.onprogress=function(t){i.loaded=Math.min(i.size,p+t.loaded),e.trigger("UploadProgress",i)}),T.onload=function(){return T.status<200||T.status>=400?(n(),void 0):(c=e.settings.max_retries,g<o.size?(d.destroy(),p+=g,i.loaded=Math.min(p,o.size),e.trigger("ChunkUploaded",i,{offset:i.loaded,total:o.size,response:T.responseText,status:T.status,responseHeaders:T.getAllResponseHeaders()}),"Android Browser"===l.ua.browser&&e.trigger("UploadProgress",i)):i.loaded=i.size,d=m=null,!p||p>=o.size?(i.size!=i.origSize&&(o.destroy(),o=null),e.trigger("UploadProgress",i),i.status=l.DONE,i.completeTimestamp=+new Date,e.trigger("FileUploaded",i,{response:T.responseText,status:T.status,responseHeaders:T.getAllResponseHeaders()})):r(s,1),void 0)},T.onerror=function(){n()},T.onloadend=function(){this.destroy()},e.settings.multipart&&f.multipart?(T.open(e.settings.http_method,u,!0),l.each(e.settings.headers,function(e,t){T.setRequestHeader(t,e)}),m=new t.xhr.FormData,l.each(l.extend(a,e.settings.multipart_params),function(e,t){m.append(t,e)}),m.append(e.settings.file_data_name,d),T.send(m,h)):(u=l.buildUrl(e.settings.url,l.extend(a,e.settings.multipart_params)),T.open(e.settings.http_method,u,!0),l.each(e.settings.headers,function(e,t){T.setRequestHeader(t,e)}),T.hasRequestHeader("Content-Type")||T.setRequestHeader("Content-Type","application/octet-stream"),T.send(d,h))}var o,u=e.settings.url,d=e.settings.chunk_size,c=e.settings.max_retries,f=e.features,p=0,h={runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:x,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url};i.loaded&&(p=i.loaded=d?d*Math.floor(i.loaded/d):0),o=i.getSource(),l.isEmptyObj(e.settings.resize)||-1===l.inArray(o.type,["image/jpeg","image/png"])?s():g(o,e.settings.resize,h,function(e){o=e,i.size=e.size,s()})}function E(e,t){u(t)}function v(e){if(e.state==l.STARTED)S=+new Date;else if(e.state==l.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==l.UPLOADING&&(e.files[t].status=l.QUEUED,d())}function b(){T&&T.abort()}function y(e){d(),r(function(){a.call(e)},1)}function R(e,t){t.code===l.INIT_ERROR?e.destroy():t.code===l.HTTP_ERROR&&(t.file.status=l.FAILED,t.file.completeTimestamp=+new Date,u(t.file),e.state==l.STARTED&&(e.trigger("CancelUpload"),r(function(){a.call(e)},1)))}function z(e){e.stop(),l.each(D,function(e){e.destroy()}),D=[],F.length&&(l.each(F,function(e){e.destroy()}),F=[]),P.length&&(l.each(P,function(e){e.destroy()}),P=[]),x={},U=!1,S=T=null,I.reset()}var O,S,I,T,w=l.guid(),D=[],x={},F=[],P=[],U=!1;O={chunk_size:0,file_data_name:"file",filters:{mime_types:[],max_file_size:0,prevent_duplicates:!1,prevent_empty:!0},flash_swf_url:"js/Moxie.swf",http_method:"POST",max_retries:0,multipart:!0,multi_selection:!0,resize:!1,runtimes:o.order,send_file_name:!0,send_chunk_number:!0,silverlight_xap_url:"js/Moxie.xap"},h.call(this,e,null,!0),I=new l.QueueProgress,l.extend(this,{id:w,uid:w,state:l.STOPPED,features:{},runtime:null,files:D,settings:O,total:I,init:function(){var e,t,i=this;return e=i.getOption("preinit"),"function"==typeof e?e(i):l.each(e,function(e,t){i.bind(t,e)}),f.call(i),l.each(["container","browse_button","drop_element"],function(e){return null===i.getOption(e)?(t={code:l.INIT_ERROR,message:l.sprintf(l.translate("%s specified, but cannot be found."),e)},!1):void 0}),t?i.trigger("Error",t):O.browse_button||O.drop_element?(p.call(i,O,function(e){var t=i.getOption("init");"function"==typeof t?t(i):l.each(t,function(e,t){i.bind(t,e)}),e?(i.runtime=o.getInfo(c()).type,i.trigger("Init",{runtime:i.runtime}),i.trigger("PostInit")):i.trigger("Error",{code:l.INIT_ERROR,message:l.translate("Init error.")})}),void 0):i.trigger("Error",{code:l.INIT_ERROR,message:l.translate("You must specify either browse_button or drop_element.")})},setOption:function(e,t){h.call(this,e,t,!this.runtime)},getOption:function(e){return e?O[e]:O},refresh:function(){F.length&&l.each(F,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=l.STARTED&&(this.state=l.STARTED,this.trigger("StateChanged"),a.call(this))},stop:function(){this.state!=l.STOPPED&&(this.state=l.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){U=arguments[0]!==i?arguments[0]:!0,F.length&&l.each(F,function(e){e.disable(U)}),this.trigger("DisableBrowse",U)},getFile:function(e){var t;for(t=D.length-1;t>=0;t--)if(D[t].id===e)return D[t]},addFile:function(e,i){function n(e,t){var i=[];l.each(u.settings.filters,function(t,n){s[n]&&i.push(function(i){s[n].call(u,t,e,function(e){i(!e)})})}),l.inSeries(i,t)}function a(e){var s=l.typeOf(e);if(e instanceof t.file.File){if(!e.ruid&&!e.isDetached()){if(!o)return!1;e.ruid=o,e.connectRuntime(o)}a(new l.File(e))}else e instanceof t.file.Blob?(a(e.getSource()),e.destroy()):e instanceof l.File?(i&&(e.name=i),d.push(function(t){n(e,function(i){i||(D.push(e),f.push(e),u.trigger("FileFiltered",e)),r(t,1)})})):-1!==l.inArray(s,["file","blob"])?a(new t.file.File(null,e)):"node"===s&&"filelist"===l.typeOf(e.files)?l.each(e.files,a):"array"===s&&(i=null,l.each(e,a))}var o,u=this,d=[],f=[];o=c(),a(e),d.length&&l.inSeries(d,function(){f.length&&u.trigger("FilesAdded",f)})},removeFile:function(e){for(var t="string"==typeof e?e:e.id,i=D.length-1;i>=0;i--)if(D[i].id===t)return this.splice(i,1)[0]},splice:function(e,t){var n=D.splice(e===i?0:e,t===i?D.length:t),r=!1;return this.state==l.STARTED&&(l.each(n,function(e){return e.status===l.UPLOADING?(r=!0,!1):void 0}),r&&this.stop()),this.trigger("FilesRemoved",n),l.each(n,function(e){e.destroy()}),r&&this.start(),n},dispatchEvent:function(e){var t,i;if(e=e.toLowerCase(),t=this.hasEventListener(e)){t.sort(function(e,t){return t.priority-e.priority}),i=[].slice.call(arguments),i.shift(),i.unshift(this);for(var n=0;n<t.length;n++)if(t[n].fn.apply(t[n].scope,i)===!1)return!1}return!0},bind:function(e,t,i,n){l.Uploader.prototype.bind.call(this,e,t,n,i)},destroy:function(){this.trigger("Destroy"),O=I=null,this.unbindAll()}})},l.Uploader.prototype=t.core.EventTarget.instance,l.File=function(){function e(e){l.extend(this,{id:l.guid(),name:e.name||e.fileName,type:e.type||"",relativePath:e.relativePath||"",size:e.fileSize||e.size,origSize:e.fileSize||e.size,loaded:0,percent:0,status:l.QUEUED,lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString(),completeTimestamp:0,getNative:function(){var e=this.getSource().getSource();return-1!==l.inArray(l.typeOf(e),["blob","file"])?e:null},getSource:function(){return t[this.id]?t[this.id]:null},destroy:function(){var e=this.getSource();e&&(e.destroy(),delete t[this.id])}}),t[this.id]=e}var t={};return e}(),l.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=l}(this,e)});

/***/ })

},["./assets/js/setting.js"]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvanMvc2V0dGluZy5qcyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvbW9kdWxlcy91cGxvYWQtZmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGx1cGxvYWQvanMvcGx1cGxvYWQuZnVsbC5taW4uanMiXSwibmFtZXMiOlsiJGNoYW5nZVByb2ZpbGVGb3JtIiwiJCIsImxlbmd0aCIsIiR1cGxvYWRDb3ZlciIsIiRhdmF0YXIiLCIkcHJldmlld0ltYWdlIiwiZmluZCIsIm9uVXBsb2FkZWQiLCJyZXN1bHQiLCJzdGF0dXMiLCJyZXNwb25zZSIsInBhcnNlSlNPTiIsImFkZENsYXNzIiwidmFsIiwia2V5IiwiYXR0ciIsInRodW1iIiwiZGlhbG9nIiwibWVzc2FnZSIsIlRyYW5zbGF0b3IiLCJ0cmFucyIsImhlYWRlcnMiLCJ2YWxpZGF0ZSIsInN1Ym1pdEhhbmRsZXIiLCJmbGFzaCIsIm1lc3NhZ2VzIiwicmVxdWlyZWQiLCJVcGxvYWRGaWxlIiwic2VsZWN0b3JJZCIsIm9wdGlvbnMiLCJleHRlbmQiLCJmaWxlIiwib25FcnJvciIsImVycm9yIiwiY29kZSIsInVwbG9hZGVyIiwiVXBsb2FkZXIiLCJydW50aW1lcyIsImJyb3dzZV9idXR0b24iLCJ1cmwiLCJyb3V0ZSIsImdldFJvdXRlUGF0aCIsImZpbGVfZGF0YV9uYW1lIiwiZmlsdGVycyIsIm1heF9maWxlX3NpemUiLCJtaW1lX3R5cGVzIiwidGl0bGUiLCJleHRlbnNpb25zIiwiaW5pdCIsIkZpbGVzQWRkZWQiLCJzdGFydCIsIkZpbGVVcGxvYWRlZCIsIkVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozt5Q0FBQTs7QUFFQTs7QUFDQTs7QUFDQTs7OztBQUNBOzs7Ozs7QUFFQTtBQUNBLENBQUMsWUFBVTs7QUFFUCxRQUFNQSxxQkFBcUJDLEVBQUUsc0JBQUYsQ0FBM0I7O0FBRUEsUUFBSUQsbUJBQW1CRSxNQUFuQixHQUE0QixDQUFoQyxFQUFvQztBQUNoQyxZQUFNQyxlQUFlRixFQUFFLGVBQUYsQ0FBckI7QUFDQSxZQUFNRyxVQUFTSCxFQUFFLDZCQUFGLENBQWY7QUFDQSxZQUFJRSxhQUFhRCxNQUFiLEdBQXNCLENBQTFCLEVBQTZCO0FBQ3pCLGdCQUFNRyxnQkFBZ0JGLGFBQWFHLElBQWIsQ0FBa0IsdUJBQWxCLENBQXRCO0FBQ0EscUNBQWUsWUFBZixFQUE2QjtBQUN6QkMsNEJBQVksb0JBQUNDLE1BQUQsRUFBWTtBQUNwQix3QkFBSUEsT0FBT0MsTUFBUCxLQUFrQixHQUF0QixFQUEyQjtBQUN2Qiw0QkFBTUMsV0FBV1QsRUFBRVUsU0FBRixDQUFZSCxPQUFPRSxRQUFuQixDQUFqQjtBQUNBUCxxQ0FBYVMsUUFBYixDQUFzQixVQUF0QjtBQUNBUixnQ0FBUVMsR0FBUixDQUFZSCxTQUFTSSxHQUFyQjtBQUNBVCxzQ0FBY1UsSUFBZCxDQUFtQixLQUFuQixFQUEwQkwsU0FBU00sS0FBbkM7QUFDSCxxQkFMRCxNQUtPO0FBQ0gsdUNBQUtDLE1BQUwsQ0FBWUMsT0FBWixDQUFvQlYsT0FBT0UsUUFBUCxDQUFnQlEsT0FBaEIsSUFBMkJDLFdBQVdDLEtBQVgsQ0FBaUIsaUJBQWpCLENBQS9DO0FBQ0g7QUFDSixpQkFWd0I7QUFXekJDLHlCQUFTO0FBQ0wscUNBQWlCO0FBRFo7QUFYZ0IsYUFBN0I7QUFlSDtBQUNEckIsMkJBQW1Cc0IsUUFBbkIsQ0FBNEI7QUFDeEJDLDJCQUFlLHlCQUFNO0FBQ2pCLG9CQUFJbkIsUUFBUVMsR0FBUixHQUFjWCxNQUFkLEtBQXlCLENBQTdCLEVBQWdDO0FBQzVCLG1DQUFLZSxNQUFMLENBQVlDLE9BQVosQ0FBb0JDLFdBQVdDLEtBQVgsQ0FBaUIsMkJBQWpCLENBQXBCLEVBQW1FSSxLQUFuRTtBQUNBLDJCQUFPLEtBQVA7QUFDSDtBQUNELHVCQUFPLElBQVA7QUFDSCxhQVB1QjtBQVF4QkMsc0JBQVU7QUFDTiw4Q0FBOEI7QUFDMUJDLDhCQUFVUCxXQUFXQyxLQUFYLENBQWlCLDBCQUFqQjtBQURnQixpQkFEeEI7QUFJTiwrQ0FBK0I7QUFDM0JNLDhCQUFVUCxXQUFXQyxLQUFYLENBQWlCLDJCQUFqQjtBQURpQixpQkFKekI7QUFPTixvREFBb0M7QUFDaENNLDhCQUFTUCxXQUFXQyxLQUFYLENBQWlCLGdDQUFqQjtBQUR1QjtBQVA5QjtBQVJjLFNBQTVCO0FBb0JIO0FBRUosQ0EvQ0QsRUErQ0duQixDQS9DSCxFOzs7Ozs7Ozs7Ozs7OztBQ1JBOzs7Ozs7Ozs7Ozs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0lBRU0wQixVO0FBQ0Ysd0JBQVlDLFVBQVosRUFBd0JDLE9BQXhCLEVBQWdDO0FBQUE7O0FBQUE7OztBQUU1QixhQUFLRCxVQUFMLEdBQWtCQSxVQUFsQjtBQUNBLGFBQUtDLE9BQUwsR0FBZSxpQkFBRUMsTUFBRixDQUFTO0FBQ3BCVCxxQkFBUyxFQURXO0FBSXBCZCx3QkFBWSxvQkFBQ0csUUFBRCxFQUFXcUIsSUFBWCxFQUFvQixDQUMvQixDQUxtQjtBQU1wQkMscUJBQVMsaUJBQUNDLEtBQUQsRUFBVztBQUNoQiwrQkFBS2hCLE1BQUwsQ0FBWUMsT0FBWixDQUFvQmUsTUFBTUMsSUFBTixHQUFhLElBQWIsR0FBb0JELE1BQU1mLE9BQTFCLEdBQW9DLElBQXBDLEdBQTJDQyxXQUFXQyxLQUFYLENBQWlCLGdDQUFqQixDQUEvRDtBQUNIO0FBUm1CLFNBQVQsRUFTWlMsT0FUWSxDQUFmOztBQVdBLGFBQUtNLFFBQUwsR0FBZ0IsSUFBSSxtQkFBU0MsUUFBYixDQUFzQjtBQUNsQ0Msc0JBQVcsK0JBRHVCO0FBRWxDQywyQkFBZ0JWLFVBRmtCO0FBR2xDVyxpQkFBTSxlQUFLQyxLQUFMLENBQVdDLFlBQVgsQ0FBd0IsUUFBeEIsQ0FINEI7QUFJbENDLDRCQUFnQixNQUprQjtBQUtsQ0MscUJBQVU7QUFDTkMsK0JBQWdCLEtBRFY7QUFFTkMsNEJBQVksQ0FDUixFQUFDQyxPQUFRM0IsV0FBV0MsS0FBWCxDQUFpQixnQ0FBakIsQ0FBVCxFQUE2RDJCLFlBQWEsYUFBMUUsRUFEUTtBQUZOLGFBTHdCO0FBV2xDMUIscUJBQVMsS0FBS1EsT0FBTCxDQUFhUixPQVhZO0FBWWxDMkIsa0JBQU07QUFDRkMsNEJBQVksb0JBQVNkLFFBQVQsRUFBbUI7QUFDM0JBLDZCQUFTZSxLQUFUO0FBQ0gsaUJBSEM7QUFJRkMsOEJBQWMsc0JBQUNoQixRQUFELEVBQVdKLElBQVgsRUFBaUJ2QixNQUFqQixFQUE0QjtBQUN0QywwQkFBS3FCLE9BQUwsQ0FBYXRCLFVBQWIsQ0FBd0JDLE1BQXhCLEVBQWdDdUIsSUFBaEM7QUFDSCxpQkFOQztBQU9GcUIsdUJBQU8sZUFBQ2pCLFFBQUQsRUFBV0YsS0FBWCxFQUFxQjtBQUN4QiwwQkFBS0osT0FBTCxDQUFhRyxPQUFiLENBQXFCQyxLQUFyQjtBQUNIO0FBVEM7QUFaNEIsU0FBdEIsQ0FBaEI7QUF3QkEsYUFBS0UsUUFBTCxDQUFjYSxJQUFkO0FBQ0g7Ozs7c0NBRVk7QUFDVCxtQkFBTyxLQUFLYixRQUFaO0FBQ0g7Ozs7O2tCQUdVUixVOzs7Ozs7Ozs7Ozs7NkZDckRmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUJBQWlCLFNBQVMscUNBQXFDO0FBQUE7QUFBQSw0TEFBa0kseUJBQXlCLGVBQWUsYUFBYSxnQkFBZ0IsbUJBQW1CLFdBQVcsS0FBSyw2RUFBNkUsVUFBVSxnQkFBZ0Isa0JBQWtCLGtHQUFrRywwRUFBMEUsaUZBQWlGLGVBQWUsNkJBQTZCLEVBQUUsY0FBYyxhQUFhLGNBQWMsbUNBQW1DLFdBQVcsS0FBSyxtQkFBbUIsVUFBVSxTQUFTLGNBQWMsWUFBWSxXQUFXLEtBQUssMENBQTBDLGFBQWEsNEJBQTRCLFlBQVksdUJBQXVCLFNBQVMseUNBQXlDLGNBQWMsTUFBTSw2REFBNkQsMkRBQTJELGFBQWEsMEJBQTBCLGFBQWEsMEJBQTBCLGFBQWEsMEJBQTBCLGFBQWEsMEJBQTBCLGNBQWMsYUFBYSxtQ0FBbUMsK0JBQStCLEtBQUssa0JBQWtCLGNBQWMsYUFBYSxpREFBaUQsd0JBQXdCLElBQUksU0FBUyxrQkFBa0IsYUFBYSx5QkFBeUIsdUJBQXVCLHNDQUFzQyw4RkFBOEYsRUFBRSxJQUFJLGdCQUFnQixhQUFhLG1CQUFtQixrQkFBa0Isd0NBQXdDLHdFQUF3RSxnQkFBZ0IsWUFBWSxNQUFNLElBQUksV0FBVyxTQUFTLElBQUksOEJBQThCLHlEQUF5RCxhQUFhLElBQUksOEJBQThCLGNBQWMsTUFBTSxnQ0FBZ0Msb0JBQW9CLFNBQVMsZ0JBQWdCLGNBQWMsdUNBQXVDLG9CQUFvQixFQUFFLG1CQUFtQixrQ0FBa0Msd0JBQXdCLGdCQUFnQixrQ0FBa0Msa0JBQWtCLGNBQWMsaUJBQWlCLCtCQUErQiw4REFBOEQsRUFBRSxFQUFFLGdCQUFnQixNQUFNLG9FQUFvRSx1QkFBdUIsSUFBSSx5QkFBeUIsU0FBUyxnQkFBZ0IsU0FBUyxnREFBZ0QsNENBQTRDLHFCQUFxQixnQkFBZ0IsU0FBUyx1QkFBdUIsdUJBQXVCLGtCQUFrQixjQUFjLFdBQVcsUUFBUSxXQUFXLGNBQWMsU0FBUyxjQUFjLGtIQUFrSCxjQUFjLCtCQUErQixTQUFTLCtDQUErQywrSUFBK0ksY0FBYyxpQ0FBaUMsMkNBQTJDLGdCQUFnQixVQUFVLG9CQUFvQiw4QkFBOEIsNkJBQTZCLGlCQUFpQixrQkFBa0IsRUFBRSxnQkFBZ0IsV0FBVyxzQkFBc0IsVUFBVSxPQUFPLGlCQUFpQixRQUFRLG1CQUFtQiwwQ0FBMEMsUUFBUSxJQUFJLG9EQUFvRCxzQ0FBc0MsR0FBRyxPQUFPLGtPQUFrTyw0Q0FBNEMsa0JBQWtCLHVDQUF1QyxlQUFlLHFDQUFxQyxpQkFBaUIsNEVBQTRFLDRHQUE0RyxlQUFlLE1BQU0saVFBQWlRLGtCQUFrQiw2QkFBNkIsaUJBQWlCLG9FQUFvRSw0R0FBNEcsZUFBZSw0S0FBNEssa0JBQWtCLGFBQWEsaUJBQWlCLDhDQUE4QyxPQUFPLDJDQUEyQyxrRUFBa0Usa0JBQWtCLG1CQUFtQiw4REFBOEQsZUFBZSxvRkFBb0YsR0FBRyxtQ0FBbUMsZUFBZSw2Q0FBNkMsb0RBQW9ELElBQUksbUJBQW1CLHdDQUF3QyxLQUFLLE1BQU0sY0FBYyxJQUFJLE9BQU8sZUFBZSxVQUFVLDRCQUE0Qiw4QkFBOEIsOEJBQThCLHVDQUF1Qyx3Q0FBd0MsbUNBQW1DLHFCQUFxQixrQkFBa0IsNkVBQTZFLGtCQUFrQixvREFBb0Qsc0JBQXNCLHdCQUF3QixJQUFJLGVBQWUsc0NBQXNDLFdBQVcsTUFBTSxvQkFBb0IsaUJBQWlCLEtBQUssZ0RBQWdELFVBQVUsV0FBVyxrQ0FBa0MsUUFBUSxXQUFXLGdTQUFnUyxNQUFNLFdBQVcsU0FBUyxtQkFBbUIsa0RBQWtELFlBQVksY0FBYyx5Q0FBeUMsdUNBQXVDLFVBQVUsSUFBSSxTQUFTLFdBQVcsT0FBTyxrQ0FBa0MsVUFBVSxpR0FBaUcsU0FBUyxRQUFRLE9BQU8sd0JBQXdCLFNBQVMsNEJBQTRCLEtBQUssU0FBUyxTQUFTLGlKQUFpSixJQUFJLGd0QkFBZ3RCLEVBQUUseVZBQXlWLHdsQ0FBd2xDLGdPQUFnTywrS0FBK0ssYUFBYSx3Q0FBd0MseURBQXlELDRCQUE0QiwwSUFBMEksZ1VBQWdVLElBQUksbUZBQW1GLG1VQUFtVSxlQUFlLDZGQUE2RiwyQkFBMkIsbUNBQW1DLDJCQUEyQixrQ0FBa0MsdUJBQXVCLDhCQUE4QiwyQkFBMkIsT0FBTyxtRkFBbUYsdUJBQXVCLFNBQVMsd0JBQXdCLGdCQUFnQixnQkFBZ0IsU0FBUyxnQkFBZ0IsT0FBTyw0QkFBNEIscUJBQXFCLDRCQUE0QixTQUFTLDRCQUE0QiwrRUFBK0UsMkJBQTJCLGtDQUFrQyxJQUFJLHFEQUFxRCwwQkFBMEIseUJBQXlCLDBGQUEwRixVQUFVLFNBQVMseUJBQXlCLGlCQUFpQiw4SUFBOEkseUJBQXlCLGdCQUFnQiwyQkFBMkIseUNBQXlDLHVCQUF1QixzQkFBc0IscUVBQXFFLE9BQU8sb0NBQW9DLHdEQUF3RCw2QkFBNkIseURBQXlELDBCQUEwQiwrS0FBK0ssc0NBQXNDLGlFQUFpRSxzQkFBc0IsZ0RBQWdELElBQUksNERBQTRELFVBQVUsK0NBQStDLG1CQUFtQiwrQkFBK0Isd0VBQXdFLDRCQUE0Qix5UEFBeVAsbUJBQW1CLG1FQUFtRSxnQkFBZ0IsTUFBTSxnQ0FBZ0MsWUFBWSxPQUFPLHdCQUF3QixnQkFBZ0IscUZBQXFGLE9BQU8sNkRBQTZELG1EQUFtRCwyQ0FBMkMsY0FBYyxxREFBcUQsbUJBQW1CLGtCQUFrQixnQ0FBZ0MseUJBQXlCLGNBQWMsOEVBQThFLE9BQU8sd0RBQXdELG1EQUFtRCw0QkFBNEIsY0FBYyxpRkFBaUYsT0FBTyw2SUFBNkksbURBQW1ELDJCQUEyQixjQUFjLGdGQUFnRixPQUFPLHdmQUF3ZixtREFBbUQsNkJBQTZCLGNBQWMsdUNBQXVDLG1CQUFtQiw2QkFBNkIsZ0NBQWdDLElBQUksZ0VBQWdFLGtCQUFrQixzREFBc0QsaUJBQWlCLHlCQUF5QiwwQ0FBMEMsMkJBQTJCLGlCQUFpQix5RUFBeUUsaUJBQWlCLGdCQUFnQiwwQ0FBMEMsa0RBQWtELDhCQUE4QixHQUFHLGlCQUFpQiwwR0FBMEcsaUJBQWlCLGNBQWMsZ0JBQWdCLDBJQUEwSSxTQUFTLDZCQUE2QiwySEFBMkgscUJBQXFCLFFBQVEsb0JBQW9CLHVEQUF1RCxtQkFBbUIsb0JBQW9CLHFEQUFxRCxPQUFPLFNBQVMsZUFBZSxPQUFPLGtFQUFrRSxPQUFPLHlFQUF5RSx1SEFBdUgsYUFBYSxrQkFBa0IsU0FBUyw2QkFBNkIsZ0JBQWdCLG9DQUFvQyxvQ0FBb0MsYUFBYSx5SEFBeUgsNEJBQTRCLDJGQUEyRiw4QkFBOEIsOEJBQThCLDJCQUEyQiw4QkFBOEIsTUFBTSxnRkFBZ0YsbUNBQW1DLGVBQWUsMkVBQTJFLDJCQUEyQixTQUFTLGtDQUFrQyxNQUFNLGlCQUFpQixLQUFLLG9CQUFvQixjQUFjLE9BQU8sVUFBVSxpRkFBaUYsb0NBQW9DLGdDQUFnQywyQkFBMkIsa0JBQWtCLE1BQU0sMkJBQTJCLDJHQUEyRyw0RkFBNEYsb0NBQW9DLGNBQWMsOERBQThELHFCQUFxQiw2QkFBNkIsNkRBQTZELFNBQVMscUJBQXFCLCtDQUErQyxzQkFBc0IsOEJBQThCLElBQUkscUJBQXFCLDhCQUE4QixFQUFFLHFDQUFxQyxLQUFLLEVBQUUsU0FBUyw0QkFBNEIsV0FBVyxnQ0FBZ0MsNkNBQTZDLE1BQU0saUJBQWlCLDRDQUE0QyxtQkFBbUIsK0NBQStDLHNCQUFzQixtREFBbUQsb0JBQW9CLGdEQUFnRCw4QkFBOEIsV0FBVyxrQ0FBa0MsZ0NBQWdDLDhEQUE4RCx1QkFBdUIsa0VBQWtFLEdBQUcscUJBQXFCLGdKQUFnSixzQkFBc0IsNENBQTRDLE9BQU8sdUJBQXVCLG9jQUFvYyx1RUFBdUUsU0FBUyxPQUFPLHVCQUF1QiwyQkFBMkIsK0JBQStCLDBEQUEwRCw0QkFBNEIsWUFBWSwrQkFBK0IsV0FBVyx1QkFBdUIsa0dBQWtHLElBQUksa0JBQWtCLDRIQUE0SCxzQkFBc0IsaUdBQWlHLCtDQUErQyxTQUFTLDZEQUE2RCw2QkFBNkIsMkJBQTJCLDRLQUE0SyxvRkFBb0YsNkJBQTZCLG9CQUFvQixTQUFTLHdCQUF3QixpQ0FBaUMsa0RBQWtELG9CQUFvQixpQ0FBaUMsNEVBQTRFLG9CQUFvQixNQUFNLHlCQUF5QiwwSEFBMEgseUVBQXlFLFFBQVEsTUFBTSx3RUFBd0Usb0JBQW9CLGdDQUFnQyw4QkFBOEIsOEJBQThCLGtCQUFrQix1QkFBdUIsc0JBQXNCLFVBQVUsaURBQWlELGlDQUFpQyxNQUFNLHlCQUF5QixTQUFTLGtDQUFrQyxrQ0FBa0MsUUFBUSxLQUFLLHFCQUFxQiw4QkFBOEIsbUJBQW1CLGdCQUFnQiwrQkFBK0IseUJBQXlCLG9DQUFvQyw0Q0FBNEMsWUFBWSwyQkFBMkIsV0FBVyxpRUFBaUUsMEJBQTBCLHdCQUF3QixjQUFjLGtDQUFrQywwQ0FBMEMsVUFBVSxxQ0FBcUMsbUJBQW1CLFNBQVMsbUNBQW1DLDJFQUEyRSxvQ0FBb0Msd0JBQXdCLDhCQUE4Qiw2QkFBNkIsaUNBQWlDLHNCQUFzQixTQUFTLHVCQUF1QixTQUFTLHVCQUF1QixrQkFBa0IsV0FBVyxHQUFHLHNKQUFzSixrQkFBa0IsTUFBTSxlQUFlLDJCQUEyQixjQUFjLFFBQVEsd0dBQXdHLHVDQUF1QyxvREFBb0QsSUFBSSw0QkFBNEIsaUJBQWlCLG1DQUFtQyxpRUFBaUUsNkVBQTZFLGlLQUFpSyxhQUFhLHlFQUF5RSxtREFBbUQsc0RBQXNELCtDQUErQyw4QkFBOEIsc0NBQXNDLHVCQUF1Qix5QkFBeUIsaUJBQWlCLDJDQUEyQyxpQkFBaUIsc0JBQXNCLEdBQUcseUhBQXlILGdCQUFnQixrQkFBa0Isb0JBQW9CLHNEQUFzRCxnQkFBZ0IsdUNBQXVDLHFFQUFxRSxPQUFPLE1BQU0sZ0JBQWdCLHNGQUFzRix5SEFBeUgsc0JBQXNCLG9DQUFvQyxvQkFBb0IsMklBQTJJLGtCQUFrQixVQUFVLHNEQUFzRCxpQ0FBaUMsdUJBQXVCLG1EQUFtRCxvQkFBb0Isa0NBQWtDLDJDQUEyQyxTQUFTLFNBQVMsNkRBQTZELFNBQVMsT0FBTyxvQkFBb0IscUJBQXFCLHVCQUF1QixlQUFlLGVBQWUseUJBQXlCLHFCQUFxQixpQ0FBaUMsc0NBQXNDLGdCQUFnQixxQ0FBcUMsSUFBSSx1RkFBdUYscytDQUFzK0MsS0FBSyxlQUFlLHlCQUF5QixRQUFRLFdBQVcsTUFBTSw0QkFBNEIsV0FBVyxpQkFBaUIsV0FBVyxpQkFBaUIsaUJBQWlCLFFBQVEsV0FBVyw2REFBNkQsV0FBVyxLQUFLLHVCQUF1QixvREFBb0QseUNBQXlDLG9CQUFvQixTQUFTLGVBQWUsU0FBUyw0QkFBNEIsNENBQTRDLG1DQUFtQyxzQ0FBc0Msd0RBQXdELCtCQUErQixJQUFJLGVBQWUsY0FBYyw0RUFBNEUsK0RBQStELElBQUksZUFBZSwrQkFBK0IsK0JBQStCLGVBQWUsb0JBQW9CLGFBQWEsa0hBQWtILGlSQUFpUixjQUFjLFVBQVUsc0RBQXNELGdCQUFnQixxRkFBcUYsR0FBRyxTQUFTLDhDQUE4QyxxRUFBcUUsY0FBYyx5U0FBeVMsb0VBQW9FLFdBQVcsbUNBQW1DLHlEQUF5RCxxQkFBcUIsa0NBQWtDLGNBQWMsOEpBQThKLHFFQUFxRSxZQUFZLHNDQUFzQyw4QkFBOEIsSUFBSSxlQUFlLGdCQUFnQixHQUFHLHVCQUF1QixZQUFZLHlCQUF5Qix3QkFBd0IsV0FBVyxVQUFVLHdEQUF3RCxNQUFNLDJHQUEyRyxtRkFBbUYscUJBQXFCLHdCQUF3QixtRUFBbUUsb0JBQW9CLHdCQUF3QixvQkFBb0Isd0JBQXdCLG9JQUFvSSxZQUFZLG9DQUFvQywyQkFBMkIsa0ZBQWtGLGdDQUFnQywyR0FBMkcsZ0JBQWdCLFFBQVEsdUVBQXVFLE1BQU0sdUVBQXVFLG1CQUFtQiw4QkFBOEIsNkZBQTZGLGVBQWUseUdBQXlHLEVBQUUsaUNBQWlDLDBRQUEwUSxjQUFjLGFBQWEsd0JBQXdCLFlBQVksS0FBSyxTQUFTLDhDQUE4QyxpQkFBaUIsa0JBQWtCLGlDQUFpQyxtT0FBbU8sd0RBQXdELG1DQUFtQztBQUN6bC9CLENBQUMsc0JBQXNCLG9CQUFvQix3QkFBd0IsdUdBQXVHLDJCQUEyQix1REFBdUQsZ0NBQWdDLHdNQUF3TSxhQUFhLGdCQUFnQiwwS0FBMEssa0lBQWtJLDhEQUE4RCxvQkFBb0IsVUFBVSx3REFBd0QsTUFBTSxpREFBaUQsbUJBQW1CLG9FQUFvRSxvRUFBb0UsNEJBQTRCLDRGQUE0RixvQ0FBb0MsMkJBQTJCLCtCQUErQix3QkFBd0IsNEJBQTRCLGtCQUFrQix5TUFBeU0sb0JBQW9CLDBGQUEwRiwyREFBMkQsb0NBQW9DLGtDQUFrQyx1QkFBdUIsTUFBTSxnRUFBZ0UsK0RBQStELGtFQUFrRSxvQkFBb0IscUpBQXFKLGtCQUFrQixLQUFLLHVOQUF1TixvQkFBb0IsK0NBQStDLE1BQU0sdUJBQXVCLEtBQUssSUFBSSxzQkFBc0Isa0RBQWtELDRCQUE0QixTQUFTLHVJQUF1SSwwR0FBMEcsZUFBZSxPQUFPLGtCQUFrQiw2QkFBNkIsOEZBQThGLGVBQWUsY0FBYyx5Q0FBeUMsa0RBQWtELE9BQU8seUNBQXlDLG9JQUFvSSxhQUFhLDZEQUE2RCwyQ0FBMkMsZ0NBQWdDLG1JQUFtSSxrQkFBa0IsZ0JBQWdCLG9CQUFvQiw4RUFBOEUsa0NBQWtDLG9CQUFvQixVQUFVLGtDQUFrQywyQ0FBMkMsbUJBQW1CLDZDQUE2QyxJQUFJLGlDQUFpQyxVQUFVLDRCQUE0QixrREFBa0QsMkNBQTJDLDJCQUEyQixzQ0FBc0Msd0JBQXdCLG9DQUFvQyxHQUFHLDhHQUE4RyxhQUFhLFdBQVcsZUFBZSxxQkFBcUIseUJBQXlCLGtCQUFrQixlQUFlLDJDQUEyQyxjQUFjLHVDQUF1Qyx3QkFBd0Isa0ZBQWtGLDBCQUEwQixFQUFFLG9CQUFvQix1QkFBdUIsb0JBQW9CLHdCQUF3Qix3QkFBd0IsdUJBQXVCLGtCQUFrQixxQkFBcUIsa0JBQWtCLHVCQUF1QixvQkFBb0IsYUFBYSxFQUFFLFNBQVMsc1dBQXNXLGFBQWEsd0JBQXdCLGFBQWEsZ0JBQWdCLDBJQUEwSSxjQUFjLGFBQWEsMERBQTBELGNBQWMsK0JBQStCLDhHQUE4RyxnQ0FBZ0MsZ0hBQWdILHNDQUFzQywyQkFBMkIsa0VBQWtFLEVBQUUsNEJBQTRCLHNoQkFBc2hCLDZCQUE2Qix1QkFBdUIsNkJBQTZCLDRGQUE0Rix5Q0FBeUMsaUpBQWlKLElBQUksV0FBVywySUFBMkksa0JBQWtCLG9DQUFvQyxrTkFBa04sS0FBSyxzQ0FBc0Msa0NBQWtDLHVCQUF1QixhQUFhLHdHQUF3Ryw4QkFBOEIseUlBQXlJLFVBQVUsK0RBQStELE1BQU0saUJBQWlCLHlEQUF5RCxNQUFNLDhEQUE4RCx1R0FBdUcsNk5BQTZOLG9KQUFvSixvS0FBb0ssY0FBYyw4RUFBOEUsZ0NBQWdDLGdUQUFnVCw0RkFBNEYsdUdBQXVHLDhHQUE4Ryw4QkFBOEIsaUNBQWlDLGtDQUFrQyxhQUFhLCtCQUErQixnR0FBZ0csb0NBQW9DLHNCQUFzQix3REFBd0QsK0JBQStCLEVBQUUseURBQXlELDhCQUE4QixRQUFRLDZHQUE2RywrQkFBK0IsNEJBQTRCLE9BQU8sK0dBQStHLFFBQVEsb0JBQW9CLDZCQUE2QixPQUFPLE9BQU8sMEZBQTBGLHFFQUFxRSx3QkFBd0IsZ0JBQWdCLGtCQUFrQixvREFBb0QsaURBQWlELG1DQUFtQywrS0FBK0ssa0JBQWtCLDZGQUE2RixLQUFLLDZGQUE2Riw2REFBNkQsb0JBQW9CLG9JQUFvSSx3RkFBd0YsT0FBTyxtbENBQW1sQyx1QkFBdUIsMEVBQTBFLGdHQUFnRyw4SkFBOEosYUFBYSxhQUFhLHlCQUF5QixnQkFBZ0IsV0FBVyw4Q0FBOEMsbUVBQW1FLCtDQUErQyxrRkFBa0YsZ0VBQWdFLGFBQWEsbUJBQW1CLDhFQUE4RSxnQkFBZ0IsNEJBQTRCLHNFQUFzRSxXQUFXLGVBQWUsa0JBQWtCLHlKQUF5SixLQUFLLG9CQUFvQix5Q0FBeUMsbURBQW1ELGtCQUFrQixXQUFXLG9HQUFvRyxvQkFBb0IsK0RBQStELEVBQUUsMkRBQTJELDZYQUE2WCxhQUFhLGNBQWMsSUFBSSw0S0FBNEssU0FBUyx3Q0FBd0MsY0FBYyxrQkFBa0IsSUFBSSxtQkFBbUIsc0VBQXNFLHdCQUF3Qix3QkFBd0Isb0dBQW9HLHdCQUF3QixrRkFBa0YscUVBQXFFLE9BQU8sd0NBQXdDLEtBQUssMkdBQTJHLGlDQUFpQyxTQUFTLDhCQUE4QixnQkFBZ0Isa0NBQWtDLDJGQUEyRixnQkFBZ0IsY0FBYyxxREFBcUQsV0FBVyx3RUFBd0UsS0FBSyxvSEFBb0gsZUFBZSx3Q0FBd0MscUNBQXFDLGdCQUFnQixhQUFhLHVFQUF1RSxhQUFhLHFCQUFxQix3QkFBd0IsdUJBQXVCLGFBQWEsd0JBQXdCLFlBQVkscUNBQXFDLDRCQUE0QixpQkFBaUIsNEJBQTRCLDRFQUE0RSxrQkFBa0IsZ0NBQWdDLGlCQUFpQix3QkFBd0Isb0JBQW9CLGtCQUFrQixzQ0FBc0MsZUFBZSxxSUFBcUksSUFBSSxJQUFJLHNFQUFzRSxvSEFBb0gsa0ZBQWtGLGNBQWMsNEJBQTRCLFdBQVcsNFVBQTRVLHNFQUFzRSxNQUFNLHVGQUF1RixNQUFNLHVEQUF1RCxNQUFNLG9DQUFvQyxNQUFNLG9FQUFvRSxNQUFNLG1EQUFtRCxNQUFNLHlHQUF5RyxNQUFNLHlGQUF5RixNQUFNLG1JQUFtSSx3Q0FBd0Msc0VBQXNFLGtDQUFrQyxTQUFTLDJCQUEyQixzQkFBc0IsU0FBUyxrSUFBa0ksK0NBQStDLHNGQUFzRixpQkFBaUIsc0JBQXNCLHdCQUF3Qix3QkFBd0Isc0ZBQXNGLHdDQUF3Qyx5QkFBeUIseUVBQXlFLDREQUE0RCw0QkFBNEIseUVBQXlFLCtEQUErRCxpQ0FBaUMsNkJBQTZCLG1EQUFtRCxxQkFBcUIsZ0JBQWdCLFdBQVcsMkJBQTJCLHNCQUFzQiw2RUFBNkUsMEJBQTBCLHdEQUF3RCwwSkFBMEosS0FBSyxZQUFZLHlDQUF5QyxrRUFBa0UscUNBQXFDLDZEQUE2RCxTQUFTLG9GQUFvRiw2REFBNkQsZUFBZSxpQkFBaUIsK0NBQStDLEdBQUcseUJBQXlCLHNHQUFzRyxJQUFJLElBQUksZ0ZBQWdGLHlFQUF5RSwrREFBK0QsWUFBWSxrQ0FBa0MsOEJBQThCLDJCQUEyQixpQkFBaUIsb0lBQW9JLFNBQVMsOEJBQThCLG9CQUFvQix1S0FBdUssOERBQThELG9CQUFvQixNQUFNLHNEQUFzRCxpRkFBaUYsc0pBQXNKLGNBQWMsK0NBQStDLHlHQUF5Ryx5Q0FBeUMsdU1BQXVNLG9DQUFvQyx5R0FBeUcscUNBQXFDLGdOQUFnTiwrREFBK0QsaUVBQWlFLDJIQUEySCxzREFBc0Qsd0JBQXdCLDJDQUEyQywwQkFBMEIsdUlBQXVJLDRCQUE0Qiw2SkFBNkosZ01BQWdNLDJHQUEyRyxpSUFBaUksb0RBQW9ELCtCQUErQixtTEFBbUwscUNBQXFDLGVBQWUsZ0RBQWdELGdCQUFnQixxQkFBcUIscUJBQXFCLGtCQUFrQixvQkFBb0IsZUFBZSw2QkFBNkIsbUJBQW1CLCtCQUErQixvR0FBb0csYUFBYSxrQkFBa0IsTUFBTSwrSEFBK0gsSUFBSSw4QkFBOEIsU0FBUyx1QkFBdUIsc0JBQXNCLDREQUE0RCx5QkFBeUIsc0RBQXNELGdCQUFnQixxRUFBcUUsYUFBYSxvQkFBb0IsYUFBYSxxQkFBcUIsUUFBUSx5Q0FBeUMsUUFBUSxtR0FBbUcsbUJBQW1CLDhFQUE4RSxtRkFBbUYsc0RBQXNELG9CQUFvQixFQUFFLG1CQUFtQixRQUFRLGdEQUFnRCxhQUFhLHFCQUFxQixvTUFBb00sS0FBSyxzREFBc0QsZUFBZSxJQUFJLFlBQVksU0FBUyxVQUFVLGlCQUFpQixzQ0FBc0MsU0FBUyxHQUFHLE9BQU8sNENBQTRDLDRPQUE0TyxhQUFhLFFBQVEsZUFBZSxpQkFBaUIsd0NBQXdDLDBKQUEwSixVQUFVLHVNQUF1TSw0REFBNEQsK0xBQStMLG1CQUFtQiw2Q0FBNkMsb0NBQW9DLGdIQUFnSCx5RUFBeUUsd0JBQXdCLDJDQUEyQyx3QkFBd0IsNENBQTRDLHVCQUF1QiwyREFBMkQscUJBQXFCLDhGQUE4Riw0Q0FBNEMsU0FBUyxtS0FBbUsseURBQXlELEtBQUsseUJBQXlCLGtEQUFrRCxvQ0FBb0MsWUFBWSxzQkFBc0IsU0FBUyx5QkFBeUIsdUNBQXVDLFVBQVUsbUJBQW1CLCtEQUErRCxxQ0FBcUMsaUNBQWlDLE1BQU0sc0xBQXNMLE1BQU0sd0dBQXdHLHFCQUFxQiwwQkFBMEIsbUNBQW1DLG9CQUFvQixpSEFBaUgsa0xBQWtMLEVBQUUscUJBQXFCLGtOQUFrTixhQUFhLGNBQWMsbURBQW1ELDBDQUEwQyxpSEFBaUgsZ0JBQWdCLFNBQVMsaUJBQWlCLGdDQUFnQyxjQUFjLGlCQUFpQixXQUFXLHNEQUFzRCxpQ0FBaUMsY0FBYyxzQkFBc0IsaUNBQWlDLDhCQUE4QixnQkFBZ0IsU0FBUyxxQkFBcUIsMkJBQTJCLG9EQUFvRCxzQkFBc0IsZ0JBQWdCLFNBQVMscUJBQXFCLG1CQUFtQixPQUFPLEVBQUUsMEJBQTBCLElBQUksRUFBRSxnQkFBZ0IsNEJBQTRCLG9CQUFvQixZQUFZLElBQUksMkJBQTJCLGdCQUFnQixjQUFjLDBCQUEwQix1Q0FBdUMsSUFBSSw0QkFBNEIsYUFBYSxPQUFPLEVBQUUsa0JBQWtCLGVBQWUsaUJBQWlCLGFBQWEsNkVBQTZFLDREQUE0RCx3Q0FBd0MsZ0lBQWdJLDRCQUE0QiwyQ0FBMkMsS0FBSyxnQ0FBZ0MsNENBQTRDLHVCQUF1Qiw0Q0FBNEMsdUJBQXVCLFFBQVEsb0JBQW9CLHFIQUFxSCxFQUFFLG9CQUFvQiw2SUFBNkksYUFBYSxjQUFjLG1EQUFtRCxXQUFXLGVBQWUsbUJBQW1CLFdBQVcsOEVBQThFLGFBQWEsd0NBQXdDLDZDQUE2Qyx5Q0FBeUMscUJBQXFCLDJDQUEyQyxvQkFBb0IseUhBQXlILGtCQUFrQixhQUFhLG9CQUFvQiw2REFBNkQsRUFBRSxzQkFBc0IseVJBQXlSLGFBQWEsZ0JBQWdCLGVBQWUsc0VBQXNFLHFDQUFxQywwQkFBMEIsc0JBQXNCLHlCQUF5QixhQUFhLHNGQUFzRix5REFBeUQsV0FBVyxRQUFRLCtCQUErQixXQUFXLDZCQUE2QixjQUFjLHFDQUFxQztBQUNwbCtCLENBQUMsY0FBYyx3RkFBd0YsMkZBQTJGLDhEQUE4RCxvQ0FBb0Msd0RBQXdELGNBQWMsZ0xBQWdMLHFEQUFxRCxhQUFhLGVBQWUsZUFBZSxtQkFBbUIsaUlBQWlJLHlLQUF5Syx3QkFBd0IsOERBQThELDBHQUEwRyxtQkFBbUIsMEJBQTBCLHFCQUFxQix1REFBdUQsT0FBTywwRkFBMEYsYUFBYSx5Q0FBeUMsYUFBYSw0Q0FBNEMsYUFBYSxtREFBbUQsV0FBVyxvREFBb0QsRUFBRSxtQ0FBbUMscUJBQXFCLGFBQWEsYUFBYSxlQUFlLElBQUksK0dBQStHLFNBQVMsTUFBTSxXQUFXLG1FQUFtRSxFQUFFLE1BQU0seUNBQXlDLElBQUksZ0NBQWdDLGtCQUFrQixPQUFPLFVBQVUsb0JBQW9CLHlEQUF5RCx3QkFBd0IsOExBQThMLHVDQUF1QyxXQUFXLDZCQUE2QixpQkFBaUIsb0NBQW9DLHNCQUFzQixJQUFJLHFCQUFxQixVQUFVLFNBQVMseUJBQXlCLHdCQUF3QixJQUFJLFVBQVUsc0ZBQXNGLE1BQU0sOENBQThDLFlBQVksb0RBQW9ELDhIQUE4SCwyQkFBMkIsdURBQXVELFNBQVMsYUFBYSxrQ0FBa0MsSUFBSSxpQ0FBaUMsVUFBVSxTQUFTLGtCQUFrQixhQUFhLG9CQUFvQiwrREFBK0QsRUFBRSwwQkFBMEIsb0ZBQW9GLGNBQWMseUVBQXlFLGNBQWMsc0JBQXNCLGVBQWUsdUJBQXVCLHFCQUFxQiwyQkFBMkIsZ0JBQWdCLHlCQUF5Qix5QkFBeUIsNkJBQTZCLHlCQUF5QixrRUFBa0UsbURBQW1ELG1LQUFtSyxNQUFNLGtCQUFrQixtQkFBbUIsd0JBQXdCLGtCQUFrQixVQUFVLEVBQUUsY0FBYyxrQkFBa0Isc0VBQXNFLGVBQWUsdUJBQXVCLHVCQUF1QiwyQkFBMkIsOEJBQThCLHlCQUF5Qix5QkFBeUIsMEJBQTBCLDRCQUE0Qiw0QkFBNEIsTUFBTSxrQkFBa0IsbUJBQW1CLG9CQUFvQixrQkFBa0IsUUFBUSxFQUFFLDZCQUE2QixtQ0FBbUMsVUFBVSw4RkFBOEYsMkNBQTJDLElBQUksNkNBQTZDLFNBQVMsdUJBQXVCLFFBQVEsNkZBQTZGLHVDQUF1QyxJQUFJLGlEQUFpRCxrQkFBa0Isc0JBQXNCLG1CQUFtQixzQkFBc0Isa0JBQWtCLHNCQUFzQixtQkFBbUIscUJBQXFCLG1DQUFtQyxrQkFBa0IsMkNBQTJDLHNCQUFzQix5Q0FBeUMseUJBQXlCLGlCQUFpQixJQUFJLHNCQUFzQixVQUFVLElBQUksNkhBQTZILHFCQUFxQixtQkFBbUIsNkZBQTZGLFFBQVEsY0FBYyx5Q0FBeUMsS0FBSyw4QkFBOEIsNkNBQTZDLGdFQUFnRSxPQUFPLGtCQUFrQiw4QkFBOEIsVUFBVSxpRUFBaUUsSUFBSSwrQ0FBK0MsaUNBQWlDLG1CQUFtQixZQUFZLDJEQUEyRCxJQUFJLHNDQUFzQyxpQ0FBaUMsaUJBQWlCLDRCQUE0QixJQUFJLHNEQUFzRCxTQUFTLG1CQUFtQixlQUFlLHNEQUFzRCxtR0FBbUcsTUFBTSxrQkFBa0IscUJBQXFCLHVKQUF1SixjQUFjLGdCQUFnQixvQ0FBb0MsSUFBSSwwRkFBMEYsSUFBSSwwRUFBMEUscUJBQXFCLElBQUksOENBQThDLHFHQUFxRyxxSEFBcUgsbUpBQW1KLFNBQVMsa0JBQWtCLGNBQWMsdUJBQXVCLHlCQUF5Qiw0QkFBNEIsSUFBSSxPQUFPLDJDQUEyQyxZQUFZLElBQUksb0NBQW9DLE1BQU0sTUFBTSxlQUFlLElBQUksa0JBQWtCLFNBQVMsU0FBUyxTQUFTLGdCQUFnQixxQkFBcUIsTUFBTSxnSUFBZ0ksT0FBTywwYkFBMGIsTUFBTSx5RkFBeUYsUUFBUSwrREFBK0QsSUFBSSxZQUFZLDBCQUEwQixlQUFlLDZHQUE2RyxjQUFjLDJaQUEyWixRQUFRLGtuQ0FBa25DLGVBQWUsdURBQXVELGVBQWUsZ0RBQWdELG1CQUFtQix3REFBd0QsV0FBVyw2QkFBNkIsYUFBYSxrREFBa0QsWUFBWSw2QkFBNkIsaUJBQWlCLHNDQUFzQyxrQkFBa0IsdUNBQXVDLElBQUksY0FBYyxtQkFBbUIsaUJBQWlCLGdCQUFnQixnQkFBZ0IsSUFBSSw4Q0FBOEMsU0FBUyx1REFBdUQsa0JBQWtCLElBQUksK0NBQStDLFNBQVMsdURBQXVELHNCQUFzQix1Q0FBdUMsc0JBQXNCLG1DQUFtQyx1QkFBdUIscUNBQXFDLG1CQUFtQixvQkFBb0IsaUJBQWlCLGVBQWUsaUJBQWlCLFdBQVcsY0FBYyxJQUFJLGdDQUFnQyxTQUFTLFlBQVkscURBQXFELGlCQUFpQix1QkFBdUIsNkNBQTZDLGlCQUFpQixTQUFTLGdCQUFnQixXQUFXLGFBQWEsSUFBSSw4QkFBOEIsU0FBUyxZQUFZLDhGQUE4RixTQUFTLGtCQUFrQixjQUFjLGtDQUFrQyx1SEFBdUgsVUFBVSxZQUFZLHVCQUF1Qiw4RUFBOEUsa0JBQWtCLDRCQUE0Qix5SEFBeUgsc0hBQXNILG1SQUFtUixnREFBZ0QsMkJBQTJCLGlDQUFpQyxvT0FBb08sY0FBYyxjQUFjLFlBQVksYUFBYSxjQUFjLEVBQUUsbURBQW1ELHVDQUF1Qyx1QkFBdUIsWUFBWSxhQUFhLG9CQUFvQiw0REFBNEQsYUFBYSxzREFBc0QsWUFBWSxtRkFBbUYsV0FBVyxJQUFJLDBCQUEwQixVQUFVLDhCQUE4QixrR0FBa0csd0RBQXdELGVBQWUsc0RBQXNELHlCQUF5Qiw2REFBNkQsMEJBQTBCLGtCQUFrQixrQkFBa0IsY0FBYyxpQkFBaUIsa0RBQWtELEVBQUUsU0FBUyxnSkFBZ0osY0FBYyxhQUFhLFFBQVEsbURBQW1ELG9DQUFvQyxPQUFPLGFBQWEsOEJBQThCLGNBQWMsWUFBWSw0REFBNEQsK0JBQStCLFlBQVksc0JBQXNCLHNDQUFzQyxRQUFRLFdBQVcsK0VBQStFLGlDQUFpQyxnRkFBZ0YsY0FBYyxlQUFlLFNBQVMsZ0xBQWdMLG1CQUFtQixjQUFjLGFBQWEsWUFBWSxXQUFXLFFBQVEsbUJBQW1CLFVBQVUsa0RBQWtELGtCQUFrQixvREFBb0QsMEJBQTBCLFNBQVMsMEJBQTBCLFNBQVMsa0JBQWtCLFFBQVEseUNBQXlDLG1CQUFtQiw0REFBNEQsa0JBQWtCLGtFQUFrRSwrQ0FBK0MsYUFBYSx5QkFBeUIsZ0JBQWdCLGdHQUFnRyxxRkFBcUYsT0FBTyxTQUFTLGdWQUFnVixhQUFhLGFBQWEsbUVBQW1FLFlBQVksYUFBYSxVQUFVLHdKQUF3SixjQUFjLG1EQUFtRCxnQkFBZ0Isd0JBQXdCLG1CQUFtQixjQUFjLFdBQVcsaUNBQWlDLDBEQUEwRCxxQkFBcUIsa0JBQWtCLDRDQUE0QyxnQkFBZ0IsYUFBYSwrREFBK0Qsc0JBQXNCLHNCQUFzQiw2Q0FBNkMsMERBQTBELGdCQUFnQiwrRkFBK0Ysa0ZBQWtGLHNDQUFzQyxNQUFNLHdDQUF3QyxNQUFNLHNDQUFzQyxNQUFNLG9DQUFvQyxNQUFNLHdDQUF3QyxNQUFNLHNEQUFzRCxNQUFNLHlDQUF5QyxnQ0FBZ0MsYUFBYSx3Q0FBd0MsK0JBQStCLGVBQWUseUJBQXlCLDZEQUE2RCxzRkFBc0YseUdBQXlHLDJCQUEyQixVQUFVLDZCQUE2QiwrQkFBK0Isb0NBQW9DLDBEQUEwRCxvQkFBb0IsMEJBQTBCLDJEQUEyRCxpSUFBaUksb0NBQW9DLHdGQUF3Rix5Q0FBeUMsTUFBTSx3QkFBd0IsdUNBQXVDLDRKQUE0SiwrREFBK0QsU0FBUyxvRUFBb0Usd0JBQXdCLDRDQUE0Qyx5QkFBeUIsdUNBQXVDLGdEQUFnRCxlQUFlLHFEQUFxRCxFQUFFLDBCQUEwQix1QkFBdUIsbUJBQW1CLHdEQUF3RCxJQUFJLHVDQUF1QyxTQUFTLGtDQUFrQyxpQ0FBaUMsNkNBQTZDLDZDQUE2QyxLQUFLLE1BQU0sY0FBYyxJQUFJLGtDQUFrQyxTQUFTLDRCQUE0QixtRUFBbUUsdURBQXVELHlDQUF5QyxjQUFjLG9CQUFvQiwwRUFBMEUsRUFBRSxpQkFBaUIsK0tBQStLLGFBQWEsTUFBTSxJQUFJLHVEQUF1RCxTQUFTLElBQUksNkVBQTZFLFNBQVMsU0FBUyxtREFBbUQsY0FBYyxlQUFlLGdGQUFnRixzQ0FBc0MsaUNBQWlDLGNBQWMsZUFBZSxNQUFNLG9EQUFvRCw2QkFBNkIsY0FBYyxhQUFhLFlBQVksa0JBQWtCLHFCQUFxQiwwQkFBMEIsNkJBQTZCLGlDQUFpQyw2QkFBNkIsc0hBQXNILHdCQUF3QixvRkFBb0YsNEZBQTRGLGdDQUFnQyxvREFBb0QsZ0ZBQWdGLDZCQUE2QixrQ0FBa0MsNkJBQTZCLGlDQUFpQyw2QkFBNkIsaURBQWlELDZCQUE2QiwyQkFBMkIsNkJBQTZCLG1EQUFtRCxxREFBcUQsNkJBQTZCLHNDQUFzQyxFQUFFLDBCQUEwQiw0QkFBNEIsaUNBQWlDLDRCQUE0QixvQ0FBb0MsNEJBQTRCLGtDQUFrQyxtRkFBbUYsZ0NBQWdDLCtEQUErRCxnQ0FBZ0MsNEJBQTRCLGtDQUFrQyw0QkFBNEIsaUNBQWlDLDRCQUE0Qix3QkFBd0IsNEJBQTRCLDJCQUEyQiw0QkFBNEIsNkJBQTZCLHNEQUFzRCxtREFBbUQsbUJBQW1CLHVCQUF1Qix3QkFBd0IsaUNBQWlDLHdDQUF3QyxpQkFBaUIsVUFBVSw0Q0FBNEMsc0ZBQXNGLHlsQkFBeWxCLHNGQUFzRixNQUFNLHFCQUFxQixrQkFBa0IsaURBQWlELGVBQWUsSUFBSSxtQkFBbUIsK0JBQStCLG9HQUFvRyxPQUFPLHdCQUF3Qix3QkFBd0IsZ01BQWdNLGdCQUFnQiw2SkFBNkosT0FBTyxpQkFBaUIsd0RBQXdELHdFQUF3RSxnREFBZ0QsZ0NBQWdDLDZCQUE2QixFQUFFLCtEQUErRCxvQ0FBb0MsMEJBQTBCLHFCQUFxQixrSEFBa0gsZ0JBQWdCLFVBQVUseUNBQXlDLDBDQUEwQyw2QkFBNkIsWUFBWSxPQUFPLG1CQUFtQixXQUFXLHlFQUF5RSwwQ0FBMEMsc0JBQXNCLDZFQUE2RSxzQkFBc0Isc0hBQXNILGdCQUFnQixVQUFVLHlDQUF5QywwQ0FBMEMsNkJBQTZCLFlBQVksT0FBTyxtQkFBbUIsMEJBQTBCLHNIQUFzSCxrQ0FBa0MsMEJBQTBCLDhHQUE4RyxPQUFPLHNCQUFzQiw0RUFBNEUsK0JBQStCLHVCQUF1QixxVUFBcVUsT0FBTyxtQkFBbUIsYUFBYSxrRUFBa0UsZ0JBQWdCLG9FQUFvRSxnQkFBZ0IsWUFBWSx5Q0FBeUMsZUFBZSxvQ0FBb0MsV0FBVyxFQUFFLDRCQUE0QiwyREFBMkQsc0VBQXNFLGtCQUFrQixNQUFNLHdCQUF3QixvRUFBb0UsZUFBZSxrQkFBa0IsK0JBQStCLG1CQUFtQixTQUFTLGdCQUFnQixtREFBbUQsd0JBQXdCLG9CQUFvQix5QkFBeUIsNEJBQTRCLGlFQUFpRSx3Q0FBd0MsSUFBSSw0REFBNEQsOERBQThELFFBQVEsYUFBYSxZQUFZLGtCQUFrQix3QkFBd0Isb0hBQW9ILDBCQUEwQiw2TEFBNkwsT0FBTyx5QkFBeUIsY0FBYyx5REFBeUQsNEJBQTRCLG1CQUFtQixZQUFZLHlDQUF5Qyx3QkFBd0Isb0NBQW9DLFdBQVcsRUFBRSxzQkFBc0IsMkJBQTJCLHdCQUF3QiwyREFBMkQsb0JBQW9CLGtFQUFrRSx3SUFBd0kseUJBQXlCLHdFQUF3RSw2QkFBNkIseUJBQXlCLG9FQUFvRSw2Q0FBNkMsaUJBQWlCLHFMQUFxTCxjQUFjLDhCQUE4QixJQUFJLElBQUksa0ZBQWtGLFNBQVMsK0NBQStDLE1BQU0sd0VBQXdFLFdBQVcsU0FBUyxLQUFLLFdBQVcsV0FBVyxtQkFBbUIsV0FBVyxTQUFTLCtDQUErQyx5QkFBeUIsMEJBQTBCLFNBQVMsS0FBSyxTQUFTLGNBQWMsYUFBYSxZQUFZLGtCQUFrQixxQkFBcUIscU9BQXFPLDRCQUE0QixrQ0FBa0Msa0NBQWtDLGdDQUFnQyxtREFBbUQsK0dBQStHLDZCQUE2QixpQ0FBaUMsNEJBQTRCLDRJQUE0SSx5REFBeUQsRUFBRSxvQ0FBb0MsNEJBQTRCLGdDQUFnQyw4REFBOEQsa0NBQWtDLDRCQUE0QixpQ0FBaUMsNEJBQTRCLDZCQUE2QixvRUFBb0UsdUVBQXVFLG1CQUFtQixxQ0FBcUMsd0JBQXdCLGlDQUFpQyx3Q0FBd0MsaUJBQWlCLE1BQU0sMExBQTBMLDRUQUE0VCxzRkFBc0YsMkJBQTJCLHFCQUFxQixrQkFBa0Isd0NBQXdDLGVBQWUsSUFBSSx5QkFBeUIsK0JBQStCLHlKQUF5Six5QkFBeUIsSUFBSSx5S0FBeUssY0FBYyxpQkFBaUIsV0FBVyx5RUFBeUUsS0FBSyxTQUFTLE9BQU8saUJBQWlCLHdEQUF3RCx3RUFBd0U7QUFDangrQixnQ0FBZ0MsNkJBQTZCLEVBQUUsNEZBQTRGLHlCQUF5QiwwRkFBMEYscUJBQXFCLHFKQUFxSixPQUFPLGdCQUFnQiw4QkFBOEIsa0VBQWtFLHdFQUF3RSw2Q0FBNkMsbUJBQW1CLGdDQUFnQyx1QkFBdUIsd0NBQXdDLG1CQUFtQiwrQkFBK0IsdUJBQXVCLGtEQUFrRCxvQkFBb0IscUtBQXFLLCtCQUErQixJQUFJLDZLQUE2SyxtQ0FBbUMsSUFBSSw2S0FBNkssZ0NBQWdDLElBQUksMlFBQTJRLG1DQUFtQyxJQUFJLGlMQUFpTCwwQkFBMEIsSUFBSSxtQkFBbUIsMkRBQTJELFFBQVEsMkNBQTJDLHFDQUFxQyx3QkFBd0IsNkJBQTZCLHFCQUFxQixJQUFJLDhIQUE4SCx1UEFBdVAsd0JBQXdCLGdIQUFnSCxFQUFFLHNKQUFzSixjQUFjLG1DQUFtQyxpQkFBaUIseVBBQXlQLGdOQUFnTiw0QkFBNEIsK0RBQStELHVGQUF1Rix3RUFBd0UsZ0NBQWdDLGdDQUFnQyx3QkFBd0IsOEJBQThCLDBIQUEwSCw0QkFBNEIsK0JBQStCLG1MQUFtTCwrQ0FBK0Msc0NBQXNDLGlCQUFpQixnQkFBZ0IscUJBQXFCLHFCQUFxQixrQkFBa0Isb0JBQW9CLGVBQWUsNkJBQTZCLG1CQUFtQiwrQkFBK0IsNE9BQTRPLGFBQWEsYUFBYSx3Q0FBd0MscUZBQXFGLFdBQVcsZ1FBQWdRLDhFQUE4RSwyTUFBMk0sMkJBQTJCLHNEQUFzRCw0REFBNEQsbUVBQW1FLDREQUE0RCx3QkFBd0IsTUFBTSx5Q0FBeUMsZ0JBQWdCLDRDQUE0QyxtSEFBbUgsd0hBQXdILDZDQUE2Qyx3QkFBd0IsZUFBZSxlQUFlLGlCQUFpQiw4QkFBOEIsK0ZBQStGLFVBQVUsdUxBQXVMLGdIQUFnSCx1R0FBdUcsd0JBQXdCLDJDQUEyQyx3QkFBd0IsNENBQTRDLHVCQUF1QiwyREFBMkQscUJBQXFCLGVBQWUsa0NBQWtDLHNCQUFzQixFQUFFLHlCQUF5QiwwQkFBMEIsNkhBQTZILHFCQUFxQixNQUFNLCtCQUErQixvQkFBb0IsaUhBQWlILHNMQUFzTCxFQUFFLHFCQUFxQiw4SEFBOEgsc0JBQXNCLHVRQUF1USxhQUFhLGNBQWMsd0JBQXdCLE1BQU0scURBQXFELGlEQUFpRCxJQUFJLG1DQUFtQywrQ0FBK0MsTUFBTSxnQkFBZ0IsMkNBQTJDLHNCQUFzQix3RUFBd0Usd0NBQXdDLDREQUE0RCxLQUFLLFVBQVUsZUFBZSxtQkFBbUIsYUFBYSwwRUFBMEUsaUZBQWlGLE1BQU0saUdBQWlHLE1BQU0sSUFBSSx5TUFBeU0sK0NBQStDLGdCQUFnQiw2REFBNkQsR0FBRyxTQUFTLHNEQUFzRCxtQkFBbUIsU0FBUyxNQUFNLG9CQUFvQixrQkFBa0IsRUFBRSxRQUFRLG9DQUFvQyx5Q0FBeUMsaUhBQWlILDZQQUE2UCwwRUFBMEUsOENBQThDLEtBQUssc0NBQXNDLFlBQVksNkJBQTZCLDBDQUEwQyx1RUFBdUUsc0JBQXNCLFNBQVMseUJBQXlCLHVEQUF1RCw0RUFBNEUsU0FBUyxZQUFZLFNBQVMsa0JBQWtCLFdBQVcsK0xBQStMLHlCQUF5QixFQUFFLG9CQUFvQixzREFBc0QsRUFBRSwwQkFBMEIsc0hBQXNILGlCQUFpQiwraEJBQStoQixPQUFPO0FBQ2psVztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlCQUFpQixTQUFTLHdDQUF3QztBQUFBO0FBQUE7QUFBQSx3TUFBMEssMEJBQTBCLGlCQUFpQixjQUFjLGtCQUFrQixPQUFPLGdWQUFnViwyQkFBMkIsK0JBQStCLCtEQUErRCxRQUFRLDRDQUE0QyxPQUFPLHVNQUF1TSxZQUFZLEtBQUssNEJBQTRCLHVDQUF1QyxzYUFBc2EsV0FBVywrQkFBK0IsbUJBQW1CLElBQUksNEJBQTRCLHVCQUF1QixpR0FBaUcsT0FBTyxpREFBaUQsZ0JBQWdCLHNDQUFzQyx1QkFBdUIsSUFBSSxJQUFJLDhaQUE4WixRQUFRLDBQQUEwUCxXQUFXLDhCQUE4QixtRUFBbUUsd0JBQXdCLFNBQVMsOEJBQThCLDhEQUE4RCx5Q0FBeUMsd0JBQXdCLGdCQUFnQixtREFBbUQsaURBQWlELHVCQUF1Qix1TUFBdU0sNkRBQTZELFFBQVEsb0dBQW9HLDZCQUE2QixTQUFTLDZDQUE2Qyx3REFBd0QsZ0ZBQWdGLGVBQWUsa0RBQWtELE1BQU0sZ0VBQWdFLHNFQUFzRSxlQUFlLHVEQUF1RCxpQ0FBaUMsSUFBSSwwRkFBMEYsZ0ZBQWdGLGVBQWUsTUFBTSxrREFBa0QsOENBQThDLHNFQUFzRSxlQUFlLHlCQUF5QixhQUFhLFlBQVksMEJBQTBCLFFBQVEsV0FBVyw4SEFBOEgsNkhBQTZILGNBQWMsNERBQTRELGFBQWEsY0FBYyxrQkFBa0IsV0FBVywwTkFBME4saUxBQWlMLGFBQWEsaUJBQWlCLCtCQUErQixhQUFhLGdEQUFnRCxzQ0FBc0Msa1BBQWtQLGdCQUFnQix1QkFBdUIsbUlBQW1JLCtDQUErQyxrQkFBa0Isc0RBQXNELG1CQUFtQixzQ0FBc0MsSUFBSSxtSEFBbUgsR0FBRyxxQkFBcUIsMkJBQTJCLHFCQUFxQixzR0FBc0csdUJBQXVCLHVCQUF1QixzQkFBc0IsOERBQThELHNTQUFzUyxnQ0FBZ0Msb0JBQW9CLHlDQUF5QyxXQUFXLFdBQVcsRUFBRSxvREFBb0QsbUJBQW1CLHFDQUFxQyxJQUFJLFlBQVksR0FBRyxxQkFBcUIsMkJBQTJCLHFCQUFxQiw2RkFBNkYsdUJBQXVCLHFCQUFxQixzQkFBc0Isd0NBQXdDLFdBQVcsV0FBVyxFQUFFLDBCQUEwQiwyQkFBMkIsRUFBRSxvQkFBb0Isd0JBQXdCLElBQUksb0JBQW9CLGtLQUFrSyx1QkFBdUIsdUNBQXVDLG9CQUFvQix3Q0FBd0Msb0JBQW9CLGNBQWMsU0FBUyxNQUFNLGtCQUFrQixrQkFBa0IsV0FBVyxVQUFVLHFGQUFxRixNQUFNLGtFQUFrRSxNQUFNLGdEQUFnRCxNQUFNLDREQUE0RCxNQUFNLG1EQUFtRCxNQUFNLHlDQUF5QyxhQUFhLHFMQUFxTCxTQUFTLDRCQUE0QiwyQ0FBMkMseUZBQXlGLDJDQUEyQyxFQUFFLHVDQUF1QyxrREFBa0QsTUFBTSxrQ0FBa0MsNEJBQTRCLE9BQU8sTUFBTSwrRUFBK0UsTUFBTSw4RkFBOEYsb0dBQW9HLE1BQU0sZUFBZSxvQ0FBb0MsZ0JBQWdCLDBDQUEwQyxTQUFTLCtDQUErQyxvQkFBb0IsSUFBSSxxQkFBcUIsb0RBQW9ELG1EQUFtRCxrQkFBa0IsNENBQTRDLHFEQUFxRCxFQUFFLEdBQUcsZ0JBQWdCLDRCQUE0QiwwQ0FBMEMsc0NBQXNDLGdCQUFnQixhQUFhLDhDQUE4Qyw4SUFBOEksR0FBRyxhQUFhLGFBQWEsdVdBQXVXLGtCQUFrQixNQUFNLHNFQUFzRSxtRUFBbUUsc0JBQXNCLDhKQUE4SiwrR0FBK0csNFBBQTRQLGtGQUFrRixrQkFBa0Isc0JBQXNCLElBQUksd0JBQXdCLGVBQWUsZ0hBQWdILHdCQUF3QixvRkFBb0YsY0FBYyx1TUFBdU0sd0JBQXdCLGlIQUFpSCw0RkFBNEYsdUtBQXVLLCtMQUErTCxzQkFBc0IsRUFBRSxnQkFBZ0IsS0FBSyxjQUFjLGtDQUFrQyxzREFBc0QsS0FBSyxxRUFBcUUsYUFBYSxhQUFhLGNBQWMsaUJBQWlCLFVBQVUsSUFBSSxnQkFBZ0IsMExBQTBMLFVBQVUsTUFBTSxjQUFjLDhCQUE4QixZQUFZLHVDQUF1QyxZQUFZLHdDQUF3QyxZQUFZLFlBQVkseUJBQXlCLGdDQUFnQyxnQkFBZ0IsR0FBRyw0Q0FBNEMscUVBQXFFLG9NQUFvTSw2REFBNkQsc0NBQXNDLHlEQUF5RCxlQUFlLGlGQUFpRixZQUFZLDRFQUE0RSxpQ0FBaUMseUZBQXlGLFlBQVksaUZBQWlGLDBCQUEwQixpREFBaUQsWUFBWSxxREFBcUQsa0JBQWtCLDRDQUE0QyxxREFBcUQsRUFBRSw2QkFBNkIsZ0dBQWdHLEVBQUUseUJBQXlCLCtCQUErQix1QkFBdUIsZ0JBQWdCLG9CQUFvQiwrQkFBK0IscUJBQXFCLDBCQUEwQixrQkFBa0Isd0ZBQXdGLGlCQUFpQix3R0FBd0csMEJBQTBCLGtFQUFrRSxhQUFhLGtDQUFrQyxxQkFBcUIsTUFBTSxpQkFBaUIsS0FBSywrQkFBK0IsdUJBQXVCLGdCQUFnQixTQUFTLHdDQUF3Qyx5QkFBeUIsNEJBQTRCLE1BQU0sRUFBRSxFQUFFLGtCQUFrQixjQUFjLGtCQUFrQiw2QkFBNkIsNkJBQTZCLGVBQWUsNkJBQTZCLGlCQUFpQixtSEFBbUgsZ0JBQWdCLDREQUE0RCxFQUFFLCtKQUErSix1QkFBdUIsNkNBQTZDLG9DQUFvQyxFQUFFLHdCQUF3QixpREFBaUQsS0FBSyw4Q0FBOEMsc0JBQXNCLGdEQUFnRCxvREFBb0QsK0NBQStDLHNFQUFzRSxZQUFZLG9CQUFvQiwyQkFBMkIsUUFBUSxpREFBaUQscUJBQXFCLDZCQUE2Qix1REFBdUQsWUFBWSxXQUFXLGlEQUFpRCxTQUFTLHdCQUF3Qiw2Q0FBNkMsb0JBQW9CLG1EQUFtRCxFQUFFLG9FQUFvRSxjQUFjLGVBQWUscVJBQXFSLG1DQUFtQyx5REFBeUQsc0JBQXNCLGtDQUFrQyxvQkFBb0IsdUJBQXVCLG9DQUFvQyxlQUFlLFNBQVMsU0FBUyw4QkFBOEIsV0FBVyxzR0FBc0csd0VBQXdFLGNBQWMsU0FBUyxFIiwiZmlsZSI6ImpzL3NldHRpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgJy4uL21vZHVsZXMvY29tbW9uLmpzJztcclxuaW1wb3J0ICdqcXVlcnktdmFsaWRhdGlvbic7XHJcbmltcG9ydCBVcGxvYWRGaWxlIGZyb20gJy4uL21vZHVsZXMvdXBsb2FkLWZpbGUuanMnO1xyXG5pbXBvcnQgVXRpbCBmcm9tICcuLi9tb2R1bGVzL3V0aWwuanMnO1xyXG5cclxuLy/kuIrkvKAg5aS05YOPXHJcbihmdW5jdGlvbigpe1xyXG5cclxuICAgIGNvbnN0ICRjaGFuZ2VQcm9maWxlRm9ybSA9ICQoJyNjaGFuZ2UtcHJvZmlsZS1mb3JtJyk7XHJcblxyXG4gICAgaWYgKCRjaGFuZ2VQcm9maWxlRm9ybS5sZW5ndGggPiAwKSAge1xyXG4gICAgICAgIGNvbnN0ICR1cGxvYWRDb3ZlciA9ICQoJyN1cGxvYWQtY292ZXInKTtcclxuICAgICAgICBjb25zdCAkYXZhdGFyID0kKCcjY2hhbmdlX3VzZXJfcHJvZmlsZV9hdmF0YXInKTtcclxuICAgICAgICBpZiAoJHVwbG9hZENvdmVyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgJHByZXZpZXdJbWFnZSA9ICR1cGxvYWRDb3Zlci5maW5kKCdbZGF0YS1yb2xlPVwicHJldmlld1wiXScpO1xyXG4gICAgICAgICAgICBuZXcgVXBsb2FkRmlsZSgncGljay1pbWFnZScsIHtcclxuICAgICAgICAgICAgICAgIG9uVXBsb2FkZWQ6IChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gJC5wYXJzZUpTT04ocmVzdWx0LnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVwbG9hZENvdmVyLmFkZENsYXNzKCd1cGxvYWRlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkYXZhdGFyLnZhbChyZXNwb25zZS5rZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcHJldmlld0ltYWdlLmF0dHIoJ3NyYycsIHJlc3BvbnNlLnRodW1iKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBVdGlsLmRpYWxvZy5tZXNzYWdlKHJlc3VsdC5yZXNwb25zZS5tZXNzYWdlIHx8IFRyYW5zbGF0b3IudHJhbnMoJ3VpLnNlcnZlcl9lcnJvcicpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICdVcGxvYWRfQXZhdGFyJzogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGNoYW5nZVByb2ZpbGVGb3JtLnZhbGlkYXRlKHtcclxuICAgICAgICAgICAgc3VibWl0SGFuZGxlcjogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRhdmF0YXIudmFsKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgVXRpbC5kaWFsb2cubWVzc2FnZShUcmFuc2xhdG9yLnRyYW5zKCdzZXR0aW5nLnZhbGlkYXRpb24uYXZhdGFyJykpLmZsYXNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1lc3NhZ2VzOiB7XHJcbiAgICAgICAgICAgICAgICAnY2hhbmdlX3VzZXJfcHJvZmlsZVtlbWFpbF0nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFRyYW5zbGF0b3IudHJhbnMoJ3NldHRpbmcudmFsaWRhdGlvbi5lbWFpbCcpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2NoYW5nZV91c2VyX3Byb2ZpbGVbZ2VuZGVyXSc6IHtcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogVHJhbnNsYXRvci50cmFucygnc2V0dGluZy52YWxpZGF0aW9uLmdlbmRlcicpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2NoYW5nZV91c2VyX3Byb2ZpbGVbZGVzY3JpcHRpb25dJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOlRyYW5zbGF0b3IudHJhbnMoJ3NldHRpbmcudmFsaWRhdGlvbi5kZXNjcmlwdGlvbicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn0pKCQpO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2Fzc2V0cy9qcy9zZXR0aW5nLmpzIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IHBsdXBsb2FkIGZyb20gJ3BsdXBsb2FkJztcclxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IFV0aWwgZnJvbSAnLi91dGlsLmpzJztcclxuXHJcbmNsYXNzIFVwbG9hZEZpbGV7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3RvcklkLCBvcHRpb25zKXtcclxuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RvcklkID0gc2VsZWN0b3JJZDtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uVXBsb2FkZWQ6IChyZXNwb25zZSwgZmlsZSkgPT4ge1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkVycm9yOiAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIFV0aWwuZGlhbG9nLm1lc3NhZ2UoZXJyb3IuY29kZSArIFwiOiBcIiArIGVycm9yLm1lc3NhZ2UgKyAnOyAnICsgVHJhbnNsYXRvci50cmFucygndXBsb2FkLnRyeV9hZ2Fpbl9hZnRlcl9yZWZyZXNoJykpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGxvYWRlciA9IG5ldyBwbHVwbG9hZC5VcGxvYWRlcih7XHJcbiAgICAgICAgICAgIHJ1bnRpbWVzIDogJ2h0bWw1LGZsYXNoLHNpbHZlcmxpZ2h0LGh0bWw0JyxcclxuICAgICAgICAgICAgYnJvd3NlX2J1dHRvbiA6IHNlbGVjdG9ySWQsXHJcbiAgICAgICAgICAgIHVybCA6IFV0aWwucm91dGUuZ2V0Um91dGVQYXRoKCd1cGxvYWQnKSxcclxuICAgICAgICAgICAgZmlsZV9kYXRhX25hbWU6ICdmaWxlJyxcclxuICAgICAgICAgICAgZmlsdGVycyA6IHtcclxuICAgICAgICAgICAgICAgIG1heF9maWxlX3NpemUgOiAnMm1iJyxcclxuICAgICAgICAgICAgICAgIG1pbWVfdHlwZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7dGl0bGUgOiBUcmFuc2xhdG9yLnRyYW5zKCd1cGxvYWQudHJ5X2FnYWluX2FmdGVyX3JlZnJlc2gnKSwgZXh0ZW5zaW9ucyA6IFwianBnLGdpZixwbmdcIn1cclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5vcHRpb25zLmhlYWRlcnMsXHJcbiAgICAgICAgICAgIGluaXQ6IHtcclxuICAgICAgICAgICAgICAgIEZpbGVzQWRkZWQ6IGZ1bmN0aW9uKHVwbG9hZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkZXIuc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBGaWxlVXBsb2FkZWQ6ICh1cGxvYWRlciwgZmlsZSwgcmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm9uVXBsb2FkZWQocmVzdWx0LCBmaWxlKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBFcnJvcjogKHVwbG9hZGVyLCBlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vbkVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudXBsb2FkZXIuaW5pdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVwbG9hZGVyKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXBsb2FkZXI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVwbG9hZEZpbGU7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vYXNzZXRzL21vZHVsZXMvdXBsb2FkLWZpbGUuanMiLCIvKipcbiAqIG1PeGllIC0gbXVsdGktcnVudGltZSBGaWxlIEFQSSAmIFhNTEh0dHBSZXF1ZXN0IEwyIFBvbHlmaWxsXG4gKiB2MS41LjdcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMywgTW94aWVjb2RlIFN5c3RlbXMgQUJcbiAqIFJlbGVhc2VkIHVuZGVyIEdQTCBMaWNlbnNlLlxuICpcbiAqIExpY2Vuc2U6IGh0dHA6Ly93d3cucGx1cGxvYWQuY29tL2xpY2Vuc2VcbiAqIENvbnRyaWJ1dGluZzogaHR0cDovL3d3dy5wbHVwbG9hZC5jb20vY29udHJpYnV0aW5nXG4gKlxuICogRGF0ZTogMjAxNy0xMS0wM1xuICovXG4hZnVuY3Rpb24oZSx0KXt2YXIgaT1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKSxlLm1veGllfTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwibW94aWVcIixbXSxpKTpcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1pKCk6ZS5tb3hpZT1pKCl9KHRoaXN8fHdpbmRvdyxmdW5jdGlvbigpeyFmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSx0KXtmb3IodmFyIGksbj1bXSxyPTA7cjxlLmxlbmd0aDsrK3Ipe2lmKGk9c1tlW3JdXXx8byhlW3JdKSwhaSl0aHJvd1wibW9kdWxlIGRlZmluaXRpb24gZGVwZW5kZWN5IG5vdCBmb3VuZDogXCIrZVtyXTtuLnB1c2goaSl9dC5hcHBseShudWxsLG4pfWZ1bmN0aW9uIG4oZSxuLHIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93XCJpbnZhbGlkIG1vZHVsZSBkZWZpbml0aW9uLCBtb2R1bGUgaWQgbXVzdCBiZSBkZWZpbmVkIGFuZCBiZSBhIHN0cmluZ1wiO2lmKG49PT10KXRocm93XCJpbnZhbGlkIG1vZHVsZSBkZWZpbml0aW9uLCBkZXBlbmRlbmNpZXMgbXVzdCBiZSBzcGVjaWZpZWRcIjtpZihyPT09dCl0aHJvd1wiaW52YWxpZCBtb2R1bGUgZGVmaW5pdGlvbiwgZGVmaW5pdGlvbiBmdW5jdGlvbiBtdXN0IGJlIHNwZWNpZmllZFwiO2kobixmdW5jdGlvbigpe3NbZV09ci5hcHBseShudWxsLGFyZ3VtZW50cyl9KX1mdW5jdGlvbiByKGUpe3JldHVybiEhc1tlXX1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgaT1lLG49dC5zcGxpdCgvWy5cXC9dLykscj0wO3I8bi5sZW5ndGg7KytyKXtpZighaVtuW3JdXSlyZXR1cm47aT1pW25bcl1dfXJldHVybiBpfWZ1bmN0aW9uIGEoaSl7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspe2Zvcih2YXIgcj1lLG89aVtuXSxhPW8uc3BsaXQoL1suXFwvXS8pLHU9MDt1PGEubGVuZ3RoLTE7Kyt1KXJbYVt1XV09PT10JiYoclthW3VdXT17fSkscj1yW2FbdV1dO3JbYVthLmxlbmd0aC0xXV09c1tvXX19dmFyIHM9e307bihcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixbXSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ7cmV0dXJuIGU9PT10P1widW5kZWZpbmVkXCI6bnVsbD09PWU/XCJudWxsXCI6ZS5ub2RlVHlwZT9cIm5vZGVcIjp7fS50b1N0cmluZy5jYWxsKGUpLm1hdGNoKC9cXHMoW2EtenxBLVpdKykvKVsxXS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHQoKXtyZXR1cm4gcyghMSwhMSxhcmd1bWVudHMpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gcyghMCwhMSxhcmd1bWVudHMpfWZ1bmN0aW9uIG4oKXtyZXR1cm4gcyghMSwhMCxhcmd1bWVudHMpfWZ1bmN0aW9uIHIoKXtyZXR1cm4gcyghMCwhMCxhcmd1bWVudHMpfWZ1bmN0aW9uIG8odCl7c3dpdGNoKGUodCkpe2Nhc2VcImFycmF5XCI6cmV0dXJuIHMoITEsITAsW1tdLHRdKTtjYXNlXCJvYmplY3RcIjpyZXR1cm4gcyghMSwhMCxbe30sdF0pO2RlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIGEoaSl7c3dpdGNoKGUoaSkpe2Nhc2VcImFycmF5XCI6cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGkpO2Nhc2VcIm9iamVjdFwiOnJldHVybiB0KHt9LGkpfXJldHVybiBpfWZ1bmN0aW9uIHModCxpLG4pe3ZhciByLG89blswXTtyZXR1cm4gYyhuLGZ1bmN0aW9uKG4sdSl7dT4wJiZjKG4sZnVuY3Rpb24obix1KXt2YXIgYz0tMSE9PWgoZShuKSxbXCJhcnJheVwiLFwib2JqZWN0XCJdKTtyZXR1cm4gbj09PXJ8fHQmJm9bdV09PT1yPyEwOihjJiZpJiYobj1hKG4pKSxlKG9bdV0pPT09ZShuKSYmYz9zKHQsaSxbb1t1XSxuXSk6b1t1XT1uLHZvaWQgMCl9KX0pLG99ZnVuY3Rpb24gdShlLHQpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBuIGluIHQpKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pO3JldHVybiBpLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgaSxlLnBhcmVudD10LnByb3RvdHlwZSxlfWZ1bmN0aW9uIGMoZSx0KXt2YXIgaSxuLHIsbztpZihlKXt0cnl7aT1lLmxlbmd0aH1jYXRjaChhKXtpPW99aWYoaT09PW98fFwibnVtYmVyXCIhPXR5cGVvZiBpKXtmb3IobiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikmJnQoZVtuXSxuKT09PSExKXJldHVybn1lbHNlIGZvcihyPTA7aT5yO3IrKylpZih0KGVbcl0scik9PT0hMSlyZXR1cm59fWZ1bmN0aW9uIGwodCl7dmFyIGk7aWYoIXR8fFwib2JqZWN0XCIhPT1lKHQpKXJldHVybiEwO2ZvcihpIGluIHQpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZCh0LGkpe2Z1bmN0aW9uIG4ocil7XCJmdW5jdGlvblwiPT09ZSh0W3JdKSYmdFtyXShmdW5jdGlvbihlKXsrK3I8byYmIWU/bihyKTppKGUpfSl9dmFyIHI9MCxvPXQubGVuZ3RoO1wiZnVuY3Rpb25cIiE9PWUoaSkmJihpPWZ1bmN0aW9uKCl7fSksdCYmdC5sZW5ndGh8fGkoKSxuKHIpfWZ1bmN0aW9uIG0oZSx0KXt2YXIgaT0wLG49ZS5sZW5ndGgscj1uZXcgQXJyYXkobik7YyhlLGZ1bmN0aW9uKGUsbyl7ZShmdW5jdGlvbihlKXtpZihlKXJldHVybiB0KGUpO3ZhciBhPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTthLnNoaWZ0KCkscltvXT1hLGkrKyxpPT09biYmKHIudW5zaGlmdChudWxsKSx0LmFwcGx5KHRoaXMscikpfSl9KX1mdW5jdGlvbiBoKGUsdCl7aWYodCl7aWYoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodCxlKTtmb3IodmFyIGk9MCxuPXQubGVuZ3RoO24+aTtpKyspaWYodFtpXT09PWUpcmV0dXJuIGl9cmV0dXJuLTF9ZnVuY3Rpb24gZih0LGkpe3ZhciBuPVtdO1wiYXJyYXlcIiE9PWUodCkmJih0PVt0XSksXCJhcnJheVwiIT09ZShpKSYmKGk9W2ldKTtmb3IodmFyIHIgaW4gdCktMT09PWgodFtyXSxpKSYmbi5wdXNoKHRbcl0pO3JldHVybiBuLmxlbmd0aD9uOiExfWZ1bmN0aW9uIHAoZSx0KXt2YXIgaT1bXTtyZXR1cm4gYyhlLGZ1bmN0aW9uKGUpey0xIT09aChlLHQpJiZpLnB1c2goZSl9KSxpLmxlbmd0aD9pOm51bGx9ZnVuY3Rpb24gZyhlKXt2YXIgdCxpPVtdO2Zvcih0PTA7dDxlLmxlbmd0aDt0KyspaVt0XT1lW3RdO3JldHVybiBpfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIGU/U3RyaW5nLnByb3RvdHlwZS50cmltP1N0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKGUpOmUudG9TdHJpbmcoKS5yZXBsYWNlKC9eXFxzKi8sXCJcIikucmVwbGFjZSgvXFxzKiQvLFwiXCIpOmV9ZnVuY3Rpb24gdihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gZTt2YXIgdCxpPXt0OjEwOTk1MTE2Mjc3NzYsZzoxMDczNzQxODI0LG06MTA0ODU3NixrOjEwMjR9O3JldHVybiBlPS9eKFswLTlcXC5dKykoW3RtZ2tdPykkLy5leGVjKGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXjAtOVxcLnRta2ddL2csXCJcIikpLHQ9ZVsyXSxlPStlWzFdLGkuaGFzT3duUHJvcGVydHkodCkmJihlKj1pW3RdKSxNYXRoLmZsb29yKGUpfWZ1bmN0aW9uIHcoZSl7dmFyIHQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGUucmVwbGFjZSgvJShbYS16XSkvZyxmdW5jdGlvbihlLGkpe3ZhciBuPXQuc2hpZnQoKTtzd2l0Y2goaSl7Y2FzZVwic1wiOnJldHVybiBuK1wiXCI7Y2FzZVwiZFwiOnJldHVybiBwYXJzZUludChuLDEwKTtjYXNlXCJmXCI6cmV0dXJuIHBhcnNlRmxvYXQobik7Y2FzZVwiY1wiOnJldHVyblwiXCI7ZGVmYXVsdDpyZXR1cm4gbn19KX1mdW5jdGlvbiB5KGUsdCl7dmFyIGk9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5jYWxsKGkpfSx0fHwxKX12YXIgRT1mdW5jdGlvbigpe3ZhciBlPTA7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpLG49KG5ldyBEYXRlKS5nZXRUaW1lKCkudG9TdHJpbmcoMzIpO2ZvcihpPTA7NT5pO2krKyluKz1NYXRoLmZsb29yKDY1NTM1Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDMyKTtyZXR1cm4odHx8XCJvX1wiKStuKyhlKyspLnRvU3RyaW5nKDMyKX19KCk7cmV0dXJue2d1aWQ6RSx0eXBlT2Y6ZSxleHRlbmQ6dCxleHRlbmRJZjppLGV4dGVuZEltbXV0YWJsZTpuLGV4dGVuZEltbXV0YWJsZUlmOnIsY2xvbmU6byxpbmhlcml0OnUsZWFjaDpjLGlzRW1wdHlPYmo6bCxpblNlcmllczpkLGluUGFyYWxsZWw6bSxpbkFycmF5OmgsYXJyYXlEaWZmOmYsYXJyYXlJbnRlcnNlY3Q6cCx0b0FycmF5OmcsdHJpbTp4LHNwcmludGY6dyxwYXJzZVNpemVTdHI6dixkZWxheTp5fX0pLG4oXCJtb3hpZS9jb3JlL3V0aWxzL0VuY29kZVwiLFtdLGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSl9LHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoZSkpfSxpPWZ1bmN0aW9uKGUsaSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93LmF0b2IpcmV0dXJuIGk/dCh3aW5kb3cuYXRvYihlKSk6d2luZG93LmF0b2IoZSk7dmFyIG4scixvLGEscyx1LGMsbCxkPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixtPTAsaD0wLGY9XCJcIixwPVtdO2lmKCFlKXJldHVybiBlO2UrPVwiXCI7ZG8gYT1kLmluZGV4T2YoZS5jaGFyQXQobSsrKSkscz1kLmluZGV4T2YoZS5jaGFyQXQobSsrKSksdT1kLmluZGV4T2YoZS5jaGFyQXQobSsrKSksYz1kLmluZGV4T2YoZS5jaGFyQXQobSsrKSksbD1hPDwxOHxzPDwxMnx1PDw2fGMsbj0yNTUmbD4+MTYscj0yNTUmbD4+OCxvPTI1NSZsLHBbaCsrXT02ND09dT9TdHJpbmcuZnJvbUNoYXJDb2RlKG4pOjY0PT1jP1N0cmluZy5mcm9tQ2hhckNvZGUobixyKTpTdHJpbmcuZnJvbUNoYXJDb2RlKG4scixvKTt3aGlsZShtPGUubGVuZ3RoKTtyZXR1cm4gZj1wLmpvaW4oXCJcIiksaT90KGYpOmZ9LG49ZnVuY3Rpb24odCxpKXtpZihpJiYodD1lKHQpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cuYnRvYSlyZXR1cm4gd2luZG93LmJ0b2EodCk7dmFyIG4scixvLGEscyx1LGMsbCxkPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixtPTAsaD0wLGY9XCJcIixwPVtdO2lmKCF0KXJldHVybiB0O2RvIG49dC5jaGFyQ29kZUF0KG0rKykscj10LmNoYXJDb2RlQXQobSsrKSxvPXQuY2hhckNvZGVBdChtKyspLGw9bjw8MTZ8cjw8OHxvLGE9NjMmbD4+MTgscz02MyZsPj4xMix1PTYzJmw+PjYsYz02MyZsLHBbaCsrXT1kLmNoYXJBdChhKStkLmNoYXJBdChzKStkLmNoYXJBdCh1KStkLmNoYXJBdChjKTt3aGlsZShtPHQubGVuZ3RoKTtmPXAuam9pbihcIlwiKTt2YXIgZz10Lmxlbmd0aCUzO3JldHVybihnP2Yuc2xpY2UoMCxnLTMpOmYpK1wiPT09XCIuc2xpY2UoZ3x8Myl9O3JldHVybnt1dGY4X2VuY29kZTplLHV0ZjhfZGVjb2RlOnQsYXRvYjppLGJ0b2E6bn19KSxuKFwibW94aWUvY29yZS91dGlscy9FbnZcIixbXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCJdLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoZSx0LGkpe3ZhciBuPTAscj0wLG89MCxhPXtkZXY6LTYsYWxwaGE6LTUsYTotNSxiZXRhOi00LGI6LTQsUkM6LTMscmM6LTMsXCIjXCI6LTIscDoxLHBsOjF9LHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9KFwiXCIrZSkucmVwbGFjZSgvW19cXC0rXS9nLFwiLlwiKSxlPWUucmVwbGFjZSgvKFteLlxcZF0rKS9nLFwiLiQxLlwiKS5yZXBsYWNlKC9cXC57Mix9L2csXCIuXCIpLGUubGVuZ3RoP2Uuc3BsaXQoXCIuXCIpOlstOF19LHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/aXNOYU4oZSk/YVtlXXx8LTc6cGFyc2VJbnQoZSwxMCk6MH07Zm9yKGU9cyhlKSx0PXModCkscj1NYXRoLm1heChlLmxlbmd0aCx0Lmxlbmd0aCksbj0wO3I+bjtuKyspaWYoZVtuXSE9dFtuXSl7aWYoZVtuXT11KGVbbl0pLHRbbl09dSh0W25dKSxlW25dPHRbbl0pe289LTE7YnJlYWt9aWYoZVtuXT50W25dKXtvPTE7YnJlYWt9fWlmKCFpKXJldHVybiBvO3N3aXRjaChpKXtjYXNlXCI+XCI6Y2FzZVwiZ3RcIjpyZXR1cm4gbz4wO2Nhc2VcIj49XCI6Y2FzZVwiZ2VcIjpyZXR1cm4gbz49MDtjYXNlXCI8PVwiOmNhc2VcImxlXCI6cmV0dXJuIDA+PW87Y2FzZVwiPT1cIjpjYXNlXCI9XCI6Y2FzZVwiZXFcIjpyZXR1cm4gMD09PW87Y2FzZVwiPD5cIjpjYXNlXCIhPVwiOmNhc2VcIm5lXCI6cmV0dXJuIDAhPT1vO2Nhc2VcIlwiOmNhc2VcIjxcIjpjYXNlXCJsdFwiOnJldHVybiAwPm87ZGVmYXVsdDpyZXR1cm4gbnVsbH19dmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ9XCJcIixpPVwiP1wiLG49XCJmdW5jdGlvblwiLHI9XCJ1bmRlZmluZWRcIixvPVwib2JqZWN0XCIsYT1cIm5hbWVcIixzPVwidmVyc2lvblwiLHU9e2hhczpmdW5jdGlvbihlLHQpe3JldHVybi0xIT09dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoZS50b0xvd2VyQ2FzZSgpKX0sbG93ZXJpemU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKX19LGM9e3JneDpmdW5jdGlvbigpe2Zvcih2YXIgdCxpLGEscyx1LGMsbCxkPTAsbT1hcmd1bWVudHM7ZDxtLmxlbmd0aDtkKz0yKXt2YXIgaD1tW2RdLGY9bVtkKzFdO2lmKHR5cGVvZiB0PT09cil7dD17fTtmb3IocyBpbiBmKXU9ZltzXSx0eXBlb2YgdT09PW8/dFt1WzBdXT1lOnRbdV09ZX1mb3IoaT1hPTA7aTxoLmxlbmd0aDtpKyspaWYoYz1oW2ldLmV4ZWModGhpcy5nZXRVQSgpKSl7Zm9yKHM9MDtzPGYubGVuZ3RoO3MrKylsPWNbKythXSx1PWZbc10sdHlwZW9mIHU9PT1vJiZ1Lmxlbmd0aD4wPzI9PXUubGVuZ3RoP3RbdVswXV09dHlwZW9mIHVbMV09PW4/dVsxXS5jYWxsKHRoaXMsbCk6dVsxXTozPT11Lmxlbmd0aD90W3VbMF1dPXR5cGVvZiB1WzFdIT09bnx8dVsxXS5leGVjJiZ1WzFdLnRlc3Q/bD9sLnJlcGxhY2UodVsxXSx1WzJdKTplOmw/dVsxXS5jYWxsKHRoaXMsbCx1WzJdKTplOjQ9PXUubGVuZ3RoJiYodFt1WzBdXT1sP3VbM10uY2FsbCh0aGlzLGwucmVwbGFjZSh1WzFdLHVbMl0pKTplKTp0W3VdPWw/bDplO2JyZWFrfWlmKGMpYnJlYWt9cmV0dXJuIHR9LHN0cjpmdW5jdGlvbih0LG4pe2Zvcih2YXIgciBpbiBuKWlmKHR5cGVvZiBuW3JdPT09byYmbltyXS5sZW5ndGg+MCl7Zm9yKHZhciBhPTA7YTxuW3JdLmxlbmd0aDthKyspaWYodS5oYXMobltyXVthXSx0KSlyZXR1cm4gcj09PWk/ZTpyfWVsc2UgaWYodS5oYXMobltyXSx0KSlyZXR1cm4gcj09PWk/ZTpyO3JldHVybiB0fX0sbD17YnJvd3Nlcjp7b2xkc2FmYXJpOnttYWpvcjp7MTpbXCIvOFwiLFwiLzFcIixcIi8zXCJdLDI6XCIvNFwiLFwiP1wiOlwiL1wifSx2ZXJzaW9uOntcIjEuMFwiOlwiLzhcIiwxLjI6XCIvMVwiLDEuMzpcIi8zXCIsXCIyLjBcIjpcIi80MTJcIixcIjIuMC4yXCI6XCIvNDE2XCIsXCIyLjAuM1wiOlwiLzQxN1wiLFwiMi4wLjRcIjpcIi80MTlcIixcIj9cIjpcIi9cIn19fSxkZXZpY2U6e3NwcmludDp7bW9kZWw6e1wiRXZvIFNoaWZ0IDRHXCI6XCI3MzczS1RcIn0sdmVuZG9yOntIVEM6XCJBUEFcIixTcHJpbnQ6XCJTcHJpbnRcIn19fSxvczp7d2luZG93czp7dmVyc2lvbjp7TUU6XCI0LjkwXCIsXCJOVCAzLjExXCI6XCJOVDMuNTFcIixcIk5UIDQuMFwiOlwiTlQ0LjBcIiwyMDAwOlwiTlQgNS4wXCIsWFA6W1wiTlQgNS4xXCIsXCJOVCA1LjJcIl0sVmlzdGE6XCJOVCA2LjBcIiw3OlwiTlQgNi4xXCIsODpcIk5UIDYuMlwiLDguMTpcIk5UIDYuM1wiLFJUOlwiQVJNXCJ9fX19LGQ9e2Jyb3dzZXI6W1svKG9wZXJhXFxzbWluaSlcXC8oW1xcd1xcLi1dKykvaSwvKG9wZXJhXFxzW21vYmlsZXRhYl0rKS4rdmVyc2lvblxcLyhbXFx3XFwuLV0rKS9pLC8ob3BlcmEpLit2ZXJzaW9uXFwvKFtcXHdcXC5dKykvaSwvKG9wZXJhKVtcXC9cXHNdKyhbXFx3XFwuXSspL2ldLFthLHNdLFsvXFxzKG9wcilcXC8oW1xcd1xcLl0rKS9pXSxbW2EsXCJPcGVyYVwiXSxzXSxbLyhraW5kbGUpXFwvKFtcXHdcXC5dKykvaSwvKGx1bmFzY2FwZXxtYXh0aG9ufG5ldGZyb250fGphc21pbmV8YmxhemVyKVtcXC9cXHNdPyhbXFx3XFwuXSspKi9pLC8oYXZhbnRcXHN8aWVtb2JpbGV8c2xpbXxiYWlkdSkoPzpicm93c2VyKT9bXFwvXFxzXT8oW1xcd1xcLl0qKS9pLC8oPzptc3xcXCgpKGllKVxccyhbXFx3XFwuXSspL2ksLyhyZWtvbnEpXFwvKFtcXHdcXC5dKykqL2ksLyhjaHJvbWl1bXxmbG9ja3xyb2NrbWVsdHxtaWRvcml8ZXBpcGhhbnl8c2lsa3xza3lmaXJlfG92aWJyb3dzZXJ8Ym9sdHxpcm9ufHZpdmFsZGkpXFwvKFtcXHdcXC4tXSspL2ldLFthLHNdLFsvKHRyaWRlbnQpLitydls6XFxzXShbXFx3XFwuXSspLitsaWtlXFxzZ2Vja28vaV0sW1thLFwiSUVcIl0sc10sWy8oZWRnZSlcXC8oKFxcZCspP1tcXHdcXC5dKykvaV0sW2Esc10sWy8oeWFicm93c2VyKVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIllhbmRleFwiXSxzXSxbLyhjb21vZG9fZHJhZ29uKVxcLyhbXFx3XFwuXSspL2ldLFtbYSwvXy9nLFwiIFwiXSxzXSxbLyhjaHJvbWV8b21uaXdlYnxhcm9yYXxbdGl6ZW5va2FdezV9XFxzP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pLC8odWNcXHM/YnJvd3NlcnxxcWJyb3dzZXIpW1xcL1xcc10/KFtcXHdcXC5dKykvaV0sW2Esc10sWy8oZG9sZmluKVxcLyhbXFx3XFwuXSspL2ldLFtbYSxcIkRvbHBoaW5cIl0sc10sWy8oKD86YW5kcm9pZC4rKWNybW98Y3Jpb3MpXFwvKFtcXHdcXC5dKykvaV0sW1thLFwiQ2hyb21lXCJdLHNdLFsvWGlhb01pXFwvTWl1aUJyb3dzZXJcXC8oW1xcd1xcLl0rKS9pXSxbcyxbYSxcIk1JVUkgQnJvd3NlclwiXV0sWy9hbmRyb2lkLit2ZXJzaW9uXFwvKFtcXHdcXC5dKylcXHMrKD86bW9iaWxlXFxzP3NhZmFyaXxzYWZhcmkpL2ldLFtzLFthLFwiQW5kcm9pZCBCcm93c2VyXCJdXSxbL0ZCQVZcXC8oW1xcd1xcLl0rKTsvaV0sW3MsW2EsXCJGYWNlYm9va1wiXV0sWy92ZXJzaW9uXFwvKFtcXHdcXC5dKykuKz9tb2JpbGVcXC9cXHcrXFxzKHNhZmFyaSkvaV0sW3MsW2EsXCJNb2JpbGUgU2FmYXJpXCJdXSxbL3ZlcnNpb25cXC8oW1xcd1xcLl0rKS4rPyhtb2JpbGVcXHM/c2FmYXJpfHNhZmFyaSkvaV0sW3MsYV0sWy93ZWJraXQuKz8obW9iaWxlXFxzP3NhZmFyaXxzYWZhcmkpKFxcL1tcXHdcXC5dKykvaV0sW2EsW3MsYy5zdHIsbC5icm93c2VyLm9sZHNhZmFyaS52ZXJzaW9uXV0sWy8oa29ucXVlcm9yKVxcLyhbXFx3XFwuXSspL2ksLyh3ZWJraXR8a2h0bWwpXFwvKFtcXHdcXC5dKykvaV0sW2Esc10sWy8obmF2aWdhdG9yfG5ldHNjYXBlKVxcLyhbXFx3XFwuLV0rKS9pXSxbW2EsXCJOZXRzY2FwZVwiXSxzXSxbLyhzd2lmdGZveCkvaSwvKGljZWRyYWdvbnxpY2V3ZWFzZWx8Y2FtaW5vfGNoaW1lcmF8ZmVubmVjfG1hZW1vXFxzYnJvd3NlcnxtaW5pbW98Y29ua2Vyb3IpW1xcL1xcc10/KFtcXHdcXC5cXCtdKykvaSwvKGZpcmVmb3h8c2VhbW9ua2V5fGstbWVsZW9ufGljZWNhdHxpY2VhcGV8ZmlyZWJpcmR8cGhvZW5peClcXC8oW1xcd1xcLi1dKykvaSwvKG1vemlsbGEpXFwvKFtcXHdcXC5dKykuK3J2XFw6LitnZWNrb1xcL1xcZCsvaSwvKHBvbGFyaXN8bHlueHxkaWxsb3xpY2FifGRvcmlzfGFtYXlhfHczbXxuZXRzdXJmKVtcXC9cXHNdPyhbXFx3XFwuXSspL2ksLyhsaW5rcylcXHNcXCgoW1xcd1xcLl0rKS9pLC8oZ29icm93c2VyKVxcLz8oW1xcd1xcLl0rKSovaSwvKGljZVxccz9icm93c2VyKVxcL3Y/KFtcXHdcXC5fXSspL2ksLyhtb3NhaWMpW1xcL1xcc10oW1xcd1xcLl0rKS9pXSxbYSxzXV0sZW5naW5lOltbL3dpbmRvd3MuK1xcc2VkZ2VcXC8oW1xcd1xcLl0rKS9pXSxbcyxbYSxcIkVkZ2VIVE1MXCJdXSxbLyhwcmVzdG8pXFwvKFtcXHdcXC5dKykvaSwvKHdlYmtpdHx0cmlkZW50fG5ldGZyb250fG5ldHN1cmZ8YW1heWF8bHlueHx3M20pXFwvKFtcXHdcXC5dKykvaSwvKGtodG1sfHRhc21hbnxsaW5rcylbXFwvXFxzXVxcKD8oW1xcd1xcLl0rKS9pLC8oaWNhYilbXFwvXFxzXShbMjNdXFwuW1xcZFxcLl0rKS9pXSxbYSxzXSxbL3J2XFw6KFtcXHdcXC5dKykuKihnZWNrbykvaV0sW3MsYV1dLG9zOltbL21pY3Jvc29mdFxccyh3aW5kb3dzKVxccyh2aXN0YXx4cCkvaV0sW2Esc10sWy8od2luZG93cylcXHNudFxcczZcXC4yO1xccyhhcm0pL2ksLyh3aW5kb3dzXFxzcGhvbmUoPzpcXHNvcykqfHdpbmRvd3NcXHNtb2JpbGV8d2luZG93cylbXFxzXFwvXT8oW250Y2VcXGRcXC5cXHNdK1xcdykvaV0sW2EsW3MsYy5zdHIsbC5vcy53aW5kb3dzLnZlcnNpb25dXSxbLyh3aW4oPz0zfDl8bil8d2luXFxzOXhcXHMpKFtudFxcZFxcLl0rKS9pXSxbW2EsXCJXaW5kb3dzXCJdLFtzLGMuc3RyLGwub3Mud2luZG93cy52ZXJzaW9uXV0sWy9cXCgoYmIpKDEwKTsvaV0sW1thLFwiQmxhY2tCZXJyeVwiXSxzXSxbLyhibGFja2JlcnJ5KVxcdypcXC8/KFtcXHdcXC5dKykqL2ksLyh0aXplbilbXFwvXFxzXShbXFx3XFwuXSspL2ksLyhhbmRyb2lkfHdlYm9zfHBhbG1cXG9zfHFueHxiYWRhfHJpbVxcc3RhYmxldFxcc29zfG1lZWdvfGNvbnRpa2kpW1xcL1xccy1dPyhbXFx3XFwuXSspKi9pLC9saW51eDsuKyhzYWlsZmlzaCk7L2ldLFthLHNdLFsvKHN5bWJpYW5cXHM/b3N8c3ltYm9zfHM2MCg/PTspKVtcXC9cXHMtXT8oW1xcd1xcLl0rKSovaV0sW1thLFwiU3ltYmlhblwiXSxzXSxbL1xcKChzZXJpZXM0MCk7L2ldLFthXSxbL21vemlsbGEuK1xcKG1vYmlsZTsuK2dlY2tvLitmaXJlZm94L2ldLFtbYSxcIkZpcmVmb3ggT1NcIl0sc10sWy8obmludGVuZG98cGxheXN0YXRpb24pXFxzKFt3aWRzM3BvcnRhYmxldnVdKykvaSwvKG1pbnQpW1xcL1xcc1xcKF0/KFxcdyspKi9pLC8obWFnZWlhfHZlY3RvcmxpbnV4KVs7XFxzXS9pLC8oam9saXxba3hsbl0/dWJ1bnR1fGRlYmlhbnxbb3Blbl0qc3VzZXxnZW50b298YXJjaHxzbGFja3dhcmV8ZmVkb3JhfG1hbmRyaXZhfGNlbnRvc3xwY2xpbnV4b3N8cmVkaGF0fHplbndhbGt8bGlucHVzKVtcXC9cXHMtXT8oW1xcd1xcLi1dKykqL2ksLyhodXJkfGxpbnV4KVxccz8oW1xcd1xcLl0rKSovaSwvKGdudSlcXHM/KFtcXHdcXC5dKykqL2ldLFthLHNdLFsvKGNyb3MpXFxzW1xcd10rXFxzKFtcXHdcXC5dK1xcdykvaV0sW1thLFwiQ2hyb21pdW0gT1NcIl0sc10sWy8oc3Vub3MpXFxzPyhbXFx3XFwuXStcXGQpKi9pXSxbW2EsXCJTb2xhcmlzXCJdLHNdLFsvXFxzKFtmcmVudG9wYy1dezAsNH1ic2R8ZHJhZ29uZmx5KVxccz8oW1xcd1xcLl0rKSovaV0sW2Esc10sWy8oaXBbaG9uZWFkXSspKD86Lipvc1xccyooW1xcd10rKSpcXHNsaWtlXFxzbWFjfDtcXHNvcGVyYSkvaV0sW1thLFwiaU9TXCJdLFtzLC9fL2csXCIuXCJdXSxbLyhtYWNcXHNvc1xcc3gpXFxzPyhbXFx3XFxzXFwuXStcXHcpKi9pLC8obWFjaW50b3NofG1hYyg/PV9wb3dlcnBjKVxccykvaV0sW1thLFwiTWFjIE9TXCJdLFtzLC9fL2csXCIuXCJdXSxbLygoPzpvcGVuKT9zb2xhcmlzKVtcXC9cXHMtXT8oW1xcd1xcLl0rKSovaSwvKGhhaWt1KVxccyhcXHcrKS9pLC8oYWl4KVxccygoXFxkKSg/PVxcLnxcXCl8XFxzKVtcXHdcXC5dKikqL2ksLyhwbGFuXFxzOXxtaW5peHxiZW9zfG9zXFwvMnxhbWlnYW9zfG1vcnBob3N8cmlzY1xcc29zfG9wZW52bXMpL2ksLyh1bml4KVxccz8oW1xcd1xcLl0rKSovaV0sW2Esc11dfSxtPWZ1bmN0aW9uKGUpe3ZhciBpPWV8fCh3aW5kb3cmJndpbmRvdy5uYXZpZ2F0b3ImJndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50P3dpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50OnQpO3RoaXMuZ2V0QnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybiBjLnJneC5hcHBseSh0aGlzLGQuYnJvd3Nlcil9LHRoaXMuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIGMucmd4LmFwcGx5KHRoaXMsZC5lbmdpbmUpfSx0aGlzLmdldE9TPWZ1bmN0aW9uKCl7cmV0dXJuIGMucmd4LmFwcGx5KHRoaXMsZC5vcyl9LHRoaXMuZ2V0UmVzdWx0PWZ1bmN0aW9uKCl7cmV0dXJue3VhOnRoaXMuZ2V0VUEoKSxicm93c2VyOnRoaXMuZ2V0QnJvd3NlcigpLGVuZ2luZTp0aGlzLmdldEVuZ2luZSgpLG9zOnRoaXMuZ2V0T1MoKX19LHRoaXMuZ2V0VUE9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdGhpcy5zZXRVQT1mdW5jdGlvbihlKXtyZXR1cm4gaT1lLHRoaXN9LHRoaXMuc2V0VUEoaSl9O3JldHVybiBtfSgpLHI9ZnVuY3Rpb24oKXt2YXIgaT17YWNjZXNzX2dsb2JhbF9uczpmdW5jdGlvbigpe3JldHVybiEhd2luZG93Lm1veGllfSxkZWZpbmVfcHJvcGVydHk6ZnVuY3Rpb24oKXtyZXR1cm4hMX0oKSxjcmVhdGVfY2FudmFzOmZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0PSEoIWUuZ2V0Q29udGV4dHx8IWUuZ2V0Q29udGV4dChcIjJkXCIpKTtyZXR1cm4gaS5jcmVhdGVfY2FudmFzPXQsdH0scmV0dXJuX3Jlc3BvbnNlX3R5cGU6ZnVuY3Rpb24odCl7dHJ5e2lmKC0xIT09ZS5pbkFycmF5KHQsW1wiXCIsXCJ0ZXh0XCIsXCJkb2N1bWVudFwiXSkpcmV0dXJuITA7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KXt2YXIgaT1uZXcgWE1MSHR0cFJlcXVlc3Q7aWYoaS5vcGVuKFwiZ2V0XCIsXCIvXCIpLFwicmVzcG9uc2VUeXBlXCJpbiBpKXJldHVybiBpLnJlc3BvbnNlVHlwZT10LGkucmVzcG9uc2VUeXBlIT09dD8hMTohMH19Y2F0Y2gobil7fXJldHVybiExfSx1c2VfYmxvYl91cmk6ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3cuVVJMO3JldHVybiBpLnVzZV9ibG9iX3VyaT1lJiZcImNyZWF0ZU9iamVjdFVSTFwiaW4gZSYmXCJyZXZva2VPYmplY3RVUkxcImluIGUmJihcIklFXCIhPT1hLmJyb3dzZXJ8fGEudmVyQ29tcChhLnZlcnNpb24sXCIxMS4wLjQ2XCIsXCI+PVwiKSksaS51c2VfYmxvYl91cml9LHVzZV9kYXRhX3VyaTpmdW5jdGlvbigpe3ZhciBlPW5ldyBJbWFnZTtyZXR1cm4gZS5vbmxvYWQ9ZnVuY3Rpb24oKXtpLnVzZV9kYXRhX3VyaT0xPT09ZS53aWR0aCYmMT09PWUuaGVpZ2h0fSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5zcmM9XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQOEFBQUFBQUNINUJBQUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09XCJ9LDEpLCExfSgpLHVzZV9kYXRhX3VyaV9vdmVyMzJrYjpmdW5jdGlvbigpe3JldHVybiBpLnVzZV9kYXRhX3VyaSYmKFwiSUVcIiE9PWEuYnJvd3Nlcnx8YS52ZXJzaW9uPj05KX0sdXNlX2RhdGFfdXJpX29mOmZ1bmN0aW9uKGUpe3JldHVybiBpLnVzZV9kYXRhX3VyaSYmMzNlMz5lfHxpLnVzZV9kYXRhX3VyaV9vdmVyMzJrYigpfSx1c2VfZmlsZWlucHV0OmZ1bmN0aW9uKCl7aWYobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKEFuZHJvaWQgKDEuMHwxLjF8MS41fDEuNnwyLjB8Mi4xKSl8KFdpbmRvd3MgUGhvbmUgKE9TIDd8OC4wKSl8KFhCTFdQKXwoWnVuZVdQKXwodyhlYik/T1NCcm93c2VyKXwod2ViT1MpfChLaW5kbGVcXC8oMS4wfDIuMHwyLjV8My4wKSkvKSlyZXR1cm4hMTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiZmlsZVwiKSxpLnVzZV9maWxlaW5wdXQ9IWUuZGlzYWJsZWR9LHVzZV93ZWJnbDpmdW5jdGlvbigpe3ZhciBlLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxyPW51bGw7dHJ5e3I9bi5nZXRDb250ZXh0KFwid2ViZ2xcIil8fG4uZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiKX1jYXRjaChvKXt9cmV0dXJuIHJ8fChyPW51bGwpLGU9ISFyLGkudXNlX3dlYmdsPWUsbj10LGV9fTtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBuLnNoaWZ0KCksXCJmdW5jdGlvblwiPT09ZS50eXBlT2YoaVt0XSk/aVt0XS5hcHBseSh0aGlzLG4pOiEhaVt0XX19KCksbz0obmV3IG4pLmdldFJlc3VsdCgpLGE9e2NhbjpyLHVhUGFyc2VyOm4sYnJvd3NlcjpvLmJyb3dzZXIubmFtZSx2ZXJzaW9uOm8uYnJvd3Nlci52ZXJzaW9uLG9zOm8ub3MubmFtZSxvc1ZlcnNpb246by5vcy52ZXJzaW9uLHZlckNvbXA6aSxzd2ZfdXJsOlwiLi4vZmxhc2gvTW94aWUuc3dmXCIseGFwX3VybDpcIi4uL3NpbHZlcmxpZ2h0L01veGllLnhhcFwiLGdsb2JhbF9ldmVudF9kaXNwYXRjaGVyOlwibW94aWUuY29yZS5FdmVudFRhcmdldC5pbnN0YW5jZS5kaXNwYXRjaEV2ZW50XCJ9O3JldHVybiBhLk9TPWEub3MsYX0pLG4oXCJtb3hpZS9jb3JlL0V4Y2VwdGlvbnNcIixbXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCJdLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXt2YXIgaTtmb3IoaSBpbiBlKWlmKGVbaV09PT10KXJldHVybiBpO3JldHVybiBudWxsfXJldHVybntSdW50aW1lRXJyb3I6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsaSl7dGhpcy5jb2RlPWUsdGhpcy5uYW1lPXQobixlKSx0aGlzLm1lc3NhZ2U9dGhpcy5uYW1lKyhpfHxcIjogUnVudGltZUVycm9yIFwiK3RoaXMuY29kZSl9dmFyIG49e05PVF9JTklUX0VSUjoxLEVYQ0VQVElPTl9FUlI6MyxOT1RfU1VQUE9SVEVEX0VSUjo5LEpTX0VSUjo0fTtyZXR1cm4gZS5leHRlbmQoaSxuKSxpLnByb3RvdHlwZT1FcnJvci5wcm90b3R5cGUsaX0oKSxPcGVyYXRpb25Ob3RBbGxvd2VkRXhjZXB0aW9uOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt0aGlzLmNvZGU9ZSx0aGlzLm5hbWU9XCJPcGVyYXRpb25Ob3RBbGxvd2VkRXhjZXB0aW9uXCJ9cmV0dXJuIGUuZXh0ZW5kKHQse05PVF9BTExPV0VEX0VSUjoxfSksdC5wcm90b3R5cGU9RXJyb3IucHJvdG90eXBlLHR9KCksSW1hZ2VFcnJvcjpmdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5jb2RlPWUsdGhpcy5uYW1lPXQobixlKSx0aGlzLm1lc3NhZ2U9dGhpcy5uYW1lK1wiOiBJbWFnZUVycm9yIFwiK3RoaXMuY29kZX12YXIgbj17V1JPTkdfRk9STUFUOjEsTUFYX1JFU09MVVRJT05fRVJSOjIsSU5WQUxJRF9NRVRBX0VSUjozfTtyZXR1cm4gZS5leHRlbmQoaSxuKSxpLnByb3RvdHlwZT1FcnJvci5wcm90b3R5cGUsaX0oKSxGaWxlRXhjZXB0aW9uOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt0aGlzLmNvZGU9ZSx0aGlzLm5hbWU9dChuLGUpLHRoaXMubWVzc2FnZT10aGlzLm5hbWUrXCI6IEZpbGVFeGNlcHRpb24gXCIrdGhpcy5jb2RlfXZhciBuPXtOT1RfRk9VTkRfRVJSOjEsU0VDVVJJVFlfRVJSOjIsQUJPUlRfRVJSOjMsTk9UX1JFQURBQkxFX0VSUjo0LEVOQ09ESU5HX0VSUjo1LE5PX01PRElGSUNBVElPTl9BTExPV0VEX0VSUjo2LElOVkFMSURfU1RBVEVfRVJSOjcsU1lOVEFYX0VSUjo4fTtyZXR1cm4gZS5leHRlbmQoaSxuKSxpLnByb3RvdHlwZT1FcnJvci5wcm90b3R5cGUsaX0oKSxET01FeGNlcHRpb246ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuY29kZT1lLHRoaXMubmFtZT10KG4sZSksdGhpcy5tZXNzYWdlPXRoaXMubmFtZStcIjogRE9NRXhjZXB0aW9uIFwiK3RoaXMuY29kZX12YXIgbj17SU5ERVhfU0laRV9FUlI6MSxET01TVFJJTkdfU0laRV9FUlI6MixISUVSQVJDSFlfUkVRVUVTVF9FUlI6MyxXUk9OR19ET0NVTUVOVF9FUlI6NCxJTlZBTElEX0NIQVJBQ1RFUl9FUlI6NSxOT19EQVRBX0FMTE9XRURfRVJSOjYsTk9fTU9ESUZJQ0FUSU9OX0FMTE9XRURfRVJSOjcsTk9UX0ZPVU5EX0VSUjo4LE5PVF9TVVBQT1JURURfRVJSOjksSU5VU0VfQVRUUklCVVRFX0VSUjoxMCxJTlZBTElEX1NUQVRFX0VSUjoxMSxTWU5UQVhfRVJSOjEyLElOVkFMSURfTU9ESUZJQ0FUSU9OX0VSUjoxMyxOQU1FU1BBQ0VfRVJSOjE0LElOVkFMSURfQUNDRVNTX0VSUjoxNSxWQUxJREFUSU9OX0VSUjoxNixUWVBFX01JU01BVENIX0VSUjoxNyxTRUNVUklUWV9FUlI6MTgsTkVUV09SS19FUlI6MTksQUJPUlRfRVJSOjIwLFVSTF9NSVNNQVRDSF9FUlI6MjEsUVVPVEFfRVhDRUVERURfRVJSOjIyLFRJTUVPVVRfRVJSOjIzLElOVkFMSURfTk9ERV9UWVBFX0VSUjoyNCxEQVRBX0NMT05FX0VSUjoyNX07cmV0dXJuIGUuZXh0ZW5kKGksbiksaS5wcm90b3R5cGU9RXJyb3IucHJvdG90eXBlLGl9KCksRXZlbnRFeGNlcHRpb246ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RoaXMuY29kZT1lLHRoaXMubmFtZT1cIkV2ZW50RXhjZXB0aW9uXCJ9cmV0dXJuIGUuZXh0ZW5kKHQse1VOU1BFQ0lGSUVEX0VWRU5UX1RZUEVfRVJSOjB9KSx0LnByb3RvdHlwZT1FcnJvci5wcm90b3R5cGUsdH0oKX19KSxuKFwibW94aWUvY29yZS91dGlscy9Eb21cIixbXCJtb3hpZS9jb3JlL3V0aWxzL0VudlwiXSxmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZT9lOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpfSxpPWZ1bmN0aW9uKGUsdCl7aWYoIWUuY2xhc3NOYW1lKXJldHVybiExO3ZhciBpPW5ldyBSZWdFeHAoXCIoXnxcXFxccyspXCIrdCtcIihcXFxccyt8JClcIik7cmV0dXJuIGkudGVzdChlLmNsYXNzTmFtZSl9LG49ZnVuY3Rpb24oZSx0KXtpKGUsdCl8fChlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZT9lLmNsYXNzTmFtZS5yZXBsYWNlKC9cXHMrJC8sXCJcIikrXCIgXCIrdDp0KX0scj1mdW5jdGlvbihlLHQpe2lmKGUuY2xhc3NOYW1lKXt2YXIgaT1uZXcgUmVnRXhwKFwiKF58XFxcXHMrKVwiK3QrXCIoXFxcXHMrfCQpXCIpO2UuY2xhc3NOYW1lPWUuY2xhc3NOYW1lLnJlcGxhY2UoaSxmdW5jdGlvbihlLHQsaSl7cmV0dXJuXCIgXCI9PT10JiZcIiBcIj09PWk/XCIgXCI6XCJcIn0pfX0sbz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmN1cnJlbnRTdHlsZT9lLmN1cnJlbnRTdHlsZVt0XTp3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT93aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpW3RdOnZvaWQgMH0sYT1mdW5jdGlvbih0LGkpe2Z1bmN0aW9uIG4oZSl7dmFyIHQsaSxuPTAscj0wO3JldHVybiBlJiYoaT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHQ9XCJDU1MxQ29tcGF0XCI9PT1jLmNvbXBhdE1vZGU/Yy5kb2N1bWVudEVsZW1lbnQ6Yy5ib2R5LG49aS5sZWZ0K3Quc2Nyb2xsTGVmdCxyPWkudG9wK3Quc2Nyb2xsVG9wKSx7eDpuLHk6cn19dmFyIHIsbyxhLHM9MCx1PTAsYz1kb2N1bWVudDtpZih0PXQsaT1pfHxjLmJvZHksdCYmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJlwiSUVcIj09PWUuYnJvd3NlciYmKCFjLmRvY3VtZW50TW9kZXx8Yy5kb2N1bWVudE1vZGU8OCkpcmV0dXJuIG89bih0KSxhPW4oaSkse3g6by54LWEueCx5Om8ueS1hLnl9O2ZvcihyPXQ7ciYmciE9aSYmci5ub2RlVHlwZTspcys9ci5vZmZzZXRMZWZ0fHwwLHUrPXIub2Zmc2V0VG9wfHwwLHI9ci5vZmZzZXRQYXJlbnQ7Zm9yKHI9dC5wYXJlbnROb2RlO3ImJnIhPWkmJnIubm9kZVR5cGU7KXMtPXIuc2Nyb2xsTGVmdHx8MCx1LT1yLnNjcm9sbFRvcHx8MCxyPXIucGFyZW50Tm9kZTtyZXR1cm57eDpzLHk6dX19LHM9ZnVuY3Rpb24oZSl7cmV0dXJue3c6ZS5vZmZzZXRXaWR0aHx8ZS5jbGllbnRXaWR0aCxoOmUub2Zmc2V0SGVpZ2h0fHxlLmNsaWVudEhlaWdodH19O3JldHVybntnZXQ6dCxoYXNDbGFzczppLGFkZENsYXNzOm4scmVtb3ZlQ2xhc3M6cixnZXRTdHlsZTpvLGdldFBvczphLGdldFNpemU6c319KSxuKFwibW94aWUvY29yZS9FdmVudFRhcmdldFwiLFtcIm1veGllL2NvcmUvdXRpbHMvRW52XCIsXCJtb3hpZS9jb3JlL0V4Y2VwdGlvbnNcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIl0sZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4oKXt0aGlzLnVpZD1pLmd1aWQoKX12YXIgcj17fTtyZXR1cm4gaS5leHRlbmQobi5wcm90b3R5cGUse2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnVpZHx8KHRoaXMudWlkPWkuZ3VpZChcInVpZF9cIikpfSxhZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGUsdCxuLG8pe3ZhciBhLHM9dGhpcztyZXR1cm4gdGhpcy5oYXNPd25Qcm9wZXJ0eShcInVpZFwiKXx8KHRoaXMudWlkPWkuZ3VpZChcInVpZF9cIikpLGU9aS50cmltKGUpLC9cXHMvLnRlc3QoZSk/KGkuZWFjaChlLnNwbGl0KC9cXHMrLyksZnVuY3Rpb24oZSl7cy5hZGRFdmVudExpc3RlbmVyKGUsdCxuLG8pfSksdm9pZCAwKTooZT1lLnRvTG93ZXJDYXNlKCksbj1wYXJzZUludChuLDEwKXx8MCxhPXJbdGhpcy51aWRdJiZyW3RoaXMudWlkXVtlXXx8W10sYS5wdXNoKHtmbjp0LHByaW9yaXR5Om4sc2NvcGU6b3x8dGhpc30pLHJbdGhpcy51aWRdfHwoclt0aGlzLnVpZF09e30pLHJbdGhpcy51aWRdW2VdPWEsdm9pZCAwKX0saGFzRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZT8oZT1lLnRvTG93ZXJDYXNlKCksdD1yW3RoaXMudWlkXSYmclt0aGlzLnVpZF1bZV0pOnQ9clt0aGlzLnVpZF0sdD90OiExfSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGUsdCl7dmFyIG4sbyxhPXRoaXM7aWYoZT1lLnRvTG93ZXJDYXNlKCksL1xccy8udGVzdChlKSlyZXR1cm4gaS5lYWNoKGUuc3BsaXQoL1xccysvKSxmdW5jdGlvbihlKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0KX0pLHZvaWQgMDtpZihuPXJbdGhpcy51aWRdJiZyW3RoaXMudWlkXVtlXSl7aWYodCl7Zm9yKG89bi5sZW5ndGgtMTtvPj0wO28tLSlpZihuW29dLmZuPT09dCl7bi5zcGxpY2UobywxKTticmVha319ZWxzZSBuPVtdO24ubGVuZ3RofHwoZGVsZXRlIHJbdGhpcy51aWRdW2VdLGkuaXNFbXB0eU9iaihyW3RoaXMudWlkXSkmJmRlbGV0ZSByW3RoaXMudWlkXSl9fSxyZW1vdmVBbGxFdmVudExpc3RlbmVyczpmdW5jdGlvbigpe3JbdGhpcy51aWRdJiZkZWxldGUgclt0aGlzLnVpZF19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oZSl7dmFyIG4sbyxhLHMsdSxjPXt9LGw9ITA7aWYoXCJzdHJpbmdcIiE9PWkudHlwZU9mKGUpKXtpZihzPWUsXCJzdHJpbmdcIiE9PWkudHlwZU9mKHMudHlwZSkpdGhyb3cgbmV3IHQuRXZlbnRFeGNlcHRpb24odC5FdmVudEV4Y2VwdGlvbi5VTlNQRUNJRklFRF9FVkVOVF9UWVBFX0VSUik7ZT1zLnR5cGUscy50b3RhbCE9PXUmJnMubG9hZGVkIT09dSYmKGMudG90YWw9cy50b3RhbCxjLmxvYWRlZD1zLmxvYWRlZCksYy5hc3luYz1zLmFzeW5jfHwhMX1pZigtMSE9PWUuaW5kZXhPZihcIjo6XCIpP2Z1bmN0aW9uKHQpe249dFswXSxlPXRbMV19KGUuc3BsaXQoXCI6OlwiKSk6bj10aGlzLnVpZCxlPWUudG9Mb3dlckNhc2UoKSxvPXJbbl0mJnJbbl1bZV0pe28uc29ydChmdW5jdGlvbihlLHQpe3JldHVybiB0LnByaW9yaXR5LWUucHJpb3JpdHl9KSxhPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxhLnNoaWZ0KCksYy50eXBlPWUsYS51bnNoaWZ0KGMpO3ZhciBkPVtdO2kuZWFjaChvLGZ1bmN0aW9uKGUpe2FbMF0udGFyZ2V0PWUuc2NvcGUsYy5hc3luYz9kLnB1c2goZnVuY3Rpb24odCl7c2V0VGltZW91dChmdW5jdGlvbigpe3QoZS5mbi5hcHBseShlLnNjb3BlLGEpPT09ITEpfSwxKX0pOmQucHVzaChmdW5jdGlvbih0KXt0KGUuZm4uYXBwbHkoZS5zY29wZSxhKT09PSExKX0pfSksZC5sZW5ndGgmJmkuaW5TZXJpZXMoZCxmdW5jdGlvbihlKXtsPSFlfSl9cmV0dXJuIGx9LGJpbmRPbmNlOmZ1bmN0aW9uKGUsdCxpLG4pe3ZhciByPXRoaXM7ci5iaW5kLmNhbGwodGhpcyxlLGZ1bmN0aW9uIG8oKXtyZXR1cm4gci51bmJpbmQoZSxvKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saSxuKX0sYmluZDpmdW5jdGlvbigpe3RoaXMuYWRkRXZlbnRMaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHVuYmluZDpmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHVuYmluZEFsbDpmdW5jdGlvbigpe3RoaXMucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGhhbmRsZUV2ZW50UHJvcHM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmJpbmQoZS5qb2luKFwiIFwiKSxmdW5jdGlvbihlKXt2YXIgdD1cIm9uXCIrZS50eXBlLnRvTG93ZXJDYXNlKCk7XCJmdW5jdGlvblwiPT09aS50eXBlT2YodGhpc1t0XSkmJnRoaXNbdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSksaS5lYWNoKGUsZnVuY3Rpb24oZSl7ZT1cIm9uXCIrZS50b0xvd2VyQ2FzZShlKSxcInVuZGVmaW5lZFwiPT09aS50eXBlT2YodFtlXSkmJih0W2VdPW51bGwpfSl9fSksbi5pbnN0YW5jZT1uZXcgbixufSksbihcIm1veGllL3J1bnRpbWUvUnVudGltZVwiLFtcIm1veGllL2NvcmUvdXRpbHMvRW52XCIsXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0RvbVwiLFwibW94aWUvY29yZS9FdmVudFRhcmdldFwiXSxmdW5jdGlvbihlLHQsaSxuKXtmdW5jdGlvbiByKGUsbixvLHMsdSl7dmFyIGMsbD10aGlzLGQ9dC5ndWlkKG4rXCJfXCIpLG09dXx8XCJicm93c2VyXCI7ZT1lfHx7fSxhW2RdPXRoaXMsbz10LmV4dGVuZCh7YWNjZXNzX2JpbmFyeTohMSxhY2Nlc3NfaW1hZ2VfYmluYXJ5OiExLGRpc3BsYXlfbWVkaWE6ITEsZG9fY29yczohMSxkcmFnX2FuZF9kcm9wOiExLGZpbHRlcl9ieV9leHRlbnNpb246ITAscmVzaXplX2ltYWdlOiExLHJlcG9ydF91cGxvYWRfcHJvZ3Jlc3M6ITEscmV0dXJuX3Jlc3BvbnNlX2hlYWRlcnM6ITEscmV0dXJuX3Jlc3BvbnNlX3R5cGU6ITEscmV0dXJuX3N0YXR1c19jb2RlOiEwLHNlbmRfY3VzdG9tX2hlYWRlcnM6ITEsc2VsZWN0X2ZpbGU6ITEsc2VsZWN0X2ZvbGRlcjohMSxzZWxlY3RfbXVsdGlwbGU6ITAsc2VuZF9iaW5hcnlfc3RyaW5nOiExLHNlbmRfYnJvd3Nlcl9jb29raWVzOiEwLHNlbmRfbXVsdGlwYXJ0OiEwLHNsaWNlX2Jsb2I6ITEsc3RyZWFtX3VwbG9hZDohMSxzdW1tb25fZmlsZV9kaWFsb2c6ITEsdXBsb2FkX2ZpbGVzaXplOiEwLHVzZV9odHRwX21ldGhvZDohMH0sbyksZS5wcmVmZXJyZWRfY2FwcyYmKG09ci5nZXRNb2RlKHMsZS5wcmVmZXJyZWRfY2FwcyxtKSksYz1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybntleGVjOmZ1bmN0aW9uKHQsaSxuLHIpe3JldHVybiBjW2ldJiYoZVt0XXx8KGVbdF09e2NvbnRleHQ6dGhpcyxpbnN0YW5jZTpuZXcgY1tpXX0pLGVbdF0uaW5zdGFuY2Vbbl0pP2VbdF0uaW5zdGFuY2Vbbl0uYXBwbHkodGhpcyxyKTp2b2lkIDB9LHJlbW92ZUluc3RhbmNlOmZ1bmN0aW9uKHQpe2RlbGV0ZSBlW3RdfSxyZW1vdmVBbGxJbnN0YW5jZXM6ZnVuY3Rpb24oKXt2YXIgaT10aGlzO3QuZWFjaChlLGZ1bmN0aW9uKGUsbil7XCJmdW5jdGlvblwiPT09dC50eXBlT2YoZS5pbnN0YW5jZS5kZXN0cm95KSYmZS5pbnN0YW5jZS5kZXN0cm95LmNhbGwoZS5jb250ZXh0KSxpLnJlbW92ZUluc3RhbmNlKG4pfSl9fX0oKSx0LmV4dGVuZCh0aGlzLHtpbml0aWFsaXplZDohMSx1aWQ6ZCx0eXBlOm4sbW9kZTpyLmdldE1vZGUocyxlLnJlcXVpcmVkX2NhcHMsbSksc2hpbWlkOmQrXCJfY29udGFpbmVyXCIsY2xpZW50czowLG9wdGlvbnM6ZSxjYW46ZnVuY3Rpb24oZSxpKXt2YXIgbj1hcmd1bWVudHNbMl18fG87aWYoXCJzdHJpbmdcIj09PXQudHlwZU9mKGUpJiZcInVuZGVmaW5lZFwiPT09dC50eXBlT2YoaSkmJihlPXIucGFyc2VDYXBzKGUpKSxcIm9iamVjdFwiPT09dC50eXBlT2YoZSkpe2Zvcih2YXIgYSBpbiBlKWlmKCF0aGlzLmNhbihhLGVbYV0sbikpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuXCJmdW5jdGlvblwiPT09dC50eXBlT2YobltlXSk/bltlXS5jYWxsKHRoaXMsaSk6aT09PW5bZV19LGdldFNoaW1Db250YWluZXI6ZnVuY3Rpb24oKXt2YXIgZSxuPWkuZ2V0KHRoaXMuc2hpbWlkKTtyZXR1cm4gbnx8KGU9aS5nZXQodGhpcy5vcHRpb25zLmNvbnRhaW5lcil8fGRvY3VtZW50LmJvZHksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLG4uaWQ9dGhpcy5zaGltaWQsbi5jbGFzc05hbWU9XCJtb3hpZS1zaGltIG1veGllLXNoaW0tXCIrdGhpcy50eXBlLHQuZXh0ZW5kKG4uc3R5bGUse3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCIwcHhcIixsZWZ0OlwiMHB4XCIsd2lkdGg6XCIxcHhcIixoZWlnaHQ6XCIxcHhcIixvdmVyZmxvdzpcImhpZGRlblwifSksZS5hcHBlbmRDaGlsZChuKSxlPW51bGwpLG59LGdldFNoaW06ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2hpbUV4ZWM6ZnVuY3Rpb24oZSx0KXt2YXIgaT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gbC5nZXRTaGltKCkuZXhlYy5jYWxsKHRoaXMsdGhpcy51aWQsZSx0LGkpfSxleGVjOmZ1bmN0aW9uKGUsdCl7dmFyIGk9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGxbZV0mJmxbZV1bdF0/bFtlXVt0XS5hcHBseSh0aGlzLGkpOmwuc2hpbUV4ZWMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkZXN0cm95OmZ1bmN0aW9uKCl7aWYobCl7dmFyIGU9aS5nZXQodGhpcy5zaGltaWQpO2UmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxjJiZjLnJlbW92ZUFsbEluc3RhbmNlcygpLHRoaXMudW5iaW5kQWxsKCksZGVsZXRlIGFbdGhpcy51aWRdLHRoaXMudWlkPW51bGwsZD1sPWM9ZT1udWxsfX19KSx0aGlzLm1vZGUmJmUucmVxdWlyZWRfY2FwcyYmIXRoaXMuY2FuKGUucmVxdWlyZWRfY2FwcykmJih0aGlzLm1vZGU9ITEpfXZhciBvPXt9LGE9e307cmV0dXJuIHIub3JkZXI9XCJodG1sNSxmbGFzaCxzaWx2ZXJsaWdodCxodG1sNFwiLHIuZ2V0UnVudGltZT1mdW5jdGlvbihlKXtyZXR1cm4gYVtlXT9hW2VdOiExfSxyLmFkZENvbnN0cnVjdG9yPWZ1bmN0aW9uKGUsdCl7dC5wcm90b3R5cGU9bi5pbnN0YW5jZSxvW2VdPXR9LHIuZ2V0Q29uc3RydWN0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV18fG51bGx9LHIuZ2V0SW5mbz1mdW5jdGlvbihlKXt2YXIgdD1yLmdldFJ1bnRpbWUoZSk7cmV0dXJuIHQ/e3VpZDp0LnVpZCx0eXBlOnQudHlwZSxtb2RlOnQubW9kZSxjYW46ZnVuY3Rpb24oKXtyZXR1cm4gdC5jYW4uYXBwbHkodCxhcmd1bWVudHMpfX06bnVsbH0sci5wYXJzZUNhcHM9ZnVuY3Rpb24oZSl7dmFyIGk9e307cmV0dXJuXCJzdHJpbmdcIiE9PXQudHlwZU9mKGUpP2V8fHt9Oih0LmVhY2goZS5zcGxpdChcIixcIiksZnVuY3Rpb24oZSl7aVtlXT0hMH0pLGkpfSxyLmNhbj1mdW5jdGlvbihlLHQpe3ZhciBpLG4sbz1yLmdldENvbnN0cnVjdG9yKGUpO3JldHVybiBvPyhpPW5ldyBvKHtyZXF1aXJlZF9jYXBzOnR9KSxuPWkubW9kZSxpLmRlc3Ryb3koKSwhIW4pOiExfSxyLnRoYXRDYW49ZnVuY3Rpb24oZSx0KXt2YXIgaT0odHx8ci5vcmRlcikuc3BsaXQoL1xccyosXFxzKi8pO2Zvcih2YXIgbiBpbiBpKWlmKHIuY2FuKGlbbl0sZSkpcmV0dXJuIGlbbl07cmV0dXJuIG51bGx9LHIuZ2V0TW9kZT1mdW5jdGlvbihlLGksbil7dmFyIHI9bnVsbDtpZihcInVuZGVmaW5lZFwiPT09dC50eXBlT2YobikmJihuPVwiYnJvd3NlclwiKSxpJiYhdC5pc0VtcHR5T2JqKGUpKXtpZih0LmVhY2goaSxmdW5jdGlvbihpLG4pe2lmKGUuaGFzT3duUHJvcGVydHkobikpe3ZhciBvPWVbbl0oaSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtvXSkscil7aWYoIShyPXQuYXJyYXlJbnRlcnNlY3QocixvKSkpcmV0dXJuIHI9ITF9ZWxzZSByPW99fSkscilyZXR1cm4tMSE9PXQuaW5BcnJheShuLHIpP246clswXTtpZihyPT09ITEpcmV0dXJuITF9cmV0dXJuIG59LHIuZ2V0R2xvYmFsRXZlbnRUYXJnZXQ9ZnVuY3Rpb24oKXtpZigvXm1veGllXFwuLy50ZXN0KGUuZ2xvYmFsX2V2ZW50X2Rpc3BhdGNoZXIpJiYhZS5jYW4oXCJhY2Nlc3NfZ2xvYmFsX25zXCIpKXt2YXIgaT10Lmd1aWQoXCJtb3hpZV9ldmVudF90YXJnZXRfXCIpO3dpbmRvd1tpXT1mdW5jdGlvbihlLHQpe24uaW5zdGFuY2UuZGlzcGF0Y2hFdmVudChlLHQpfSxlLmdsb2JhbF9ldmVudF9kaXNwYXRjaGVyPWl9cmV0dXJuIGUuZ2xvYmFsX2V2ZW50X2Rpc3BhdGNoZXJ9LHIuY2FwVHJ1ZT1mdW5jdGlvbigpe3JldHVybiEwfSxyLmNhcEZhbHNlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHIuY2FwVGVzdD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hIWV9fSxyfSksbihcIm1veGllL3J1bnRpbWUvUnVudGltZUNsaWVudFwiLFtcIm1veGllL2NvcmUvdXRpbHMvRW52XCIsXCJtb3hpZS9jb3JlL0V4Y2VwdGlvbnNcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL3J1bnRpbWUvUnVudGltZVwiXSxmdW5jdGlvbihlLHQsaSxuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZTtpLmV4dGVuZCh0aGlzLHtjb25uZWN0UnVudGltZTpmdW5jdGlvbihyKXtmdW5jdGlvbiBvKGkpe3ZhciBhLHU7cmV0dXJuIGkubGVuZ3RoPyhhPWkuc2hpZnQoKS50b0xvd2VyQ2FzZSgpLCh1PW4uZ2V0Q29uc3RydWN0b3IoYSkpPyhlPW5ldyB1KHIpLGUuYmluZChcIkluaXRcIixmdW5jdGlvbigpe2UuaW5pdGlhbGl6ZWQ9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe2UuY2xpZW50cysrLHMucnVpZD1lLnVpZCxzLnRyaWdnZXIoXCJSdW50aW1lSW5pdFwiLGUpfSwxKX0pLGUuYmluZChcIkVycm9yXCIsZnVuY3Rpb24oKXtlLmRlc3Ryb3koKSxvKGkpfSksZS5iaW5kKFwiRXhjZXB0aW9uXCIsZnVuY3Rpb24oZSxpKXt2YXIgbj1pLm5hbWUrXCIoI1wiK2kuY29kZStcIilcIisoaS5tZXNzYWdlP1wiLCBmcm9tOiBcIitpLm1lc3NhZ2U6XCJcIik7cy50cmlnZ2VyKFwiUnVudGltZUVycm9yXCIsbmV3IHQuUnVudGltZUVycm9yKHQuUnVudGltZUVycm9yLkVYQ0VQVElPTl9FUlIsbikpfSksZS5tb2RlPyhlLmluaXQoKSx2b2lkIDApOihlLnRyaWdnZXIoXCJFcnJvclwiKSx2b2lkIDApKToobyhpKSx2b2lkIDApKToocy50cmlnZ2VyKFwiUnVudGltZUVycm9yXCIsbmV3IHQuUnVudGltZUVycm9yKHQuUnVudGltZUVycm9yLk5PVF9JTklUX0VSUikpLGU9bnVsbCx2b2lkIDApfXZhciBhLHM9dGhpcztpZihcInN0cmluZ1wiPT09aS50eXBlT2Yocik/YT1yOlwic3RyaW5nXCI9PT1pLnR5cGVPZihyLnJ1aWQpJiYoYT1yLnJ1aWQpLGEpe2lmKGU9bi5nZXRSdW50aW1lKGEpKXJldHVybiBzLnJ1aWQ9YSxlLmNsaWVudHMrKyxlO3Rocm93IG5ldyB0LlJ1bnRpbWVFcnJvcih0LlJ1bnRpbWVFcnJvci5OT1RfSU5JVF9FUlIpfW8oKHIucnVudGltZV9vcmRlcnx8bi5vcmRlcikuc3BsaXQoL1xccyosXFxzKi8pKX0sZGlzY29ubmVjdFJ1bnRpbWU6ZnVuY3Rpb24oKXtlJiYtLWUuY2xpZW50czw9MCYmZS5kZXN0cm95KCksZT1udWxsfSxnZXRSdW50aW1lOmZ1bmN0aW9uKCl7cmV0dXJuIGUmJmUudWlkP2U6ZT1udWxsfSxleGVjOmZ1bmN0aW9uKCl7cmV0dXJuIGU/ZS5leGVjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpudWxsfSxjYW46ZnVuY3Rpb24odCl7cmV0dXJuIGU/ZS5jYW4odCk6ITF9fSl9fSksbihcIm1veGllL2ZpbGUvQmxvYlwiLFtcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL2NvcmUvdXRpbHMvRW5jb2RlXCIsXCJtb3hpZS9ydW50aW1lL1J1bnRpbWVDbGllbnRcIl0sZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4obyxhKXtmdW5jdGlvbiBzKHQsaSxvKXt2YXIgYSxzPXJbdGhpcy51aWRdO3JldHVyblwic3RyaW5nXCI9PT1lLnR5cGVPZihzKSYmcy5sZW5ndGg/KGE9bmV3IG4obnVsbCx7dHlwZTpvLHNpemU6aS10fSksYS5kZXRhY2gocy5zdWJzdHIodCxhLnNpemUpKSxhKTpudWxsfWkuY2FsbCh0aGlzKSxvJiZ0aGlzLmNvbm5lY3RSdW50aW1lKG8pLGE/XCJzdHJpbmdcIj09PWUudHlwZU9mKGEpJiYoYT17ZGF0YTphfSk6YT17fSxlLmV4dGVuZCh0aGlzLHt1aWQ6YS51aWR8fGUuZ3VpZChcInVpZF9cIikscnVpZDpvLHNpemU6YS5zaXplfHwwLHR5cGU6YS50eXBlfHxcIlwiLHNsaWNlOmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdGhpcy5pc0RldGFjaGVkKCk/cy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5nZXRSdW50aW1lKCkuZXhlYy5jYWxsKHRoaXMsXCJCbG9iXCIsXCJzbGljZVwiLHRoaXMuZ2V0U291cmNlKCksZSx0LGkpfSxnZXRTb3VyY2U6ZnVuY3Rpb24oKXtyZXR1cm4gclt0aGlzLnVpZF0/clt0aGlzLnVpZF06bnVsbH0sZGV0YWNoOmZ1bmN0aW9uKGUpe2lmKHRoaXMucnVpZCYmKHRoaXMuZ2V0UnVudGltZSgpLmV4ZWMuY2FsbCh0aGlzLFwiQmxvYlwiLFwiZGVzdHJveVwiKSx0aGlzLmRpc2Nvbm5lY3RSdW50aW1lKCksdGhpcy5ydWlkPW51bGwpLGU9ZXx8XCJcIixcImRhdGE6XCI9PWUuc3Vic3RyKDAsNSkpe3ZhciBpPWUuaW5kZXhPZihcIjtiYXNlNjQsXCIpO3RoaXMudHlwZT1lLnN1YnN0cmluZyg1LGkpLGU9dC5hdG9iKGUuc3Vic3RyaW5nKGkrOCkpfXRoaXMuc2l6ZT1lLmxlbmd0aCxyW3RoaXMudWlkXT1lfSxpc0RldGFjaGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucnVpZCYmXCJzdHJpbmdcIj09PWUudHlwZU9mKHJbdGhpcy51aWRdKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGV0YWNoKCksZGVsZXRlIHJbdGhpcy51aWRdfX0pLGEuZGF0YT90aGlzLmRldGFjaChhLmRhdGEpOnJbdGhpcy51aWRdPWF9dmFyIHI9e307cmV0dXJuIG59KSxuKFwibW94aWUvY29yZS9JMThuXCIsW1wibW94aWUvY29yZS91dGlscy9CYXNpY1wiXSxmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm57YWRkSTE4bjpmdW5jdGlvbihpKXtyZXR1cm4gZS5leHRlbmQodCxpKX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfHxlfSxfOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRyYW5zbGF0ZShlKX0sc3ByaW50ZjpmdW5jdGlvbih0KXt2YXIgaT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdC5yZXBsYWNlKC8lW2Etel0vZyxmdW5jdGlvbigpe3ZhciB0PWkuc2hpZnQoKTtyZXR1cm5cInVuZGVmaW5lZFwiIT09ZS50eXBlT2YodCk/dDpcIlwifSl9fX0pLG4oXCJtb3hpZS9jb3JlL3V0aWxzL01pbWVcIixbXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCIsXCJtb3hpZS9jb3JlL0kxOG5cIl0sZnVuY3Rpb24oZSx0KXt2YXIgaT1cImFwcGxpY2F0aW9uL21zd29yZCxkb2MgZG90LGFwcGxpY2F0aW9uL3BkZixwZGYsYXBwbGljYXRpb24vcGdwLXNpZ25hdHVyZSxwZ3AsYXBwbGljYXRpb24vcG9zdHNjcmlwdCxwcyBhaSBlcHMsYXBwbGljYXRpb24vcnRmLHJ0ZixhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwseGxzIHhsYiB4bHQgeGxhLGFwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50LHBwdCBwcHMgcG90IHBwYSxhcHBsaWNhdGlvbi96aXAsemlwLGFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoLHN3ZiBzd2ZsLGFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50LGRvY3gsYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwudGVtcGxhdGUsZG90eCxhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCx4bHN4LGFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5wcmVzZW50YXRpb24scHB0eCxhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwudGVtcGxhdGUscG90eCxhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwuc2xpZGVzaG93LHBwc3gsYXBwbGljYXRpb24veC1qYXZhc2NyaXB0LGpzLGFwcGxpY2F0aW9uL2pzb24sanNvbixhdWRpby9tcGVnLG1wMyBtcGdhIG1wZWdhIG1wMixhdWRpby94LXdhdix3YXYsYXVkaW8veC1tNGEsbTRhLGF1ZGlvL29nZyxvZ2Egb2dnLGF1ZGlvL2FpZmYsYWlmZiBhaWYsYXVkaW8vZmxhYyxmbGFjLGF1ZGlvL2FhYyxhYWMsYXVkaW8vYWMzLGFjMyxhdWRpby94LW1zLXdtYSx3bWEsaW1hZ2UvYm1wLGJtcCxpbWFnZS9naWYsZ2lmLGltYWdlL2pwZWcsanBnIGpwZWcganBlLGltYWdlL3Bob3Rvc2hvcCxwc2QsaW1hZ2UvcG5nLHBuZyxpbWFnZS9zdmcreG1sLHN2ZyBzdmd6LGltYWdlL3RpZmYsdGlmZiB0aWYsdGV4dC9wbGFpbixhc2MgdHh0IHRleHQgZGlmZiBsb2csdGV4dC9odG1sLGh0bSBodG1sIHhodG1sLHRleHQvY3NzLGNzcyx0ZXh0L2Nzdixjc3YsdGV4dC9ydGYscnRmLHZpZGVvL21wZWcsbXBlZyBtcGcgbXBlIG0ydix2aWRlby9xdWlja3RpbWUscXQgbW92LHZpZGVvL21wNCxtcDQsdmlkZW8veC1tNHYsbTR2LHZpZGVvL3gtZmx2LGZsdix2aWRlby94LW1zLXdtdix3bXYsdmlkZW8vYXZpLGF2aSx2aWRlby93ZWJtLHdlYm0sdmlkZW8vM2dwcCwzZ3BwIDNncCx2aWRlby8zZ3BwMiwzZzIsdmlkZW8vdm5kLnJuLXJlYWx2aWRlbyxydix2aWRlby9vZ2csb2d2LHZpZGVvL3gtbWF0cm9za2EsbWt2LGFwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuZm9ybXVsYS10ZW1wbGF0ZSxvdGYsYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtLGV4ZVwiLG49e30scj17fSxvPWZ1bmN0aW9uKGUpe3ZhciB0LGksbyxhPWUuc3BsaXQoLywvKTtmb3IodD0wO3Q8YS5sZW5ndGg7dCs9Mil7Zm9yKG89YVt0KzFdLnNwbGl0KC8gLyksaT0wO2k8by5sZW5ndGg7aSsrKW5bb1tpXV09YVt0XTtyW2FbdF1dPW99fSxhPWZ1bmN0aW9uKHQsaSl7dmFyIG4scixvLGEscz1bXTtmb3Iocj0wO3I8dC5sZW5ndGg7cisrKWZvcihuPXRbcl0uZXh0ZW5zaW9ucy50b0xvd2VyQ2FzZSgpLnNwbGl0KC9cXHMqLFxccyovKSxvPTA7bzxuLmxlbmd0aDtvKyspe2lmKFwiKlwiPT09bltvXSlyZXR1cm5bXTtpZihhPXNbbltvXV0saSYmL15cXHcrJC8udGVzdChuW29dKSlzLnB1c2goXCIuXCIrbltvXSk7ZWxzZSBpZihhJiYtMT09PWUuaW5BcnJheShhLHMpKXMucHVzaChhKTtlbHNlIGlmKCFhKXJldHVybltdfXJldHVybiBzfSxzPWZ1bmN0aW9uKHQpe3ZhciBpPVtdO3JldHVybiBlLmVhY2godCxmdW5jdGlvbih0KXtpZih0PXQudG9Mb3dlckNhc2UoKSxcIipcIj09PXQpcmV0dXJuIGk9W10sITE7dmFyIG49dC5tYXRjaCgvXihcXHcrKVxcLyhcXCp8XFx3KykkLyk7biYmKFwiKlwiPT09blsyXT9lLmVhY2gocixmdW5jdGlvbihlLHQpe25ldyBSZWdFeHAoXCJeXCIrblsxXStcIi9cIikudGVzdCh0KSYmW10ucHVzaC5hcHBseShpLHJbdF0pfSk6clt0XSYmW10ucHVzaC5hcHBseShpLHJbdF0pKX0pLGl9LHU9ZnVuY3Rpb24oaSl7dmFyIG49W10scj1bXTtyZXR1cm5cInN0cmluZ1wiPT09ZS50eXBlT2YoaSkmJihpPWUudHJpbShpKS5zcGxpdCgvXFxzKixcXHMqLykpLHI9cyhpKSxuLnB1c2goe3RpdGxlOnQudHJhbnNsYXRlKFwiRmlsZXNcIiksZXh0ZW5zaW9uczpyLmxlbmd0aD9yLmpvaW4oXCIsXCIpOlwiKlwifSksbn0sYz1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm1hdGNoKC9cXC4oW14uXSspJC8pO3JldHVybiB0P3RbMV0udG9Mb3dlckNhc2UoKTpcIlwifSxsPWZ1bmN0aW9uKGUpe3JldHVybiBuW2MoZSldfHxcIlwifTtyZXR1cm4gbyhpKSx7bWltZXM6bixleHRlbnNpb25zOnIsYWRkTWltZVR5cGU6byxleHRMaXN0Mm1pbWVzOmEsbWltZXMyZXh0czpzLG1pbWVzMmV4dExpc3Q6dSxnZXRGaWxlRXh0ZW5zaW9uOmMsZ2V0RmlsZU1pbWU6bH19KSxuKFwibW94aWUvZmlsZS9GaWxlSW5wdXRcIixbXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0VudlwiLFwibW94aWUvY29yZS91dGlscy9NaW1lXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0RvbVwiLFwibW94aWUvY29yZS9FeGNlcHRpb25zXCIsXCJtb3hpZS9jb3JlL0V2ZW50VGFyZ2V0XCIsXCJtb3hpZS9jb3JlL0kxOG5cIixcIm1veGllL3J1bnRpbWUvUnVudGltZVwiLFwibW94aWUvcnVudGltZS9SdW50aW1lQ2xpZW50XCJdLGZ1bmN0aW9uKGUsdCxpLG4scixvLGEscyx1KXtmdW5jdGlvbiBjKHQpe3ZhciBvLGMsZDtpZigtMSE9PWUuaW5BcnJheShlLnR5cGVPZih0KSxbXCJzdHJpbmdcIixcIm5vZGVcIl0pJiYodD17YnJvd3NlX2J1dHRvbjp0fSksYz1uLmdldCh0LmJyb3dzZV9idXR0b24pLCFjKXRocm93IG5ldyByLkRPTUV4Y2VwdGlvbihyLkRPTUV4Y2VwdGlvbi5OT1RfRk9VTkRfRVJSKTtkPXthY2NlcHQ6W3t0aXRsZTphLnRyYW5zbGF0ZShcIkFsbCBGaWxlc1wiKSxleHRlbnNpb25zOlwiKlwifV0sbXVsdGlwbGU6ITEscmVxdWlyZWRfY2FwczohMSxjb250YWluZXI6Yy5wYXJlbnROb2RlfHxkb2N1bWVudC5ib2R5fSx0PWUuZXh0ZW5kKHt9LGQsdCksXCJzdHJpbmdcIj09dHlwZW9mIHQucmVxdWlyZWRfY2FwcyYmKHQucmVxdWlyZWRfY2Fwcz1zLnBhcnNlQ2Fwcyh0LnJlcXVpcmVkX2NhcHMpKSxcInN0cmluZ1wiPT10eXBlb2YgdC5hY2NlcHQmJih0LmFjY2VwdD1pLm1pbWVzMmV4dExpc3QodC5hY2NlcHQpKSxvPW4uZ2V0KHQuY29udGFpbmVyKSxvfHwobz1kb2N1bWVudC5ib2R5KSxcInN0YXRpY1wiPT09bi5nZXRTdHlsZShvLFwicG9zaXRpb25cIikmJihvLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksbz1jPW51bGwsdS5jYWxsKHRoaXMpLGUuZXh0ZW5kKHRoaXMse3VpZDplLmd1aWQoXCJ1aWRfXCIpLHJ1aWQ6bnVsbCxzaGltaWQ6bnVsbCxmaWxlczpudWxsLGluaXQ6ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kuYmluZChcIlJ1bnRpbWVJbml0XCIsZnVuY3Rpb24ocixvKXtpLnJ1aWQ9by51aWQsaS5zaGltaWQ9by5zaGltaWQsaS5iaW5kKFwiUmVhZHlcIixmdW5jdGlvbigpe2kudHJpZ2dlcihcIlJlZnJlc2hcIil9LDk5OSksaS5iaW5kKFwiUmVmcmVzaFwiLGZ1bmN0aW9uKCl7dmFyIGkscixhLHMsdTthPW4uZ2V0KHQuYnJvd3NlX2J1dHRvbikscz1uLmdldChvLnNoaW1pZCksYSYmKGk9bi5nZXRQb3MoYSxuLmdldCh0LmNvbnRhaW5lcikpLHI9bi5nZXRTaXplKGEpLHU9cGFyc2VJbnQobi5nZXRTdHlsZShhLFwiei1pbmRleFwiKSwxMCl8fDAscyYmZS5leHRlbmQocy5zdHlsZSx7dG9wOmkueStcInB4XCIsbGVmdDppLngrXCJweFwiLHdpZHRoOnIudytcInB4XCIsaGVpZ2h0OnIuaCtcInB4XCIsekluZGV4OnUrMX0pKSxzPWE9bnVsbH0pLG8uZXhlYy5jYWxsKGksXCJGaWxlSW5wdXRcIixcImluaXRcIix0KX0pLGkuY29ubmVjdFJ1bnRpbWUoZS5leHRlbmQoe30sdCx7cmVxdWlyZWRfY2Fwczp7c2VsZWN0X2ZpbGU6ITB9fSkpfSxnZXRPcHRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19LHNldE9wdGlvbjpmdW5jdGlvbihlLG4pe2lmKHQuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBvPXRbZV07c3dpdGNoKGUpe2Nhc2VcImFjY2VwdFwiOlwic3RyaW5nXCI9PXR5cGVvZiBuJiYobj1pLm1pbWVzMmV4dExpc3QobikpO2JyZWFrO2Nhc2VcImNvbnRhaW5lclwiOmNhc2VcInJlcXVpcmVkX2NhcHNcIjp0aHJvdyBuZXcgci5GaWxlRXhjZXB0aW9uKHIuRmlsZUV4Y2VwdGlvbi5OT19NT0RJRklDQVRJT05fQUxMT1dFRF9FUlIpfXRbZV09bix0aGlzLmV4ZWMoXCJGaWxlSW5wdXRcIixcInNldE9wdGlvblwiLGUsbiksdGhpcy50cmlnZ2VyKFwiT3B0aW9uQ2hhbmdlZFwiLGUsbixvKX19LGRpc2FibGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5nZXRSdW50aW1lKCk7aSYmdGhpcy5leGVjKFwiRmlsZUlucHV0XCIsXCJkaXNhYmxlXCIsXCJ1bmRlZmluZWRcIj09PWUudHlwZU9mKHQpPyEwOnQpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKFwiUmVmcmVzaFwiKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0UnVudGltZSgpO3QmJih0LmV4ZWMuY2FsbCh0aGlzLFwiRmlsZUlucHV0XCIsXCJkZXN0cm95XCIpLHRoaXMuZGlzY29ubmVjdFJ1bnRpbWUoKSksXCJhcnJheVwiPT09ZS50eXBlT2YodGhpcy5maWxlcykmJmUuZWFjaCh0aGlzLmZpbGVzLGZ1bmN0aW9uKGUpe2UuZGVzdHJveSgpfSksdGhpcy5maWxlcz1udWxsLHRoaXMudW5iaW5kQWxsKCl9fSksdGhpcy5oYW5kbGVFdmVudFByb3BzKGwpfXZhciBsPVtcInJlYWR5XCIsXCJjaGFuZ2VcIixcImNhbmNlbFwiLFwibW91c2VlbnRlclwiLFwibW91c2VsZWF2ZVwiLFwibW91c2Vkb3duXCIsXCJtb3VzZXVwXCJdO3JldHVybiBjLnByb3RvdHlwZT1vLmluc3RhbmNlLGN9KSxuKFwibW94aWUvZmlsZS9GaWxlXCIsW1wibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvY29yZS91dGlscy9NaW1lXCIsXCJtb3hpZS9maWxlL0Jsb2JcIl0sZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4obixyKXtyfHwocj17fSksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy50eXBlfHwodGhpcy50eXBlPXQuZ2V0RmlsZU1pbWUoci5uYW1lKSk7dmFyIG87aWYoci5uYW1lKW89ci5uYW1lLnJlcGxhY2UoL1xcXFwvZyxcIi9cIiksbz1vLnN1YnN0cihvLmxhc3RJbmRleE9mKFwiL1wiKSsxKTtlbHNlIGlmKHRoaXMudHlwZSl7dmFyIGE9dGhpcy50eXBlLnNwbGl0KFwiL1wiKVswXTtvPWUuZ3VpZCgoXCJcIiE9PWE/YTpcImZpbGVcIikrXCJfXCIpLHQuZXh0ZW5zaW9uc1t0aGlzLnR5cGVdJiYobys9XCIuXCIrdC5leHRlbnNpb25zW3RoaXMudHlwZV1bMF0pfWUuZXh0ZW5kKHRoaXMse25hbWU6b3x8ZS5ndWlkKFwiZmlsZV9cIikscmVsYXRpdmVQYXRoOlwiXCIsbGFzdE1vZGlmaWVkRGF0ZTpyLmxhc3RNb2RpZmllZERhdGV8fChuZXcgRGF0ZSkudG9Mb2NhbGVTdHJpbmcoKX0pfXJldHVybiBuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxufSksbihcIm1veGllL2ZpbGUvRmlsZURyb3BcIixbXCJtb3hpZS9jb3JlL0kxOG5cIixcIm1veGllL2NvcmUvdXRpbHMvRG9tXCIsXCJtb3hpZS9jb3JlL0V4Y2VwdGlvbnNcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL2NvcmUvdXRpbHMvRW52XCIsXCJtb3hpZS9maWxlL0ZpbGVcIixcIm1veGllL3J1bnRpbWUvUnVudGltZUNsaWVudFwiLFwibW94aWUvY29yZS9FdmVudFRhcmdldFwiLFwibW94aWUvY29yZS91dGlscy9NaW1lXCJdLGZ1bmN0aW9uKGUsdCxpLG4scixvLGEscyx1KXtmdW5jdGlvbiBjKGkpe3ZhciByLG89dGhpcztcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9e2Ryb3Bfem9uZTppfSkscj17YWNjZXB0Olt7dGl0bGU6ZS50cmFuc2xhdGUoXCJBbGwgRmlsZXNcIiksZXh0ZW5zaW9uczpcIipcIn1dLHJlcXVpcmVkX2NhcHM6e2RyYWdfYW5kX2Ryb3A6ITB9fSxpPVwib2JqZWN0XCI9PXR5cGVvZiBpP24uZXh0ZW5kKHt9LHIsaSk6cixpLmNvbnRhaW5lcj10LmdldChpLmRyb3Bfem9uZSl8fGRvY3VtZW50LmJvZHksXCJzdGF0aWNcIj09PXQuZ2V0U3R5bGUoaS5jb250YWluZXIsXCJwb3NpdGlvblwiKSYmKGkuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksXCJzdHJpbmdcIj09dHlwZW9mIGkuYWNjZXB0JiYoaS5hY2NlcHQ9dS5taW1lczJleHRMaXN0KGkuYWNjZXB0KSksYS5jYWxsKG8pLG4uZXh0ZW5kKG8se3VpZDpuLmd1aWQoXCJ1aWRfXCIpLHJ1aWQ6bnVsbCxmaWxlczpudWxsLGluaXQ6ZnVuY3Rpb24oKXtvLmJpbmQoXCJSdW50aW1lSW5pdFwiLGZ1bmN0aW9uKGUsdCl7by5ydWlkPXQudWlkLHQuZXhlYy5jYWxsKG8sXCJGaWxlRHJvcFwiLFwiaW5pdFwiLGkpLG8uZGlzcGF0Y2hFdmVudChcInJlYWR5XCIpXG59KSxvLmNvbm5lY3RSdW50aW1lKGkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRSdW50aW1lKCk7ZSYmKGUuZXhlYy5jYWxsKHRoaXMsXCJGaWxlRHJvcFwiLFwiZGVzdHJveVwiKSx0aGlzLmRpc2Nvbm5lY3RSdW50aW1lKCkpLHRoaXMuZmlsZXM9bnVsbCx0aGlzLnVuYmluZEFsbCgpfX0pLHRoaXMuaGFuZGxlRXZlbnRQcm9wcyhsKX12YXIgbD1bXCJyZWFkeVwiLFwiZHJhZ2VudGVyXCIsXCJkcmFnbGVhdmVcIixcImRyb3BcIixcImVycm9yXCJdO3JldHVybiBjLnByb3RvdHlwZT1zLmluc3RhbmNlLGN9KSxuKFwibW94aWUvZmlsZS9GaWxlUmVhZGVyXCIsW1wibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvY29yZS91dGlscy9FbmNvZGVcIixcIm1veGllL2NvcmUvRXhjZXB0aW9uc1wiLFwibW94aWUvY29yZS9FdmVudFRhcmdldFwiLFwibW94aWUvZmlsZS9CbG9iXCIsXCJtb3hpZS9ydW50aW1lL1J1bnRpbWVDbGllbnRcIl0sZnVuY3Rpb24oZSx0LGksbixyLG8pe2Z1bmN0aW9uIGEoKXtmdW5jdGlvbiBuKGUsbil7aWYodGhpcy50cmlnZ2VyKFwibG9hZHN0YXJ0XCIpLHRoaXMucmVhZHlTdGF0ZT09PWEuTE9BRElORylyZXR1cm4gdGhpcy50cmlnZ2VyKFwiZXJyb3JcIixuZXcgaS5ET01FeGNlcHRpb24oaS5ET01FeGNlcHRpb24uSU5WQUxJRF9TVEFURV9FUlIpKSx0aGlzLnRyaWdnZXIoXCJsb2FkZW5kXCIpLHZvaWQgMDtpZighKG4gaW5zdGFuY2VvZiByKSlyZXR1cm4gdGhpcy50cmlnZ2VyKFwiZXJyb3JcIixuZXcgaS5ET01FeGNlcHRpb24oaS5ET01FeGNlcHRpb24uTk9UX0ZPVU5EX0VSUikpLHRoaXMudHJpZ2dlcihcImxvYWRlbmRcIiksdm9pZCAwO2lmKHRoaXMucmVzdWx0PW51bGwsdGhpcy5yZWFkeVN0YXRlPWEuTE9BRElORyxuLmlzRGV0YWNoZWQoKSl7dmFyIG89bi5nZXRTb3VyY2UoKTtzd2l0Y2goZSl7Y2FzZVwicmVhZEFzVGV4dFwiOmNhc2VcInJlYWRBc0JpbmFyeVN0cmluZ1wiOnRoaXMucmVzdWx0PW87YnJlYWs7Y2FzZVwicmVhZEFzRGF0YVVSTFwiOnRoaXMucmVzdWx0PVwiZGF0YTpcIituLnR5cGUrXCI7YmFzZTY0LFwiK3QuYnRvYShvKX10aGlzLnJlYWR5U3RhdGU9YS5ET05FLHRoaXMudHJpZ2dlcihcImxvYWRcIiksdGhpcy50cmlnZ2VyKFwibG9hZGVuZFwiKX1lbHNlIHRoaXMuY29ubmVjdFJ1bnRpbWUobi5ydWlkKSx0aGlzLmV4ZWMoXCJGaWxlUmVhZGVyXCIsXCJyZWFkXCIsZSxuKX1vLmNhbGwodGhpcyksZS5leHRlbmQodGhpcyx7dWlkOmUuZ3VpZChcInVpZF9cIikscmVhZHlTdGF0ZTphLkVNUFRZLHJlc3VsdDpudWxsLGVycm9yOm51bGwscmVhZEFzQmluYXJ5U3RyaW5nOmZ1bmN0aW9uKGUpe24uY2FsbCh0aGlzLFwicmVhZEFzQmluYXJ5U3RyaW5nXCIsZSl9LHJlYWRBc0RhdGFVUkw6ZnVuY3Rpb24oZSl7bi5jYWxsKHRoaXMsXCJyZWFkQXNEYXRhVVJMXCIsZSl9LHJlYWRBc1RleHQ6ZnVuY3Rpb24oZSl7bi5jYWxsKHRoaXMsXCJyZWFkQXNUZXh0XCIsZSl9LGFib3J0OmZ1bmN0aW9uKCl7dGhpcy5yZXN1bHQ9bnVsbCwtMT09PWUuaW5BcnJheSh0aGlzLnJlYWR5U3RhdGUsW2EuRU1QVFksYS5ET05FXSkmJih0aGlzLnJlYWR5U3RhdGU9PT1hLkxPQURJTkcmJih0aGlzLnJlYWR5U3RhdGU9YS5ET05FKSx0aGlzLmV4ZWMoXCJGaWxlUmVhZGVyXCIsXCJhYm9ydFwiKSx0aGlzLnRyaWdnZXIoXCJhYm9ydFwiKSx0aGlzLnRyaWdnZXIoXCJsb2FkZW5kXCIpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYWJvcnQoKSx0aGlzLmV4ZWMoXCJGaWxlUmVhZGVyXCIsXCJkZXN0cm95XCIpLHRoaXMuZGlzY29ubmVjdFJ1bnRpbWUoKSx0aGlzLnVuYmluZEFsbCgpfX0pLHRoaXMuaGFuZGxlRXZlbnRQcm9wcyhzKSx0aGlzLmJpbmQoXCJFcnJvclwiLGZ1bmN0aW9uKGUsdCl7dGhpcy5yZWFkeVN0YXRlPWEuRE9ORSx0aGlzLmVycm9yPXR9LDk5OSksdGhpcy5iaW5kKFwiTG9hZFwiLGZ1bmN0aW9uKCl7dGhpcy5yZWFkeVN0YXRlPWEuRE9ORX0sOTk5KX12YXIgcz1bXCJsb2Fkc3RhcnRcIixcInByb2dyZXNzXCIsXCJsb2FkXCIsXCJhYm9ydFwiLFwiZXJyb3JcIixcImxvYWRlbmRcIl07cmV0dXJuIGEuRU1QVFk9MCxhLkxPQURJTkc9MSxhLkRPTkU9MixhLnByb3RvdHlwZT1uLmluc3RhbmNlLGF9KSxuKFwibW94aWUvY29yZS91dGlscy9VcmxcIixbXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCJdLGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGksbil7dmFyIHIsbz1bXCJzb3VyY2VcIixcInNjaGVtZVwiLFwiYXV0aG9yaXR5XCIsXCJ1c2VySW5mb1wiLFwidXNlclwiLFwicGFzc1wiLFwiaG9zdFwiLFwicG9ydFwiLFwicmVsYXRpdmVcIixcInBhdGhcIixcImRpcmVjdG9yeVwiLFwiZmlsZVwiLFwicXVlcnlcIixcImZyYWdtZW50XCJdLGE9by5sZW5ndGgscz17aHR0cDo4MCxodHRwczo0NDN9LHU9e30sYz0vXig/OihbXjpcXC8/I10rKTopPyg/OlxcL1xcLygpKD86KD86KCkoPzooW146QFxcL10qKTo/KFteOkBcXC9dKikpP0ApPyhcXFtbXFxkYS1mQS1GOl0rXFxdfFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KCkoPzooKCkoPzooPzpbXj8jXFwvXSpcXC8pKikoKSg/OltePyNdKikpKD86XFxcXD8oW14jXSopKT8oPzojKC4qKSk/KS8sbD1jLmV4ZWMoaXx8XCJcIiksZD0vXlxcL1xcL1xcdy8udGVzdChpKTtzd2l0Y2goZS50eXBlT2Yobikpe2Nhc2VcInVuZGVmaW5lZFwiOm49dChkb2N1bWVudC5sb2NhdGlvbi5ocmVmLCExKTticmVhaztjYXNlXCJzdHJpbmdcIjpuPXQobiwhMSl9Zm9yKDthLS07KWxbYV0mJih1W29bYV1dPWxbYV0pO2lmKHI9IWQmJiF1LnNjaGVtZSwoZHx8cikmJih1LnNjaGVtZT1uLnNjaGVtZSkscil7dS5ob3N0PW4uaG9zdCx1LnBvcnQ9bi5wb3J0O3ZhciBtPVwiXCI7L15bXlxcL10vLnRlc3QodS5wYXRoKSYmKG09bi5wYXRoLG09L1xcL1teXFwvXSpcXC5bXlxcL10qJC8udGVzdChtKT9tLnJlcGxhY2UoL1xcL1teXFwvXSskLyxcIi9cIik6bS5yZXBsYWNlKC9cXC8/JC8sXCIvXCIpKSx1LnBhdGg9bSsodS5wYXRofHxcIlwiKX1yZXR1cm4gdS5wb3J0fHwodS5wb3J0PXNbdS5zY2hlbWVdfHw4MCksdS5wb3J0PXBhcnNlSW50KHUucG9ydCwxMCksdS5wYXRofHwodS5wYXRoPVwiL1wiKSxkZWxldGUgdS5zb3VyY2UsdX0saT1mdW5jdGlvbihlKXt2YXIgaT17aHR0cDo4MCxodHRwczo0NDN9LG49XCJvYmplY3RcIj09dHlwZW9mIGU/ZTp0KGUpO3JldHVybiBuLnNjaGVtZStcIjovL1wiK24uaG9zdCsobi5wb3J0IT09aVtuLnNjaGVtZV0/XCI6XCIrbi5wb3J0OlwiXCIpK24ucGF0aCsobi5xdWVyeT9uLnF1ZXJ5OlwiXCIpfSxuPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGkoZSl7cmV0dXJuW2Uuc2NoZW1lLGUuaG9zdCxlLnBvcnRdLmpvaW4oXCIvXCIpfXJldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT10KGUpKSxpKHQoKSk9PT1pKGUpfTtyZXR1cm57cGFyc2VVcmw6dCxyZXNvbHZlVXJsOmksaGFzU2FtZU9yaWdpbjpufX0pLG4oXCJtb3hpZS9ydW50aW1lL1J1bnRpbWVUYXJnZXRcIixbXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCIsXCJtb3hpZS9ydW50aW1lL1J1bnRpbWVDbGllbnRcIixcIm1veGllL2NvcmUvRXZlbnRUYXJnZXRcIl0sZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4oKXt0aGlzLnVpZD1lLmd1aWQoXCJ1aWRfXCIpLHQuY2FsbCh0aGlzKSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRpc2Nvbm5lY3RSdW50aW1lKCksdGhpcy51bmJpbmRBbGwoKX19cmV0dXJuIG4ucHJvdG90eXBlPWkuaW5zdGFuY2Usbn0pLG4oXCJtb3hpZS9maWxlL0ZpbGVSZWFkZXJTeW5jXCIsW1wibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvcnVudGltZS9SdW50aW1lQ2xpZW50XCIsXCJtb3hpZS9jb3JlL3V0aWxzL0VuY29kZVwiXSxmdW5jdGlvbihlLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihlLHQpe2lmKCF0LmlzRGV0YWNoZWQoKSl7dmFyIG49dGhpcy5jb25uZWN0UnVudGltZSh0LnJ1aWQpLmV4ZWMuY2FsbCh0aGlzLFwiRmlsZVJlYWRlclN5bmNcIixcInJlYWRcIixlLHQpO3JldHVybiB0aGlzLmRpc2Nvbm5lY3RSdW50aW1lKCksbn12YXIgcj10LmdldFNvdXJjZSgpO3N3aXRjaChlKXtjYXNlXCJyZWFkQXNCaW5hcnlTdHJpbmdcIjpyZXR1cm4gcjtjYXNlXCJyZWFkQXNEYXRhVVJMXCI6cmV0dXJuXCJkYXRhOlwiK3QudHlwZStcIjtiYXNlNjQsXCIraS5idG9hKHIpO2Nhc2VcInJlYWRBc1RleHRcIjpmb3IodmFyIG89XCJcIixhPTAscz1yLmxlbmd0aDtzPmE7YSsrKW8rPVN0cmluZy5mcm9tQ2hhckNvZGUoclthXSk7cmV0dXJuIG99fXQuY2FsbCh0aGlzKSxlLmV4dGVuZCh0aGlzLHt1aWQ6ZS5ndWlkKFwidWlkX1wiKSxyZWFkQXNCaW5hcnlTdHJpbmc6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbCh0aGlzLFwicmVhZEFzQmluYXJ5U3RyaW5nXCIsZSl9LHJlYWRBc0RhdGFVUkw6ZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2FsbCh0aGlzLFwicmVhZEFzRGF0YVVSTFwiLGUpfSxyZWFkQXNUZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwodGhpcyxcInJlYWRBc1RleHRcIixlKX19KX19KSxuKFwibW94aWUveGhyL0Zvcm1EYXRhXCIsW1wibW94aWUvY29yZS9FeGNlcHRpb25zXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCIsXCJtb3hpZS9maWxlL0Jsb2JcIl0sZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4oKXt2YXIgZSxuPVtdO3QuZXh0ZW5kKHRoaXMse2FwcGVuZDpmdW5jdGlvbihyLG8pe3ZhciBhPXRoaXMscz10LnR5cGVPZihvKTtvIGluc3RhbmNlb2YgaT9lPXtuYW1lOnIsdmFsdWU6b306XCJhcnJheVwiPT09cz8ocis9XCJbXVwiLHQuZWFjaChvLGZ1bmN0aW9uKGUpe2EuYXBwZW5kKHIsZSl9KSk6XCJvYmplY3RcIj09PXM/dC5lYWNoKG8sZnVuY3Rpb24oZSx0KXthLmFwcGVuZChyK1wiW1wiK3QrXCJdXCIsZSl9KTpcIm51bGxcIj09PXN8fFwidW5kZWZpbmVkXCI9PT1zfHxcIm51bWJlclwiPT09cyYmaXNOYU4obyk/YS5hcHBlbmQocixcImZhbHNlXCIpOm4ucHVzaCh7bmFtZTpyLHZhbHVlOm8udG9TdHJpbmcoKX0pfSxoYXNCbG9iOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdldEJsb2IoKX0sZ2V0QmxvYjpmdW5jdGlvbigpe3JldHVybiBlJiZlLnZhbHVlfHxudWxsfSxnZXRCbG9iTmFtZTpmdW5jdGlvbigpe3JldHVybiBlJiZlLm5hbWV8fG51bGx9LGVhY2g6ZnVuY3Rpb24oaSl7dC5lYWNoKG4sZnVuY3Rpb24oZSl7aShlLnZhbHVlLGUubmFtZSl9KSxlJiZpKGUudmFsdWUsZS5uYW1lKX0sZGVzdHJveTpmdW5jdGlvbigpe2U9bnVsbCxuPVtdfX0pfXJldHVybiBufSksbihcIm1veGllL3hoci9YTUxIdHRwUmVxdWVzdFwiLFtcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL2NvcmUvRXhjZXB0aW9uc1wiLFwibW94aWUvY29yZS9FdmVudFRhcmdldFwiLFwibW94aWUvY29yZS91dGlscy9FbmNvZGVcIixcIm1veGllL2NvcmUvdXRpbHMvVXJsXCIsXCJtb3hpZS9ydW50aW1lL1J1bnRpbWVcIixcIm1veGllL3J1bnRpbWUvUnVudGltZVRhcmdldFwiLFwibW94aWUvZmlsZS9CbG9iXCIsXCJtb3hpZS9maWxlL0ZpbGVSZWFkZXJTeW5jXCIsXCJtb3hpZS94aHIvRm9ybURhdGFcIixcIm1veGllL2NvcmUvdXRpbHMvRW52XCIsXCJtb3hpZS9jb3JlL3V0aWxzL01pbWVcIl0sZnVuY3Rpb24oZSx0LGksbixyLG8sYSxzLHUsYyxsLGQpe2Z1bmN0aW9uIG0oKXt0aGlzLnVpZD1lLmd1aWQoXCJ1aWRfXCIpfWZ1bmN0aW9uIGgoKXtmdW5jdGlvbiBpKGUsdCl7cmV0dXJuIEkuaGFzT3duUHJvcGVydHkoZSk/MT09PWFyZ3VtZW50cy5sZW5ndGg/bC5jYW4oXCJkZWZpbmVfcHJvcGVydHlcIik/SVtlXTpBW2VdOihsLmNhbihcImRlZmluZV9wcm9wZXJ0eVwiKT9JW2VdPXQ6QVtlXT10LHZvaWQgMCk6dm9pZCAwfWZ1bmN0aW9uIHUodCl7ZnVuY3Rpb24gbigpe18mJihfLmRlc3Ryb3koKSxfPW51bGwpLHMuZGlzcGF0Y2hFdmVudChcImxvYWRlbmRcIikscz1udWxsfWZ1bmN0aW9uIHIocil7Xy5iaW5kKFwiTG9hZFN0YXJ0XCIsZnVuY3Rpb24oZSl7aShcInJlYWR5U3RhdGVcIixoLkxPQURJTkcpLHMuZGlzcGF0Y2hFdmVudChcInJlYWR5c3RhdGVjaGFuZ2VcIikscy5kaXNwYXRjaEV2ZW50KGUpLEwmJnMudXBsb2FkLmRpc3BhdGNoRXZlbnQoZSl9KSxfLmJpbmQoXCJQcm9ncmVzc1wiLGZ1bmN0aW9uKGUpe2koXCJyZWFkeVN0YXRlXCIpIT09aC5MT0FESU5HJiYoaShcInJlYWR5U3RhdGVcIixoLkxPQURJTkcpLHMuZGlzcGF0Y2hFdmVudChcInJlYWR5c3RhdGVjaGFuZ2VcIikpLHMuZGlzcGF0Y2hFdmVudChlKX0pLF8uYmluZChcIlVwbG9hZFByb2dyZXNzXCIsZnVuY3Rpb24oZSl7TCYmcy51cGxvYWQuZGlzcGF0Y2hFdmVudCh7dHlwZTpcInByb2dyZXNzXCIsbGVuZ3RoQ29tcHV0YWJsZTohMSx0b3RhbDplLnRvdGFsLGxvYWRlZDplLmxvYWRlZH0pfSksXy5iaW5kKFwiTG9hZFwiLGZ1bmN0aW9uKHQpe2koXCJyZWFkeVN0YXRlXCIsaC5ET05FKSxpKFwic3RhdHVzXCIsTnVtYmVyKHIuZXhlYy5jYWxsKF8sXCJYTUxIdHRwUmVxdWVzdFwiLFwiZ2V0U3RhdHVzXCIpfHwwKSksaShcInN0YXR1c1RleHRcIixmW2koXCJzdGF0dXNcIildfHxcIlwiKSxpKFwicmVzcG9uc2VcIixyLmV4ZWMuY2FsbChfLFwiWE1MSHR0cFJlcXVlc3RcIixcImdldFJlc3BvbnNlXCIsaShcInJlc3BvbnNlVHlwZVwiKSkpLH5lLmluQXJyYXkoaShcInJlc3BvbnNlVHlwZVwiKSxbXCJ0ZXh0XCIsXCJcIl0pP2koXCJyZXNwb25zZVRleHRcIixpKFwicmVzcG9uc2VcIikpOlwiZG9jdW1lbnRcIj09PWkoXCJyZXNwb25zZVR5cGVcIikmJmkoXCJyZXNwb25zZVhNTFwiLGkoXCJyZXNwb25zZVwiKSksVT1yLmV4ZWMuY2FsbChfLFwiWE1MSHR0cFJlcXVlc3RcIixcImdldEFsbFJlc3BvbnNlSGVhZGVyc1wiKSxzLmRpc3BhdGNoRXZlbnQoXCJyZWFkeXN0YXRlY2hhbmdlXCIpLGkoXCJzdGF0dXNcIik+MD8oTCYmcy51cGxvYWQuZGlzcGF0Y2hFdmVudCh0KSxzLmRpc3BhdGNoRXZlbnQodCkpOihGPSEwLHMuZGlzcGF0Y2hFdmVudChcImVycm9yXCIpKSxuKCl9KSxfLmJpbmQoXCJBYm9ydFwiLGZ1bmN0aW9uKGUpe3MuZGlzcGF0Y2hFdmVudChlKSxuKCl9KSxfLmJpbmQoXCJFcnJvclwiLGZ1bmN0aW9uKGUpe0Y9ITAsaShcInJlYWR5U3RhdGVcIixoLkRPTkUpLHMuZGlzcGF0Y2hFdmVudChcInJlYWR5c3RhdGVjaGFuZ2VcIiksTT0hMCxzLmRpc3BhdGNoRXZlbnQoZSksbigpfSksci5leGVjLmNhbGwoXyxcIlhNTEh0dHBSZXF1ZXN0XCIsXCJzZW5kXCIse3VybDp4LG1ldGhvZDp2LGFzeW5jOlQsdXNlcjp3LHBhc3N3b3JkOnksaGVhZGVyczpTLG1pbWVUeXBlOkQsZW5jb2Rpbmc6TyxyZXNwb25zZVR5cGU6cy5yZXNwb25zZVR5cGUsd2l0aENyZWRlbnRpYWxzOnMud2l0aENyZWRlbnRpYWxzLG9wdGlvbnM6a30sdCl9dmFyIHM9dGhpcztFPShuZXcgRGF0ZSkuZ2V0VGltZSgpLF89bmV3IGEsXCJzdHJpbmdcIj09dHlwZW9mIGsucmVxdWlyZWRfY2FwcyYmKGsucmVxdWlyZWRfY2Fwcz1vLnBhcnNlQ2FwcyhrLnJlcXVpcmVkX2NhcHMpKSxrLnJlcXVpcmVkX2NhcHM9ZS5leHRlbmQoe30say5yZXF1aXJlZF9jYXBzLHtyZXR1cm5fcmVzcG9uc2VfdHlwZTpzLnJlc3BvbnNlVHlwZX0pLHQgaW5zdGFuY2VvZiBjJiYoay5yZXF1aXJlZF9jYXBzLnNlbmRfbXVsdGlwYXJ0PSEwKSxlLmlzRW1wdHlPYmooUyl8fChrLnJlcXVpcmVkX2NhcHMuc2VuZF9jdXN0b21faGVhZGVycz0hMCksQnx8KGsucmVxdWlyZWRfY2Fwcy5kb19jb3JzPSEwKSxrLnJ1aWQ/cihfLmNvbm5lY3RSdW50aW1lKGspKTooXy5iaW5kKFwiUnVudGltZUluaXRcIixmdW5jdGlvbihlLHQpe3IodCl9KSxfLmJpbmQoXCJSdW50aW1lRXJyb3JcIixmdW5jdGlvbihlLHQpe3MuZGlzcGF0Y2hFdmVudChcIlJ1bnRpbWVFcnJvclwiLHQpfSksXy5jb25uZWN0UnVudGltZShrKSl9ZnVuY3Rpb24gZygpe2koXCJyZXNwb25zZVRleHRcIixcIlwiKSxpKFwicmVzcG9uc2VYTUxcIixudWxsKSxpKFwicmVzcG9uc2VcIixudWxsKSxpKFwic3RhdHVzXCIsMCksaShcInN0YXR1c1RleHRcIixcIlwiKSxFPWI9bnVsbH12YXIgeCx2LHcseSxFLGIsXyxSLEE9dGhpcyxJPXt0aW1lb3V0OjAscmVhZHlTdGF0ZTpoLlVOU0VOVCx3aXRoQ3JlZGVudGlhbHM6ITEsc3RhdHVzOjAsc3RhdHVzVGV4dDpcIlwiLHJlc3BvbnNlVHlwZTpcIlwiLHJlc3BvbnNlWE1MOm51bGwscmVzcG9uc2VUZXh0Om51bGwscmVzcG9uc2U6bnVsbH0sVD0hMCxTPXt9LE89bnVsbCxEPW51bGwsTj0hMSxDPSExLEw9ITEsTT0hMSxGPSExLEI9ITEsUD1udWxsLEg9bnVsbCxrPXt9LFU9XCJcIjtlLmV4dGVuZCh0aGlzLEkse3VpZDplLmd1aWQoXCJ1aWRfXCIpLHVwbG9hZDpuZXcgbSxvcGVuOmZ1bmN0aW9uKG8sYSxzLHUsYyl7dmFyIGw7aWYoIW98fCFhKXRocm93IG5ldyB0LkRPTUV4Y2VwdGlvbih0LkRPTUV4Y2VwdGlvbi5TWU5UQVhfRVJSKTtpZigvW1xcdTAxMDAtXFx1ZmZmZl0vLnRlc3Qobyl8fG4udXRmOF9lbmNvZGUobykhPT1vKXRocm93IG5ldyB0LkRPTUV4Y2VwdGlvbih0LkRPTUV4Y2VwdGlvbi5TWU5UQVhfRVJSKTtpZih+ZS5pbkFycmF5KG8udG9VcHBlckNhc2UoKSxbXCJDT05ORUNUXCIsXCJERUxFVEVcIixcIkdFVFwiLFwiSEVBRFwiLFwiT1BUSU9OU1wiLFwiUE9TVFwiLFwiUFVUXCIsXCJUUkFDRVwiLFwiVFJBQ0tcIl0pJiYodj1vLnRvVXBwZXJDYXNlKCkpLH5lLmluQXJyYXkodixbXCJDT05ORUNUXCIsXCJUUkFDRVwiLFwiVFJBQ0tcIl0pKXRocm93IG5ldyB0LkRPTUV4Y2VwdGlvbih0LkRPTUV4Y2VwdGlvbi5TRUNVUklUWV9FUlIpO2lmKGE9bi51dGY4X2VuY29kZShhKSxsPXIucGFyc2VVcmwoYSksQj1yLmhhc1NhbWVPcmlnaW4obCkseD1yLnJlc29sdmVVcmwoYSksKHV8fGMpJiYhQil0aHJvdyBuZXcgdC5ET01FeGNlcHRpb24odC5ET01FeGNlcHRpb24uSU5WQUxJRF9BQ0NFU1NfRVJSKTtpZih3PXV8fGwudXNlcix5PWN8fGwucGFzcyxUPXN8fCEwLFQ9PT0hMSYmKGkoXCJ0aW1lb3V0XCIpfHxpKFwid2l0aENyZWRlbnRpYWxzXCIpfHxcIlwiIT09aShcInJlc3BvbnNlVHlwZVwiKSkpdGhyb3cgbmV3IHQuRE9NRXhjZXB0aW9uKHQuRE9NRXhjZXB0aW9uLklOVkFMSURfQUNDRVNTX0VSUik7Tj0hVCxDPSExLFM9e30sZy5jYWxsKHRoaXMpLGkoXCJyZWFkeVN0YXRlXCIsaC5PUEVORUQpLHRoaXMuZGlzcGF0Y2hFdmVudChcInJlYWR5c3RhdGVjaGFuZ2VcIil9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24ocixvKXt2YXIgYT1bXCJhY2NlcHQtY2hhcnNldFwiLFwiYWNjZXB0LWVuY29kaW5nXCIsXCJhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LWhlYWRlcnNcIixcImFjY2Vzcy1jb250cm9sLXJlcXVlc3QtbWV0aG9kXCIsXCJjb25uZWN0aW9uXCIsXCJjb250ZW50LWxlbmd0aFwiLFwiY29va2llXCIsXCJjb29raWUyXCIsXCJjb250ZW50LXRyYW5zZmVyLWVuY29kaW5nXCIsXCJkYXRlXCIsXCJleHBlY3RcIixcImhvc3RcIixcImtlZXAtYWxpdmVcIixcIm9yaWdpblwiLFwicmVmZXJlclwiLFwidGVcIixcInRyYWlsZXJcIixcInRyYW5zZmVyLWVuY29kaW5nXCIsXCJ1cGdyYWRlXCIsXCJ1c2VyLWFnZW50XCIsXCJ2aWFcIl07aWYoaShcInJlYWR5U3RhdGVcIikhPT1oLk9QRU5FRHx8Qyl0aHJvdyBuZXcgdC5ET01FeGNlcHRpb24odC5ET01FeGNlcHRpb24uSU5WQUxJRF9TVEFURV9FUlIpO2lmKC9bXFx1MDEwMC1cXHVmZmZmXS8udGVzdChyKXx8bi51dGY4X2VuY29kZShyKSE9PXIpdGhyb3cgbmV3IHQuRE9NRXhjZXB0aW9uKHQuRE9NRXhjZXB0aW9uLlNZTlRBWF9FUlIpO3JldHVybiByPWUudHJpbShyKS50b0xvd2VyQ2FzZSgpLH5lLmluQXJyYXkocixhKXx8L14ocHJveHlcXC18c2VjXFwtKS8udGVzdChyKT8hMTooU1tyXT9TW3JdKz1cIiwgXCIrbzpTW3JdPW8sITApfSxoYXNSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZTW2UudG9Mb3dlckNhc2UoKV18fCExfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gVXx8XCJcIn0sZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC50b0xvd2VyQ2FzZSgpLEZ8fH5lLmluQXJyYXkodCxbXCJzZXQtY29va2llXCIsXCJzZXQtY29va2llMlwiXSk/bnVsbDpVJiZcIlwiIT09VSYmKFJ8fChSPXt9LGUuZWFjaChVLnNwbGl0KC9cXHJcXG4vKSxmdW5jdGlvbih0KXt2YXIgaT10LnNwbGl0KC86XFxzKy8pOzI9PT1pLmxlbmd0aCYmKGlbMF09ZS50cmltKGlbMF0pLFJbaVswXS50b0xvd2VyQ2FzZSgpXT17aGVhZGVyOmlbMF0sdmFsdWU6ZS50cmltKGlbMV0pfSl9KSksUi5oYXNPd25Qcm9wZXJ0eSh0KSk/Ult0XS5oZWFkZXIrXCI6IFwiK1JbdF0udmFsdWU6bnVsbH0sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihuKXt2YXIgcixvO2lmKH5lLmluQXJyYXkoaShcInJlYWR5U3RhdGVcIiksW2guTE9BRElORyxoLkRPTkVdKSl0aHJvdyBuZXcgdC5ET01FeGNlcHRpb24odC5ET01FeGNlcHRpb24uSU5WQUxJRF9TVEFURV9FUlIpO2lmKG49ZS50cmltKG4udG9Mb3dlckNhc2UoKSksLzsvLnRlc3QobikmJihyPW4ubWF0Y2goL14oW147XSspKD86O1xcc2NoYXJzZXRcXD0pPyguKikkLykpJiYobj1yWzFdLHJbMl0mJihvPXJbMl0pKSwhZC5taW1lc1tuXSl0aHJvdyBuZXcgdC5ET01FeGNlcHRpb24odC5ET01FeGNlcHRpb24uU1lOVEFYX0VSUik7UD1uLEg9b30sc2VuZDpmdW5jdGlvbihpLHIpe2lmKGs9XCJzdHJpbmdcIj09PWUudHlwZU9mKHIpP3tydWlkOnJ9OnI/cjp7fSx0aGlzLnJlYWR5U3RhdGUhPT1oLk9QRU5FRHx8Qyl0aHJvdyBuZXcgdC5ET01FeGNlcHRpb24odC5ET01FeGNlcHRpb24uSU5WQUxJRF9TVEFURV9FUlIpO2lmKGkgaW5zdGFuY2VvZiBzKWsucnVpZD1pLnJ1aWQsRD1pLnR5cGV8fFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI7ZWxzZSBpZihpIGluc3RhbmNlb2YgYyl7aWYoaS5oYXNCbG9iKCkpe3ZhciBvPWkuZ2V0QmxvYigpO2sucnVpZD1vLnJ1aWQsRD1vLnR5cGV8fFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9fWVsc2VcInN0cmluZ1wiPT10eXBlb2YgaSYmKE89XCJVVEYtOFwiLEQ9XCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIixpPW4udXRmOF9lbmNvZGUoaSkpO3RoaXMud2l0aENyZWRlbnRpYWxzfHwodGhpcy53aXRoQ3JlZGVudGlhbHM9ay5yZXF1aXJlZF9jYXBzJiZrLnJlcXVpcmVkX2NhcHMuc2VuZF9icm93c2VyX2Nvb2tpZXMmJiFCKSxMPSFOJiZ0aGlzLnVwbG9hZC5oYXNFdmVudExpc3RlbmVyKCksRj0hMSxNPSFpLE58fChDPSEwKSx1LmNhbGwodGhpcyxpKX0sYWJvcnQ6ZnVuY3Rpb24oKXtpZihGPSEwLE49ITEsfmUuaW5BcnJheShpKFwicmVhZHlTdGF0ZVwiKSxbaC5VTlNFTlQsaC5PUEVORUQsaC5ET05FXSkpaShcInJlYWR5U3RhdGVcIixoLlVOU0VOVCk7ZWxzZXtpZihpKFwicmVhZHlTdGF0ZVwiLGguRE9ORSksQz0hMSwhXyl0aHJvdyBuZXcgdC5ET01FeGNlcHRpb24odC5ET01FeGNlcHRpb24uSU5WQUxJRF9TVEFURV9FUlIpO18uZ2V0UnVudGltZSgpLmV4ZWMuY2FsbChfLFwiWE1MSHR0cFJlcXVlc3RcIixcImFib3J0XCIsTSksTT0hMH19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtfJiYoXCJmdW5jdGlvblwiPT09ZS50eXBlT2YoXy5kZXN0cm95KSYmXy5kZXN0cm95KCksXz1udWxsKSx0aGlzLnVuYmluZEFsbCgpLHRoaXMudXBsb2FkJiYodGhpcy51cGxvYWQudW5iaW5kQWxsKCksdGhpcy51cGxvYWQ9bnVsbCl9fSksdGhpcy5oYW5kbGVFdmVudFByb3BzKHAuY29uY2F0KFtcInJlYWR5c3RhdGVjaGFuZ2VcIl0pKSx0aGlzLnVwbG9hZC5oYW5kbGVFdmVudFByb3BzKHApfXZhciBmPXsxMDA6XCJDb250aW51ZVwiLDEwMTpcIlN3aXRjaGluZyBQcm90b2NvbHNcIiwxMDI6XCJQcm9jZXNzaW5nXCIsMjAwOlwiT0tcIiwyMDE6XCJDcmVhdGVkXCIsMjAyOlwiQWNjZXB0ZWRcIiwyMDM6XCJOb24tQXV0aG9yaXRhdGl2ZSBJbmZvcm1hdGlvblwiLDIwNDpcIk5vIENvbnRlbnRcIiwyMDU6XCJSZXNldCBDb250ZW50XCIsMjA2OlwiUGFydGlhbCBDb250ZW50XCIsMjA3OlwiTXVsdGktU3RhdHVzXCIsMjI2OlwiSU0gVXNlZFwiLDMwMDpcIk11bHRpcGxlIENob2ljZXNcIiwzMDE6XCJNb3ZlZCBQZXJtYW5lbnRseVwiLDMwMjpcIkZvdW5kXCIsMzAzOlwiU2VlIE90aGVyXCIsMzA0OlwiTm90IE1vZGlmaWVkXCIsMzA1OlwiVXNlIFByb3h5XCIsMzA2OlwiUmVzZXJ2ZWRcIiwzMDc6XCJUZW1wb3JhcnkgUmVkaXJlY3RcIiw0MDA6XCJCYWQgUmVxdWVzdFwiLDQwMTpcIlVuYXV0aG9yaXplZFwiLDQwMjpcIlBheW1lbnQgUmVxdWlyZWRcIiw0MDM6XCJGb3JiaWRkZW5cIiw0MDQ6XCJOb3QgRm91bmRcIiw0MDU6XCJNZXRob2QgTm90IEFsbG93ZWRcIiw0MDY6XCJOb3QgQWNjZXB0YWJsZVwiLDQwNzpcIlByb3h5IEF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkXCIsNDA4OlwiUmVxdWVzdCBUaW1lb3V0XCIsNDA5OlwiQ29uZmxpY3RcIiw0MTA6XCJHb25lXCIsNDExOlwiTGVuZ3RoIFJlcXVpcmVkXCIsNDEyOlwiUHJlY29uZGl0aW9uIEZhaWxlZFwiLDQxMzpcIlJlcXVlc3QgRW50aXR5IFRvbyBMYXJnZVwiLDQxNDpcIlJlcXVlc3QtVVJJIFRvbyBMb25nXCIsNDE1OlwiVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZVwiLDQxNjpcIlJlcXVlc3RlZCBSYW5nZSBOb3QgU2F0aXNmaWFibGVcIiw0MTc6XCJFeHBlY3RhdGlvbiBGYWlsZWRcIiw0MjI6XCJVbnByb2Nlc3NhYmxlIEVudGl0eVwiLDQyMzpcIkxvY2tlZFwiLDQyNDpcIkZhaWxlZCBEZXBlbmRlbmN5XCIsNDI2OlwiVXBncmFkZSBSZXF1aXJlZFwiLDUwMDpcIkludGVybmFsIFNlcnZlciBFcnJvclwiLDUwMTpcIk5vdCBJbXBsZW1lbnRlZFwiLDUwMjpcIkJhZCBHYXRld2F5XCIsNTAzOlwiU2VydmljZSBVbmF2YWlsYWJsZVwiLDUwNDpcIkdhdGV3YXkgVGltZW91dFwiLDUwNTpcIkhUVFAgVmVyc2lvbiBOb3QgU3VwcG9ydGVkXCIsNTA2OlwiVmFyaWFudCBBbHNvIE5lZ290aWF0ZXNcIiw1MDc6XCJJbnN1ZmZpY2llbnQgU3RvcmFnZVwiLDUxMDpcIk5vdCBFeHRlbmRlZFwifTttLnByb3RvdHlwZT1pLmluc3RhbmNlO3ZhciBwPVtcImxvYWRzdGFydFwiLFwicHJvZ3Jlc3NcIixcImFib3J0XCIsXCJlcnJvclwiLFwibG9hZFwiLFwidGltZW91dFwiLFwibG9hZGVuZFwiXTtyZXR1cm4gaC5VTlNFTlQ9MCxoLk9QRU5FRD0xLGguSEVBREVSU19SRUNFSVZFRD0yLGguTE9BRElORz0zLGguRE9ORT00LGgucHJvdG90eXBlPWkuaW5zdGFuY2UsaH0pLG4oXCJtb3hpZS9ydW50aW1lL1RyYW5zcG9ydGVyXCIsW1wibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvY29yZS91dGlscy9FbmNvZGVcIixcIm1veGllL3J1bnRpbWUvUnVudGltZUNsaWVudFwiLFwibW94aWUvY29yZS9FdmVudFRhcmdldFwiXSxmdW5jdGlvbihlLHQsaSxuKXtmdW5jdGlvbiByKCl7ZnVuY3Rpb24gbigpe2w9ZD0wLGM9dGhpcy5yZXN1bHQ9bnVsbH1mdW5jdGlvbiBvKHQsaSl7dmFyIG49dGhpczt1PWksbi5iaW5kKFwiVHJhbnNwb3J0aW5nUHJvZ3Jlc3NcIixmdW5jdGlvbih0KXtkPXQubG9hZGVkLGw+ZCYmLTE9PT1lLmluQXJyYXkobi5zdGF0ZSxbci5JRExFLHIuRE9ORV0pJiZhLmNhbGwobil9LDk5OSksbi5iaW5kKFwiVHJhbnNwb3J0aW5nQ29tcGxldGVcIixmdW5jdGlvbigpe2Q9bCxuLnN0YXRlPXIuRE9ORSxjPW51bGwsbi5yZXN1bHQ9dS5leGVjLmNhbGwobixcIlRyYW5zcG9ydGVyXCIsXCJnZXRBc0Jsb2JcIix0fHxcIlwiKX0sOTk5KSxuLnN0YXRlPXIuQlVTWSxuLnRyaWdnZXIoXCJUcmFuc3BvcnRpbmdTdGFydGVkXCIpLGEuY2FsbChuKX1mdW5jdGlvbiBhKCl7dmFyIGUsaT10aGlzLG49bC1kO20+biYmKG09biksZT10LmJ0b2EoYy5zdWJzdHIoZCxtKSksdS5leGVjLmNhbGwoaSxcIlRyYW5zcG9ydGVyXCIsXCJyZWNlaXZlXCIsZSxsKX12YXIgcyx1LGMsbCxkLG07aS5jYWxsKHRoaXMpLGUuZXh0ZW5kKHRoaXMse3VpZDplLmd1aWQoXCJ1aWRfXCIpLHN0YXRlOnIuSURMRSxyZXN1bHQ6bnVsbCx0cmFuc3BvcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciBhPXRoaXM7aWYocj1lLmV4dGVuZCh7Y2h1bmtfc2l6ZToyMDQ3OTh9LHIpLChzPXIuY2h1bmtfc2l6ZSUzKSYmKHIuY2h1bmtfc2l6ZSs9My1zKSxtPXIuY2h1bmtfc2l6ZSxuLmNhbGwodGhpcyksYz10LGw9dC5sZW5ndGgsXCJzdHJpbmdcIj09PWUudHlwZU9mKHIpfHxyLnJ1aWQpby5jYWxsKGEsaSx0aGlzLmNvbm5lY3RSdW50aW1lKHIpKTtlbHNle3ZhciB1PWZ1bmN0aW9uKGUsdCl7YS51bmJpbmQoXCJSdW50aW1lSW5pdFwiLHUpLG8uY2FsbChhLGksdCl9O3RoaXMuYmluZChcIlJ1bnRpbWVJbml0XCIsdSksdGhpcy5jb25uZWN0UnVudGltZShyKX19LGFib3J0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLnN0YXRlPXIuSURMRSx1JiYodS5leGVjLmNhbGwoZSxcIlRyYW5zcG9ydGVyXCIsXCJjbGVhclwiKSxlLnRyaWdnZXIoXCJUcmFuc3BvcnRpbmdBYm9ydGVkXCIpKSxuLmNhbGwoZSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnVuYmluZEFsbCgpLHU9bnVsbCx0aGlzLmRpc2Nvbm5lY3RSdW50aW1lKCksbi5jYWxsKHRoaXMpfX0pfXJldHVybiByLklETEU9MCxyLkJVU1k9MSxyLkRPTkU9MixyLnByb3RvdHlwZT1uLmluc3RhbmNlLHJ9KSxuKFwibW94aWUvaW1hZ2UvSW1hZ2VcIixbXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0RvbVwiLFwibW94aWUvY29yZS9FeGNlcHRpb25zXCIsXCJtb3hpZS9maWxlL0ZpbGVSZWFkZXJTeW5jXCIsXCJtb3hpZS94aHIvWE1MSHR0cFJlcXVlc3RcIixcIm1veGllL3J1bnRpbWUvUnVudGltZVwiLFwibW94aWUvcnVudGltZS9SdW50aW1lQ2xpZW50XCIsXCJtb3hpZS9ydW50aW1lL1RyYW5zcG9ydGVyXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0VudlwiLFwibW94aWUvY29yZS9FdmVudFRhcmdldFwiLFwibW94aWUvZmlsZS9CbG9iXCIsXCJtb3hpZS9maWxlL0ZpbGVcIixcIm1veGllL2NvcmUvdXRpbHMvRW5jb2RlXCJdLGZ1bmN0aW9uKGUsdCxpLG4scixvLGEscyx1LGMsbCxkLG0pe2Z1bmN0aW9uIGgoKXtmdW5jdGlvbiBuKGUpe3RyeXtyZXR1cm4gZXx8KGU9dGhpcy5leGVjKFwiSW1hZ2VcIixcImdldEluZm9cIikpLHRoaXMuc2l6ZT1lLnNpemUsdGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMudHlwZT1lLnR5cGUsdGhpcy5tZXRhPWUubWV0YSxcIlwiPT09dGhpcy5uYW1lJiYodGhpcy5uYW1lPWUubmFtZSksITB9Y2F0Y2godCl7cmV0dXJuIHRoaXMudHJpZ2dlcihcImVycm9yXCIsdC5jb2RlKSwhMX19ZnVuY3Rpb24gYyh0KXt2YXIgbj1lLnR5cGVPZih0KTt0cnl7aWYodCBpbnN0YW5jZW9mIGgpe2lmKCF0LnNpemUpdGhyb3cgbmV3IGkuRE9NRXhjZXB0aW9uKGkuRE9NRXhjZXB0aW9uLklOVkFMSURfU1RBVEVfRVJSKTtwLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1lbHNlIGlmKHQgaW5zdGFuY2VvZiBsKXtpZighfmUuaW5BcnJheSh0LnR5cGUsW1wiaW1hZ2UvanBlZ1wiLFwiaW1hZ2UvcG5nXCJdKSl0aHJvdyBuZXcgaS5JbWFnZUVycm9yKGkuSW1hZ2VFcnJvci5XUk9OR19GT1JNQVQpO2cuYXBwbHkodGhpcyxhcmd1bWVudHMpfWVsc2UgaWYoLTEhPT1lLmluQXJyYXkobixbXCJibG9iXCIsXCJmaWxlXCJdKSljLmNhbGwodGhpcyxuZXcgZChudWxsLHQpLGFyZ3VtZW50c1sxXSk7ZWxzZSBpZihcInN0cmluZ1wiPT09bilcImRhdGE6XCI9PT10LnN1YnN0cigwLDUpP2MuY2FsbCh0aGlzLG5ldyBsKG51bGwse2RhdGE6dH0pLGFyZ3VtZW50c1sxXSk6eC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZWxzZXtpZihcIm5vZGVcIiE9PW58fFwiaW1nXCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpdGhyb3cgbmV3IGkuRE9NRXhjZXB0aW9uKGkuRE9NRXhjZXB0aW9uLlRZUEVfTUlTTUFUQ0hfRVJSKTtjLmNhbGwodGhpcyx0LnNyYyxhcmd1bWVudHNbMV0pfX1jYXRjaChyKXt0aGlzLnRyaWdnZXIoXCJlcnJvclwiLHIuY29kZSl9fWZ1bmN0aW9uIHAodCxpKXt2YXIgbj10aGlzLmNvbm5lY3RSdW50aW1lKHQucnVpZCk7dGhpcy5ydWlkPW4udWlkLG4uZXhlYy5jYWxsKHRoaXMsXCJJbWFnZVwiLFwibG9hZEZyb21JbWFnZVwiLHQsXCJ1bmRlZmluZWRcIj09PWUudHlwZU9mKGkpPyEwOmkpfWZ1bmN0aW9uIGcodCxpKXtmdW5jdGlvbiBuKGUpe3IucnVpZD1lLnVpZCxlLmV4ZWMuY2FsbChyLFwiSW1hZ2VcIixcImxvYWRGcm9tQmxvYlwiLHQpfXZhciByPXRoaXM7ci5uYW1lPXQubmFtZXx8XCJcIix0LmlzRGV0YWNoZWQoKT8odGhpcy5iaW5kKFwiUnVudGltZUluaXRcIixmdW5jdGlvbihlLHQpe24odCl9KSxpJiZcInN0cmluZ1wiPT10eXBlb2YgaS5yZXF1aXJlZF9jYXBzJiYoaS5yZXF1aXJlZF9jYXBzPW8ucGFyc2VDYXBzKGkucmVxdWlyZWRfY2FwcykpLHRoaXMuY29ubmVjdFJ1bnRpbWUoZS5leHRlbmQoe3JlcXVpcmVkX2NhcHM6e2FjY2Vzc19pbWFnZV9iaW5hcnk6ITAscmVzaXplX2ltYWdlOiEwfX0saSkpKTpuKHRoaXMuY29ubmVjdFJ1bnRpbWUodC5ydWlkKSl9ZnVuY3Rpb24geChlLHQpe3ZhciBpLG49dGhpcztpPW5ldyByLGkub3BlbihcImdldFwiLGUpLGkucmVzcG9uc2VUeXBlPVwiYmxvYlwiLGkub25wcm9ncmVzcz1mdW5jdGlvbihlKXtuLnRyaWdnZXIoZSl9LGkub25sb2FkPWZ1bmN0aW9uKCl7Zy5jYWxsKG4saS5yZXNwb25zZSwhMCl9LGkub25lcnJvcj1mdW5jdGlvbihlKXtuLnRyaWdnZXIoZSl9LGkub25sb2FkZW5kPWZ1bmN0aW9uKCl7aS5kZXN0cm95KCl9LGkuYmluZChcIlJ1bnRpbWVFcnJvclwiLGZ1bmN0aW9uKGUsdCl7bi50cmlnZ2VyKFwiUnVudGltZUVycm9yXCIsdCl9KSxpLnNlbmQobnVsbCx0KX1hLmNhbGwodGhpcyksZS5leHRlbmQodGhpcyx7dWlkOmUuZ3VpZChcInVpZF9cIikscnVpZDpudWxsLG5hbWU6XCJcIixzaXplOjAsd2lkdGg6MCxoZWlnaHQ6MCx0eXBlOlwiXCIsbWV0YTp7fSxjbG9uZTpmdW5jdGlvbigpe3RoaXMubG9hZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGxvYWQ6ZnVuY3Rpb24oKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scmVzaXplOmZ1bmN0aW9uKHQpe3ZhciBuLHIsbz10aGlzLGE9e3g6MCx5OjAsd2lkdGg6by53aWR0aCxoZWlnaHQ6by5oZWlnaHR9LHM9ZS5leHRlbmRJZih7d2lkdGg6by53aWR0aCxoZWlnaHQ6by5oZWlnaHQsdHlwZTpvLnR5cGV8fFwiaW1hZ2UvanBlZ1wiLHF1YWxpdHk6OTAsY3JvcDohMSxmaXQ6ITAscHJlc2VydmVIZWFkZXJzOiEwLHJlc2FtcGxlOlwiZGVmYXVsdFwiLG11bHRpcGFzczohMH0sdCk7dHJ5e2lmKCFvLnNpemUpdGhyb3cgbmV3IGkuRE9NRXhjZXB0aW9uKGkuRE9NRXhjZXB0aW9uLklOVkFMSURfU1RBVEVfRVJSKTtpZihvLndpZHRoPmguTUFYX1JFU0laRV9XSURUSHx8by5oZWlnaHQ+aC5NQVhfUkVTSVpFX0hFSUdIVCl0aHJvdyBuZXcgaS5JbWFnZUVycm9yKGkuSW1hZ2VFcnJvci5NQVhfUkVTT0xVVElPTl9FUlIpO2lmKG49by5tZXRhJiZvLm1ldGEudGlmZiYmby5tZXRhLnRpZmYuT3JpZW50YXRpb258fDEsLTEhPT1lLmluQXJyYXkobixbNSw2LDcsOF0pKXt2YXIgdT1zLndpZHRoO3Mud2lkdGg9cy5oZWlnaHQscy5oZWlnaHQ9dX1pZihzLmNyb3Ape3N3aXRjaChyPU1hdGgubWF4KHMud2lkdGgvby53aWR0aCxzLmhlaWdodC9vLmhlaWdodCksdC5maXQ/KGEud2lkdGg9TWF0aC5taW4oTWF0aC5jZWlsKHMud2lkdGgvciksby53aWR0aCksYS5oZWlnaHQ9TWF0aC5taW4oTWF0aC5jZWlsKHMuaGVpZ2h0L3IpLG8uaGVpZ2h0KSxyPXMud2lkdGgvYS53aWR0aCk6KGEud2lkdGg9TWF0aC5taW4ocy53aWR0aCxvLndpZHRoKSxhLmhlaWdodD1NYXRoLm1pbihzLmhlaWdodCxvLmhlaWdodCkscj0xKSxcImJvb2xlYW5cIj09dHlwZW9mIHMuY3JvcCYmKHMuY3JvcD1cImNjXCIpLHMuY3JvcC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vLFwiLVwiKSl7Y2FzZVwicmJcIjpjYXNlXCJyaWdodC1ib3R0b21cIjphLng9by53aWR0aC1hLndpZHRoLGEueT1vLmhlaWdodC1hLmhlaWdodDticmVhaztjYXNlXCJjYlwiOmNhc2VcImNlbnRlci1ib3R0b21cIjphLng9TWF0aC5mbG9vcigoby53aWR0aC1hLndpZHRoKS8yKSxhLnk9by5oZWlnaHQtYS5oZWlnaHQ7YnJlYWs7Y2FzZVwibGJcIjpjYXNlXCJsZWZ0LWJvdHRvbVwiOmEueD0wLGEueT1vLmhlaWdodC1hLmhlaWdodDticmVhaztjYXNlXCJsdFwiOmNhc2VcImxlZnQtdG9wXCI6YS54PTAsYS55PTA7YnJlYWs7Y2FzZVwiY3RcIjpjYXNlXCJjZW50ZXItdG9wXCI6YS54PU1hdGguZmxvb3IoKG8ud2lkdGgtYS53aWR0aCkvMiksYS55PTA7YnJlYWs7Y2FzZVwicnRcIjpjYXNlXCJyaWdodC10b3BcIjphLng9by53aWR0aC1hLndpZHRoLGEueT0wO2JyZWFrO2Nhc2VcInJjXCI6Y2FzZVwicmlnaHQtY2VudGVyXCI6Y2FzZVwicmlnaHQtbWlkZGxlXCI6YS54PW8ud2lkdGgtYS53aWR0aCxhLnk9TWF0aC5mbG9vcigoby5oZWlnaHQtYS5oZWlnaHQpLzIpO2JyZWFrO2Nhc2VcImxjXCI6Y2FzZVwibGVmdC1jZW50ZXJcIjpjYXNlXCJsZWZ0LW1pZGRsZVwiOmEueD0wLGEueT1NYXRoLmZsb29yKChvLmhlaWdodC1hLmhlaWdodCkvMik7YnJlYWs7Y2FzZVwiY2NcIjpjYXNlXCJjZW50ZXItY2VudGVyXCI6Y2FzZVwiY2VudGVyLW1pZGRsZVwiOmRlZmF1bHQ6YS54PU1hdGguZmxvb3IoKG8ud2lkdGgtYS53aWR0aCkvMiksYS55PU1hdGguZmxvb3IoKG8uaGVpZ2h0LWEuaGVpZ2h0KS8yKX1hLng9TWF0aC5tYXgoYS54LDApLGEueT1NYXRoLm1heChhLnksMCl9ZWxzZSByPU1hdGgubWluKHMud2lkdGgvby53aWR0aCxzLmhlaWdodC9vLmhlaWdodCkscj4xJiYhcy5maXQmJihyPTEpO3RoaXMuZXhlYyhcIkltYWdlXCIsXCJyZXNpemVcIixhLHIscyl9Y2F0Y2goYyl7by50cmlnZ2VyKFwiZXJyb3JcIixjLmNvZGUpfX0sZG93bnNpemU6ZnVuY3Rpb24odCl7dmFyIGksbj17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsdHlwZTp0aGlzLnR5cGV8fFwiaW1hZ2UvanBlZ1wiLHF1YWxpdHk6OTAsY3JvcDohMSxmaXQ6ITEscHJlc2VydmVIZWFkZXJzOiEwLHJlc2FtcGxlOlwiZGVmYXVsdFwifTtpPVwib2JqZWN0XCI9PXR5cGVvZiB0P2UuZXh0ZW5kKG4sdCk6ZS5leHRlbmQobix7d2lkdGg6YXJndW1lbnRzWzBdLGhlaWdodDphcmd1bWVudHNbMV0sY3JvcDphcmd1bWVudHNbMl0scHJlc2VydmVIZWFkZXJzOmFyZ3VtZW50c1szXX0pLHRoaXMucmVzaXplKGkpfSxjcm9wOmZ1bmN0aW9uKGUsdCxpKXt0aGlzLmRvd25zaXplKGUsdCwhMCxpKX0sZ2V0QXNDYW52YXM6ZnVuY3Rpb24oKXtpZighdS5jYW4oXCJjcmVhdGVfY2FudmFzXCIpKXRocm93IG5ldyBpLlJ1bnRpbWVFcnJvcihpLlJ1bnRpbWVFcnJvci5OT1RfU1VQUE9SVEVEX0VSUik7cmV0dXJuIHRoaXMuZXhlYyhcIkltYWdlXCIsXCJnZXRBc0NhbnZhc1wiKX0sZ2V0QXNCbG9iOmZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuc2l6ZSl0aHJvdyBuZXcgaS5ET01FeGNlcHRpb24oaS5ET01FeGNlcHRpb24uSU5WQUxJRF9TVEFURV9FUlIpO3JldHVybiB0aGlzLmV4ZWMoXCJJbWFnZVwiLFwiZ2V0QXNCbG9iXCIsZXx8XCJpbWFnZS9qcGVnXCIsdHx8OTApfSxnZXRBc0RhdGFVUkw6ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5zaXplKXRocm93IG5ldyBpLkRPTUV4Y2VwdGlvbihpLkRPTUV4Y2VwdGlvbi5JTlZBTElEX1NUQVRFX0VSUik7cmV0dXJuIHRoaXMuZXhlYyhcIkltYWdlXCIsXCJnZXRBc0RhdGFVUkxcIixlfHxcImltYWdlL2pwZWdcIix0fHw5MCl9LGdldEFzQmluYXJ5U3RyaW5nOmZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcy5nZXRBc0RhdGFVUkwoZSx0KTtyZXR1cm4gbS5hdG9iKGkuc3Vic3RyaW5nKGkuaW5kZXhPZihcImJhc2U2NCxcIikrNykpfSxlbWJlZDpmdW5jdGlvbihuLHIpe2Z1bmN0aW9uIG8odCxyKXt2YXIgbz10aGlzO2lmKHUuY2FuKFwiY3JlYXRlX2NhbnZhc1wiKSl7dmFyIGw9by5nZXRBc0NhbnZhcygpO2lmKGwpcmV0dXJuIG4uYXBwZW5kQ2hpbGQobCksbD1udWxsLG8uZGVzdHJveSgpLGMudHJpZ2dlcihcImVtYmVkZGVkXCIpLHZvaWQgMH12YXIgZD1vLmdldEFzRGF0YVVSTCh0LHIpO2lmKCFkKXRocm93IG5ldyBpLkltYWdlRXJyb3IoaS5JbWFnZUVycm9yLldST05HX0ZPUk1BVCk7aWYodS5jYW4oXCJ1c2VfZGF0YV91cmlfb2ZcIixkLmxlbmd0aCkpbi5pbm5lckhUTUw9JzxpbWcgc3JjPVwiJytkKydcIiB3aWR0aD1cIicrby53aWR0aCsnXCIgaGVpZ2h0PVwiJytvLmhlaWdodCsnXCIgYWx0PVwiXCIgLz4nLG8uZGVzdHJveSgpLGMudHJpZ2dlcihcImVtYmVkZGVkXCIpO2Vsc2V7dmFyIGg9bmV3IHM7aC5iaW5kKFwiVHJhbnNwb3J0aW5nQ29tcGxldGVcIixmdW5jdGlvbigpe2E9Yy5jb25uZWN0UnVudGltZSh0aGlzLnJlc3VsdC5ydWlkKSxjLmJpbmQoXCJFbWJlZGRlZFwiLGZ1bmN0aW9uKCl7ZS5leHRlbmQoYS5nZXRTaGltQ29udGFpbmVyKCkuc3R5bGUse3RvcDpcIjBweFwiLGxlZnQ6XCIwcHhcIix3aWR0aDpvLndpZHRoK1wicHhcIixoZWlnaHQ6by5oZWlnaHQrXCJweFwifSksYT1udWxsfSw5OTkpLGEuZXhlYy5jYWxsKGMsXCJJbWFnZVZpZXdcIixcImRpc3BsYXlcIix0aGlzLnJlc3VsdC51aWQsd2lkdGgsaGVpZ2h0KSxvLmRlc3Ryb3koKX0pLGgudHJhbnNwb3J0KG0uYXRvYihkLnN1YnN0cmluZyhkLmluZGV4T2YoXCJiYXNlNjQsXCIpKzcpKSx0LHtyZXF1aXJlZF9jYXBzOntkaXNwbGF5X21lZGlhOiEwfSxydW50aW1lX29yZGVyOlwiZmxhc2gsc2lsdmVybGlnaHRcIixjb250YWluZXI6bn0pfX12YXIgYSxjPXRoaXMsbD1lLmV4dGVuZCh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsdHlwZTp0aGlzLnR5cGV8fFwiaW1hZ2UvanBlZ1wiLHF1YWxpdHk6OTAsZml0OiEwLHJlc2FtcGxlOlwibmVhcmVzdFwifSxyKTt0cnl7aWYoIShuPXQuZ2V0KG4pKSl0aHJvdyBuZXcgaS5ET01FeGNlcHRpb24oaS5ET01FeGNlcHRpb24uSU5WQUxJRF9OT0RFX1RZUEVfRVJSKTtpZighdGhpcy5zaXplKXRocm93IG5ldyBpLkRPTUV4Y2VwdGlvbihpLkRPTUV4Y2VwdGlvbi5JTlZBTElEX1NUQVRFX0VSUik7dGhpcy53aWR0aD5oLk1BWF9SRVNJWkVfV0lEVEh8fHRoaXMuaGVpZ2h0PmguTUFYX1JFU0laRV9IRUlHSFQ7dmFyIGQ9bmV3IGg7cmV0dXJuIGQuYmluZChcIlJlc2l6ZVwiLGZ1bmN0aW9uKCl7by5jYWxsKHRoaXMsbC50eXBlLGwucXVhbGl0eSl9KSxkLmJpbmQoXCJMb2FkXCIsZnVuY3Rpb24oKXt0aGlzLmRvd25zaXplKGwpfSksdGhpcy5tZXRhLnRodW1iJiZ0aGlzLm1ldGEudGh1bWIud2lkdGg+PWwud2lkdGgmJnRoaXMubWV0YS50aHVtYi5oZWlnaHQ+PWwuaGVpZ2h0P2QubG9hZCh0aGlzLm1ldGEudGh1bWIuZGF0YSk6ZC5jbG9uZSh0aGlzLCExKSxkfWNhdGNoKGYpe3RoaXMudHJpZ2dlcihcImVycm9yXCIsZi5jb2RlKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnJ1aWQmJih0aGlzLmdldFJ1bnRpbWUoKS5leGVjLmNhbGwodGhpcyxcIkltYWdlXCIsXCJkZXN0cm95XCIpLHRoaXMuZGlzY29ubmVjdFJ1bnRpbWUoKSksdGhpcy5tZXRhJiZ0aGlzLm1ldGEudGh1bWImJnRoaXMubWV0YS50aHVtYi5kYXRhLmRlc3Ryb3koKSx0aGlzLnVuYmluZEFsbCgpfX0pLHRoaXMuaGFuZGxlRXZlbnRQcm9wcyhmKSx0aGlzLmJpbmQoXCJMb2FkIFJlc2l6ZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2FsbCh0aGlzKX0sOTk5KX12YXIgZj1bXCJwcm9ncmVzc1wiLFwibG9hZFwiLFwiZXJyb3JcIixcInJlc2l6ZVwiLFwiZW1iZWRkZWRcIl07cmV0dXJuIGguTUFYX1JFU0laRV9XSURUSD04MTkyLGguTUFYX1JFU0laRV9IRUlHSFQ9ODE5MixoLnByb3RvdHlwZT1jLmluc3RhbmNlLGh9KSxuKFwibW94aWUvcnVudGltZS9odG1sNS9SdW50aW1lXCIsW1wibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvY29yZS9FeGNlcHRpb25zXCIsXCJtb3hpZS9ydW50aW1lL1J1bnRpbWVcIixcIm1veGllL2NvcmUvdXRpbHMvRW52XCJdLGZ1bmN0aW9uKGUsdCxpLG4pe2Z1bmN0aW9uIG8odCl7dmFyIG89dGhpcyx1PWkuY2FwVGVzdCxjPWkuY2FwVHJ1ZSxsPWUuZXh0ZW5kKHthY2Nlc3NfYmluYXJ5OnUod2luZG93LkZpbGVSZWFkZXJ8fHdpbmRvdy5GaWxlJiZ3aW5kb3cuRmlsZS5nZXRBc0RhdGFVUkwpLGFjY2Vzc19pbWFnZV9iaW5hcnk6ZnVuY3Rpb24oKXtyZXR1cm4gby5jYW4oXCJhY2Nlc3NfYmluYXJ5XCIpJiYhIXMuSW1hZ2V9LGRpc3BsYXlfbWVkaWE6dSgobi5jYW4oXCJjcmVhdGVfY2FudmFzXCIpfHxuLmNhbihcInVzZV9kYXRhX3VyaV9vdmVyMzJrYlwiKSkmJnIoXCJtb3hpZS9pbWFnZS9JbWFnZVwiKSksZG9fY29yczp1KHdpbmRvdy5YTUxIdHRwUmVxdWVzdCYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIG5ldyBYTUxIdHRwUmVxdWVzdCksZHJhZ19hbmRfZHJvcDp1KGZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4oXCJkcmFnZ2FibGVcImluIGV8fFwib25kcmFnc3RhcnRcImluIGUmJlwib25kcm9wXCJpbiBlKSYmKFwiSUVcIiE9PW4uYnJvd3Nlcnx8bi52ZXJDb21wKG4udmVyc2lvbiw5LFwiPlwiKSl9KCkpLGZpbHRlcl9ieV9leHRlbnNpb246dShmdW5jdGlvbigpe3JldHVybiEoXCJDaHJvbWVcIj09PW4uYnJvd3NlciYmbi52ZXJDb21wKG4udmVyc2lvbiwyOCxcIjxcIil8fFwiSUVcIj09PW4uYnJvd3NlciYmbi52ZXJDb21wKG4udmVyc2lvbiwxMCxcIjxcIil8fFwiU2FmYXJpXCI9PT1uLmJyb3dzZXImJm4udmVyQ29tcChuLnZlcnNpb24sNyxcIjxcIil8fFwiRmlyZWZveFwiPT09bi5icm93c2VyJiZuLnZlckNvbXAobi52ZXJzaW9uLDM3LFwiPFwiKSl9KCkpLHJldHVybl9yZXNwb25zZV9oZWFkZXJzOmMscmV0dXJuX3Jlc3BvbnNlX3R5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJqc29uXCI9PT1lJiZ3aW5kb3cuSlNPTj8hMDpuLmNhbihcInJldHVybl9yZXNwb25zZV90eXBlXCIsZSl9LHJldHVybl9zdGF0dXNfY29kZTpjLHJlcG9ydF91cGxvYWRfcHJvZ3Jlc3M6dSh3aW5kb3cuWE1MSHR0cFJlcXVlc3QmJihuZXcgWE1MSHR0cFJlcXVlc3QpLnVwbG9hZCkscmVzaXplX2ltYWdlOmZ1bmN0aW9uKCl7cmV0dXJuIG8uY2FuKFwiYWNjZXNzX2JpbmFyeVwiKSYmbi5jYW4oXCJjcmVhdGVfY2FudmFzXCIpfSxzZWxlY3RfZmlsZTpmdW5jdGlvbigpe3JldHVybiBuLmNhbihcInVzZV9maWxlaW5wdXRcIikmJndpbmRvdy5GaWxlfSxzZWxlY3RfZm9sZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIG8uY2FuKFwic2VsZWN0X2ZpbGVcIikmJihcIkNocm9tZVwiPT09bi5icm93c2VyJiZuLnZlckNvbXAobi52ZXJzaW9uLDIxLFwiPj1cIil8fFwiRmlyZWZveFwiPT09bi5icm93c2VyJiZuLnZlckNvbXAobi52ZXJzaW9uLDQyLFwiPj1cIikpfSxzZWxlY3RfbXVsdGlwbGU6ZnVuY3Rpb24oKXtyZXR1cm4hKCFvLmNhbihcInNlbGVjdF9maWxlXCIpfHxcIlNhZmFyaVwiPT09bi5icm93c2VyJiZcIldpbmRvd3NcIj09PW4ub3N8fFwiaU9TXCI9PT1uLm9zJiZuLnZlckNvbXAobi5vc1ZlcnNpb24sXCI3LjAuMFwiLFwiPlwiKSYmbi52ZXJDb21wKG4ub3NWZXJzaW9uLFwiOC4wLjBcIixcIjxcIikpfSxzZW5kX2JpbmFyeV9zdHJpbmc6dSh3aW5kb3cuWE1MSHR0cFJlcXVlc3QmJigobmV3IFhNTEh0dHBSZXF1ZXN0KS5zZW5kQXNCaW5hcnl8fHdpbmRvdy5VaW50OEFycmF5JiZ3aW5kb3cuQXJyYXlCdWZmZXIpKSxzZW5kX2N1c3RvbV9oZWFkZXJzOnUod2luZG93LlhNTEh0dHBSZXF1ZXN0KSxzZW5kX211bHRpcGFydDpmdW5jdGlvbigpe3JldHVybiEhKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCYmKG5ldyBYTUxIdHRwUmVxdWVzdCkudXBsb2FkJiZ3aW5kb3cuRm9ybURhdGEpfHxvLmNhbihcInNlbmRfYmluYXJ5X3N0cmluZ1wiKX0sc2xpY2VfYmxvYjp1KHdpbmRvdy5GaWxlJiYoRmlsZS5wcm90b3R5cGUubW96U2xpY2V8fEZpbGUucHJvdG90eXBlLndlYmtpdFNsaWNlfHxGaWxlLnByb3RvdHlwZS5zbGljZSkpLHN0cmVhbV91cGxvYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gby5jYW4oXCJzbGljZV9ibG9iXCIpJiZvLmNhbihcInNlbmRfbXVsdGlwYXJ0XCIpfSxzdW1tb25fZmlsZV9kaWFsb2c6ZnVuY3Rpb24oKXtyZXR1cm4gby5jYW4oXCJzZWxlY3RfZmlsZVwiKSYmIShcIkZpcmVmb3hcIj09PW4uYnJvd3NlciYmbi52ZXJDb21wKG4udmVyc2lvbiw0LFwiPFwiKXx8XCJPcGVyYVwiPT09bi5icm93c2VyJiZuLnZlckNvbXAobi52ZXJzaW9uLDEyLFwiPFwiKXx8XCJJRVwiPT09bi5icm93c2VyJiZuLnZlckNvbXAobi52ZXJzaW9uLDEwLFwiPFwiKSl9LHVwbG9hZF9maWxlc2l6ZTpjLHVzZV9odHRwX21ldGhvZDpjfSxhcmd1bWVudHNbMl0pO2kuY2FsbCh0aGlzLHQsYXJndW1lbnRzWzFdfHxhLGwpLGUuZXh0ZW5kKHRoaXMse2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoXCJJbml0XCIpfSxkZXN0cm95OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe2UuY2FsbChvKSxlPW89bnVsbH19KHRoaXMuZGVzdHJveSl9KSxlLmV4dGVuZCh0aGlzLmdldFNoaW0oKSxzKX12YXIgYT1cImh0bWw1XCIscz17fTtyZXR1cm4gaS5hZGRDb25zdHJ1Y3RvcihhLG8pLHN9KSxuKFwibW94aWUvcnVudGltZS9odG1sNS9maWxlL0Jsb2JcIixbXCJtb3hpZS9ydW50aW1lL2h0bWw1L1J1bnRpbWVcIixcIm1veGllL2ZpbGUvQmxvYlwiXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoKXtmdW5jdGlvbiBlKGUsdCxpKXt2YXIgbjtpZighd2luZG93LkZpbGUucHJvdG90eXBlLnNsaWNlKXJldHVybihuPXdpbmRvdy5GaWxlLnByb3RvdHlwZS53ZWJraXRTbGljZXx8d2luZG93LkZpbGUucHJvdG90eXBlLm1velNsaWNlKT9uLmNhbGwoZSx0LGkpOm51bGw7dHJ5e3JldHVybiBlLnNsaWNlKCksZS5zbGljZSh0LGkpfWNhdGNoKHIpe3JldHVybiBlLnNsaWNlKHQsaS10KX19dGhpcy5zbGljZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLmdldFJ1bnRpbWUoKS51aWQsZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmdldFJ1bnRpbWUoKS5nZXRTaGltKCkucmVtb3ZlSW5zdGFuY2UodGhpcy51aWQpfX1yZXR1cm4gZS5CbG9iPWl9KSxuKFwibW94aWUvY29yZS91dGlscy9FdmVudHNcIixbXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCJdLGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt0aGlzLnJldHVyblZhbHVlPSExfWZ1bmN0aW9uIGkoKXt0aGlzLmNhbmNlbEJ1YmJsZT0hMH12YXIgbj17fSxyPVwibW94aWVfXCIrZS5ndWlkKCksbz1mdW5jdGlvbihvLGEscyx1KXt2YXIgYyxsO2E9YS50b0xvd2VyQ2FzZSgpLG8uYWRkRXZlbnRMaXN0ZW5lcj8oYz1zLG8uYWRkRXZlbnRMaXN0ZW5lcihhLGMsITEpKTpvLmF0dGFjaEV2ZW50JiYoYz1mdW5jdGlvbigpe3ZhciBlPXdpbmRvdy5ldmVudDtlLnRhcmdldHx8KGUudGFyZ2V0PWUuc3JjRWxlbWVudCksZS5wcmV2ZW50RGVmYXVsdD10LGUuc3RvcFByb3BhZ2F0aW9uPWkscyhlKX0sby5hdHRhY2hFdmVudChcIm9uXCIrYSxjKSksb1tyXXx8KG9bcl09ZS5ndWlkKCkpLG4uaGFzT3duUHJvcGVydHkob1tyXSl8fChuW29bcl1dPXt9KSxsPW5bb1tyXV0sbC5oYXNPd25Qcm9wZXJ0eShhKXx8KGxbYV09W10pLGxbYV0ucHVzaCh7ZnVuYzpjLG9yaWc6cyxrZXk6dX0pfSxhPWZ1bmN0aW9uKHQsaSxvKXt2YXIgYSxzO2lmKGk9aS50b0xvd2VyQ2FzZSgpLHRbcl0mJm5bdFtyXV0mJm5bdFtyXV1baV0pe2E9blt0W3JdXVtpXTtmb3IodmFyIHU9YS5sZW5ndGgtMTt1Pj0wJiYoYVt1XS5vcmlnIT09byYmYVt1XS5rZXkhPT1vfHwodC5yZW1vdmVFdmVudExpc3RlbmVyP3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLGFbdV0uZnVuYywhMSk6dC5kZXRhY2hFdmVudCYmdC5kZXRhY2hFdmVudChcIm9uXCIraSxhW3VdLmZ1bmMpLGFbdV0ub3JpZz1udWxsLGFbdV0uZnVuYz1udWxsLGEuc3BsaWNlKHUsMSksbz09PXMpKTt1LS0pO2lmKGEubGVuZ3RofHxkZWxldGUgblt0W3JdXVtpXSxlLmlzRW1wdHlPYmooblt0W3JdXSkpe2RlbGV0ZSBuW3Rbcl1dO3RyeXtkZWxldGUgdFtyXX1jYXRjaChjKXt0W3JdPXN9fX19LHM9ZnVuY3Rpb24odCxpKXt0JiZ0W3JdJiZlLmVhY2goblt0W3JdXSxmdW5jdGlvbihlLG4pe2EodCxuLGkpfSl9O3JldHVybnthZGRFdmVudDpvLHJlbW92ZUV2ZW50OmEscmVtb3ZlQWxsRXZlbnRzOnN9fSksbihcIm1veGllL3J1bnRpbWUvaHRtbDUvZmlsZS9GaWxlSW5wdXRcIixbXCJtb3hpZS9ydW50aW1lL2h0bWw1L1J1bnRpbWVcIixcIm1veGllL2ZpbGUvRmlsZVwiLFwibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvY29yZS91dGlscy9Eb21cIixcIm1veGllL2NvcmUvdXRpbHMvRXZlbnRzXCIsXCJtb3hpZS9jb3JlL3V0aWxzL01pbWVcIixcIm1veGllL2NvcmUvdXRpbHMvRW52XCJdLGZ1bmN0aW9uKGUsdCxpLG4scixvLGEpe2Z1bmN0aW9uIHMoKXt2YXIgZSxzO2kuZXh0ZW5kKHRoaXMse2luaXQ6ZnVuY3Rpb24odSl7dmFyIGMsbCxkLG0saCxmLHA9dGhpcyxnPXAuZ2V0UnVudGltZSgpO2U9dSxkPW8uZXh0TGlzdDJtaW1lcyhlLmFjY2VwdCxnLmNhbihcImZpbHRlcl9ieV9leHRlbnNpb25cIikpLGw9Zy5nZXRTaGltQ29udGFpbmVyKCksbC5pbm5lckhUTUw9JzxpbnB1dCBpZD1cIicrZy51aWQrJ1wiIHR5cGU9XCJmaWxlXCIgc3R5bGU9XCJmb250LXNpemU6OTk5cHg7b3BhY2l0eTowO1wiJysoZS5tdWx0aXBsZSYmZy5jYW4oXCJzZWxlY3RfbXVsdGlwbGVcIik/XCJtdWx0aXBsZVwiOlwiXCIpKyhlLmRpcmVjdG9yeSYmZy5jYW4oXCJzZWxlY3RfZm9sZGVyXCIpP1wid2Via2l0ZGlyZWN0b3J5IGRpcmVjdG9yeVwiOlwiXCIpKyhkPycgYWNjZXB0PVwiJytkLmpvaW4oXCIsXCIpKydcIic6XCJcIikrXCIgLz5cIixjPW4uZ2V0KGcudWlkKSxpLmV4dGVuZChjLnN0eWxlLHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIn0pLG09bi5nZXQoZS5icm93c2VfYnV0dG9uKSxzPW4uZ2V0U3R5bGUobSxcInotaW5kZXhcIil8fFwiYXV0b1wiLGcuY2FuKFwic3VtbW9uX2ZpbGVfZGlhbG9nXCIpJiYoXCJzdGF0aWNcIj09PW4uZ2V0U3R5bGUobSxcInBvc2l0aW9uXCIpJiYobS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpLHIuYWRkRXZlbnQobSxcImNsaWNrXCIsZnVuY3Rpb24oZSl7dmFyIHQ9bi5nZXQoZy51aWQpO3QmJiF0LmRpc2FibGVkJiZ0LmNsaWNrKCksZS5wcmV2ZW50RGVmYXVsdCgpfSxwLnVpZCkscC5iaW5kKFwiUmVmcmVzaFwiLGZ1bmN0aW9uKCl7aD1wYXJzZUludChzLDEwKXx8MSxuLmdldChlLmJyb3dzZV9idXR0b24pLnN0eWxlLnpJbmRleD1oLHRoaXMuZ2V0UnVudGltZSgpLmdldFNoaW1Db250YWluZXIoKS5zdHlsZS56SW5kZXg9aC0xfSkpLGY9Zy5jYW4oXCJzdW1tb25fZmlsZV9kaWFsb2dcIik/bTpsLHIuYWRkRXZlbnQoZixcIm1vdXNlb3ZlclwiLGZ1bmN0aW9uKCl7cC50cmlnZ2VyKFwibW91c2VlbnRlclwiKX0scC51aWQpLHIuYWRkRXZlbnQoZixcIm1vdXNlb3V0XCIsZnVuY3Rpb24oKXtwLnRyaWdnZXIoXCJtb3VzZWxlYXZlXCIpfSxwLnVpZCksci5hZGRFdmVudChmLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtwLnRyaWdnZXIoXCJtb3VzZWRvd25cIil9LHAudWlkKSxyLmFkZEV2ZW50KG4uZ2V0KGUuY29udGFpbmVyKSxcIm1vdXNldXBcIixmdW5jdGlvbigpe3AudHJpZ2dlcihcIm1vdXNldXBcIil9LHAudWlkKSwoZy5jYW4oXCJzdW1tb25fZmlsZV9kaWFsb2dcIik/YzptKS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLC0xKSxjLm9uY2hhbmdlPWZ1bmN0aW9uIHgoKXtpZihwLmZpbGVzPVtdLGkuZWFjaCh0aGlzLmZpbGVzLGZ1bmN0aW9uKGkpe3ZhciBuPVwiXCI7cmV0dXJuIGUuZGlyZWN0b3J5JiZcIi5cIj09aS5uYW1lPyEwOihpLndlYmtpdFJlbGF0aXZlUGF0aCYmKG49XCIvXCIraS53ZWJraXRSZWxhdGl2ZVBhdGgucmVwbGFjZSgvXlxcLy8sXCJcIikpLGk9bmV3IHQoZy51aWQsaSksaS5yZWxhdGl2ZVBhdGg9bixwLmZpbGVzLnB1c2goaSksdm9pZCAwKX0pLFwiSUVcIiE9PWEuYnJvd3NlciYmXCJJRU1vYmlsZVwiIT09YS5icm93c2VyKXRoaXMudmFsdWU9XCJcIjtlbHNle3ZhciBuPXRoaXMuY2xvbmVOb2RlKCEwKTt0aGlzLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG4sdGhpcyksbi5vbmNoYW5nZT14fXAuZmlsZXMubGVuZ3RoJiZwLnRyaWdnZXIoXCJjaGFuZ2VcIil9LHAudHJpZ2dlcih7dHlwZTpcInJlYWR5XCIsYXN5bmM6ITB9KSxsPW51bGx9LHNldE9wdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuZ2V0UnVudGltZSgpLHI9bi5nZXQoaS51aWQpO3N3aXRjaChlKXtjYXNlXCJhY2NlcHRcIjppZih0KXt2YXIgYT10Lm1pbWVzfHxvLmV4dExpc3QybWltZXModCxpLmNhbihcImZpbHRlcl9ieV9leHRlbnNpb25cIikpO3Iuc2V0QXR0cmlidXRlKFwiYWNjZXB0XCIsYS5qb2luKFwiLFwiKSl9ZWxzZSByLnJlbW92ZUF0dHJpYnV0ZShcImFjY2VwdFwiKTticmVhaztjYXNlXCJkaXJlY3RvcnlcIjp0JiZpLmNhbihcInNlbGVjdF9mb2xkZXJcIik/KHIuc2V0QXR0cmlidXRlKFwiZGlyZWN0b3J5XCIsXCJcIiksci5zZXRBdHRyaWJ1dGUoXCJ3ZWJraXRkaXJlY3RvcnlcIixcIlwiKSk6KHIucmVtb3ZlQXR0cmlidXRlKFwiZGlyZWN0b3J5XCIpLHIucmVtb3ZlQXR0cmlidXRlKFwid2Via2l0ZGlyZWN0b3J5XCIpKTticmVhaztjYXNlXCJtdWx0aXBsZVwiOnQmJmkuY2FuKFwic2VsZWN0X211bHRpcGxlXCIpP3Iuc2V0QXR0cmlidXRlKFwibXVsdGlwbGVcIixcIlwiKTpyLnJlbW92ZUF0dHJpYnV0ZShcIm11bHRpcGxlXCIpfX0sZGlzYWJsZTpmdW5jdGlvbihlKXt2YXIgdCxpPXRoaXMuZ2V0UnVudGltZSgpOyh0PW4uZ2V0KGkudWlkKSkmJih0LmRpc2FibGVkPSEhZSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFJ1bnRpbWUoKSxpPXQuZ2V0U2hpbSgpLG89dC5nZXRTaGltQ29udGFpbmVyKCksYT1lJiZuLmdldChlLmNvbnRhaW5lciksdT1lJiZuLmdldChlLmJyb3dzZV9idXR0b24pO2EmJnIucmVtb3ZlQWxsRXZlbnRzKGEsdGhpcy51aWQpLHUmJihyLnJlbW92ZUFsbEV2ZW50cyh1LHRoaXMudWlkKSx1LnN0eWxlLnpJbmRleD1zKSxvJiYoci5yZW1vdmVBbGxFdmVudHMobyx0aGlzLnVpZCksby5pbm5lckhUTUw9XCJcIiksaS5yZW1vdmVJbnN0YW5jZSh0aGlzLnVpZCksZT1vPWE9dT1pPW51bGx9fSl9cmV0dXJuIGUuRmlsZUlucHV0PXN9KSxuKFwibW94aWUvcnVudGltZS9odG1sNS9maWxlL0ZpbGVEcm9wXCIsW1wibW94aWUvcnVudGltZS9odG1sNS9SdW50aW1lXCIsXCJtb3hpZS9maWxlL0ZpbGVcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL2NvcmUvdXRpbHMvRG9tXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0V2ZW50c1wiLFwibW94aWUvY29yZS91dGlscy9NaW1lXCJdLGZ1bmN0aW9uKGUsdCxpLG4scixvKXtmdW5jdGlvbiBhKCl7ZnVuY3Rpb24gZShlKXtpZighZS5kYXRhVHJhbnNmZXJ8fCFlLmRhdGFUcmFuc2Zlci50eXBlcylyZXR1cm4hMTt2YXIgdD1pLnRvQXJyYXkoZS5kYXRhVHJhbnNmZXIudHlwZXN8fFtdKTtyZXR1cm4tMSE9PWkuaW5BcnJheShcIkZpbGVzXCIsdCl8fC0xIT09aS5pbkFycmF5KFwicHVibGljLmZpbGUtdXJsXCIsdCl8fC0xIT09aS5pbkFycmF5KFwiYXBwbGljYXRpb24veC1tb3otZmlsZVwiLHQpfWZ1bmN0aW9uIGEoZSxpKXtpZih1KGUpKXt2YXIgbj1uZXcgdChmLGUpO24ucmVsYXRpdmVQYXRoPWl8fFwiXCIscC5wdXNoKG4pfX1mdW5jdGlvbiBzKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspW10ucHVzaC5hcHBseSh0LGVbbl0uZXh0ZW5zaW9ucy5zcGxpdCgvXFxzKixcXHMqLykpO3JldHVybi0xPT09aS5pbkFycmF5KFwiKlwiLHQpP3Q6W119ZnVuY3Rpb24gdShlKXtpZighZy5sZW5ndGgpcmV0dXJuITA7dmFyIHQ9by5nZXRGaWxlRXh0ZW5zaW9uKGUubmFtZSk7cmV0dXJuIXR8fC0xIT09aS5pbkFycmF5KHQsZyl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPVtdO2kuZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciB0PWUud2Via2l0R2V0QXNFbnRyeSgpO3QmJih0LmlzRmlsZT9hKGUuZ2V0QXNGaWxlKCksdC5mdWxsUGF0aCk6bi5wdXNoKHQpKX0pLG4ubGVuZ3RoP2wobix0KTp0KCl9ZnVuY3Rpb24gbChlLHQpe3ZhciBuPVtdO2kuZWFjaChlLGZ1bmN0aW9uKGUpe24ucHVzaChmdW5jdGlvbih0KXtkKGUsdCl9KX0pLGkuaW5TZXJpZXMobixmdW5jdGlvbigpe3QoKX0pfWZ1bmN0aW9uIGQoZSx0KXtlLmlzRmlsZT9lLmZpbGUoZnVuY3Rpb24oaSl7YShpLGUuZnVsbFBhdGgpLHQoKX0sZnVuY3Rpb24oKXt0KCl9KTplLmlzRGlyZWN0b3J5P20oZSx0KTp0KCl9ZnVuY3Rpb24gbShlLHQpe2Z1bmN0aW9uIGkoZSl7ci5yZWFkRW50cmllcyhmdW5jdGlvbih0KXt0Lmxlbmd0aD8oW10ucHVzaC5hcHBseShuLHQpLGkoZSkpOmUoKX0sZSl9dmFyIG49W10scj1lLmNyZWF0ZVJlYWRlcigpO2koZnVuY3Rpb24oKXtsKG4sdCl9KX12YXIgaCxmLHA9W10sZz1bXTtpLmV4dGVuZCh0aGlzLHtpbml0OmZ1bmN0aW9uKHQpe3ZhciBuLG89dGhpcztoPXQsZj1vLnJ1aWQsZz1zKGguYWNjZXB0KSxuPWguY29udGFpbmVyLHIuYWRkRXZlbnQobixcImRyYWdvdmVyXCIsZnVuY3Rpb24odCl7ZSh0KSYmKHQucHJldmVudERlZmF1bHQoKSx0LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PVwiY29weVwiKX0sby51aWQpLHIuYWRkRXZlbnQobixcImRyb3BcIixmdW5jdGlvbih0KXtlKHQpJiYodC5wcmV2ZW50RGVmYXVsdCgpLHA9W10sdC5kYXRhVHJhbnNmZXIuaXRlbXMmJnQuZGF0YVRyYW5zZmVyLml0ZW1zWzBdLndlYmtpdEdldEFzRW50cnk/Yyh0LmRhdGFUcmFuc2Zlci5pdGVtcyxmdW5jdGlvbigpe28uZmlsZXM9cCxvLnRyaWdnZXIoXCJkcm9wXCIpfSk6KGkuZWFjaCh0LmRhdGFUcmFuc2Zlci5maWxlcyxmdW5jdGlvbihlKXthKGUpfSksby5maWxlcz1wLG8udHJpZ2dlcihcImRyb3BcIikpKX0sby51aWQpLHIuYWRkRXZlbnQobixcImRyYWdlbnRlclwiLGZ1bmN0aW9uKCl7by50cmlnZ2VyKFwiZHJhZ2VudGVyXCIpfSxvLnVpZCksci5hZGRFdmVudChuLFwiZHJhZ2xlYXZlXCIsZnVuY3Rpb24oKXtvLnRyaWdnZXIoXCJkcmFnbGVhdmVcIil9LG8udWlkKX0sZGVzdHJveTpmdW5jdGlvbigpe3IucmVtb3ZlQWxsRXZlbnRzKGgmJm4uZ2V0KGguY29udGFpbmVyKSx0aGlzLnVpZCksZj1wPWc9aD1udWxsLHRoaXMuZ2V0UnVudGltZSgpLmdldFNoaW0oKS5yZW1vdmVJbnN0YW5jZSh0aGlzLnVpZCl9fSl9cmV0dXJuIGUuRmlsZURyb3A9YX0pLG4oXCJtb3hpZS9ydW50aW1lL2h0bWw1L2ZpbGUvRmlsZVJlYWRlclwiLFtcIm1veGllL3J1bnRpbWUvaHRtbDUvUnVudGltZVwiLFwibW94aWUvY29yZS91dGlscy9FbmNvZGVcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIl0sZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4oKXtmdW5jdGlvbiBlKGUpe3JldHVybiB0LmF0b2IoZS5zdWJzdHJpbmcoZS5pbmRleE9mKFwiYmFzZTY0LFwiKSs3KSl9dmFyIG4scj0hMTtpLmV4dGVuZCh0aGlzLHtyZWFkOmZ1bmN0aW9uKHQsbyl7dmFyIGE9dGhpczthLnJlc3VsdD1cIlwiLG49bmV3IHdpbmRvdy5GaWxlUmVhZGVyLG4uYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsZnVuY3Rpb24oZSl7YS50cmlnZ2VyKGUpfSksbi5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGZ1bmN0aW9uKHQpe2EucmVzdWx0PXI/ZShuLnJlc3VsdCk6bi5yZXN1bHQsYS50cmlnZ2VyKHQpfSksbi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixmdW5jdGlvbihlKXthLnRyaWdnZXIoZSxuLmVycm9yKX0pLG4uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlbmRcIixmdW5jdGlvbihlKXtuPW51bGwsYS50cmlnZ2VyKGUpfSksXCJmdW5jdGlvblwiPT09aS50eXBlT2Yoblt0XSk/KHI9ITEsblt0XShvLmdldFNvdXJjZSgpKSk6XCJyZWFkQXNCaW5hcnlTdHJpbmdcIj09PXQmJihyPSEwLG4ucmVhZEFzRGF0YVVSTChvLmdldFNvdXJjZSgpKSl9LGFib3J0OmZ1bmN0aW9uKCl7biYmbi5hYm9ydCgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bj1udWxsLHRoaXMuZ2V0UnVudGltZSgpLmdldFNoaW0oKS5yZW1vdmVJbnN0YW5jZSh0aGlzLnVpZCl9fSl9cmV0dXJuIGUuRmlsZVJlYWRlcj1ufSksbihcIm1veGllL3J1bnRpbWUvaHRtbDUveGhyL1hNTEh0dHBSZXF1ZXN0XCIsW1wibW94aWUvcnVudGltZS9odG1sNS9SdW50aW1lXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCIsXCJtb3hpZS9jb3JlL3V0aWxzL01pbWVcIixcIm1veGllL2NvcmUvdXRpbHMvVXJsXCIsXCJtb3hpZS9maWxlL0ZpbGVcIixcIm1veGllL2ZpbGUvQmxvYlwiLFwibW94aWUveGhyL0Zvcm1EYXRhXCIsXCJtb3hpZS9jb3JlL0V4Y2VwdGlvbnNcIixcIm1veGllL2NvcmUvdXRpbHMvRW52XCJdLGZ1bmN0aW9uKGUsdCxpLG4scixvLGEscyx1KXtmdW5jdGlvbiBjKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciBpLG4scj10aGlzO2k9dC5nZXRCbG9iKCkuZ2V0U291cmNlKCksbj1uZXcgd2luZG93LkZpbGVSZWFkZXIsbi5vbmxvYWQ9ZnVuY3Rpb24oKXt0LmFwcGVuZCh0LmdldEJsb2JOYW1lKCksbmV3IG8obnVsbCx7dHlwZTppLnR5cGUsZGF0YTpuLnJlc3VsdH0pKSxmLnNlbmQuY2FsbChyLGUsdCl9LG4ucmVhZEFzQmluYXJ5U3RyaW5nKGkpfWZ1bmN0aW9uIGMoKXtyZXR1cm4hd2luZG93LlhNTEh0dHBSZXF1ZXN0fHxcIklFXCI9PT11LmJyb3dzZXImJnUudmVyQ29tcCh1LnZlcnNpb24sOCxcIjxcIik/ZnVuY3Rpb24oKXtmb3IodmFyIGU9W1wiTXN4bWwyLlhNTEhUVFAuNi4wXCIsXCJNaWNyb3NvZnQuWE1MSFRUUFwiXSx0PTA7dDxlLmxlbmd0aDt0KyspdHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdChlW3RdKX1jYXRjaChpKXt9fSgpOm5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3R9ZnVuY3Rpb24gbChlKXt2YXIgdD1lLnJlc3BvbnNlWE1MLGk9ZS5yZXNwb25zZVRleHQ7cmV0dXJuXCJJRVwiPT09dS5icm93c2VyJiZpJiZ0JiYhdC5kb2N1bWVudEVsZW1lbnQmJi9bXlxcL10rXFwvW15cXCtdK1xcK3htbC8udGVzdChlLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpKSYmKHQ9bmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTERPTVwiKSx0LmFzeW5jPSExLHQudmFsaWRhdGVPblBhcnNlPSExLHQubG9hZFhNTChpKSksdCYmKFwiSUVcIj09PXUuYnJvd3NlciYmMCE9PXQucGFyc2VFcnJvcnx8IXQuZG9jdW1lbnRFbGVtZW50fHxcInBhcnNlcmVycm9yXCI9PT10LmRvY3VtZW50RWxlbWVudC50YWdOYW1lKT9udWxsOnRcbn1mdW5jdGlvbiBkKGUpe3ZhciB0PVwiLS0tLW1veGllYm91bmRhcnlcIisobmV3IERhdGUpLmdldFRpbWUoKSxpPVwiLS1cIixuPVwiXFxyXFxuXCIscj1cIlwiLGE9dGhpcy5nZXRSdW50aW1lKCk7aWYoIWEuY2FuKFwic2VuZF9iaW5hcnlfc3RyaW5nXCIpKXRocm93IG5ldyBzLlJ1bnRpbWVFcnJvcihzLlJ1bnRpbWVFcnJvci5OT1RfU1VQUE9SVEVEX0VSUik7cmV0dXJuIG0uc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLFwibXVsdGlwYXJ0L2Zvcm0tZGF0YTsgYm91bmRhcnk9XCIrdCksZS5lYWNoKGZ1bmN0aW9uKGUsYSl7cis9ZSBpbnN0YW5jZW9mIG8/aSt0K24rJ0NvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT1cIicrYSsnXCI7IGZpbGVuYW1lPVwiJyt1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZS5uYW1lfHxcImJsb2JcIikpKydcIicrbitcIkNvbnRlbnQtVHlwZTogXCIrKGUudHlwZXx8XCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIikrbituK2UuZ2V0U291cmNlKCkrbjppK3QrbisnQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPVwiJythKydcIicrbituK3VuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSkrbn0pLHIrPWkrdCtpK259dmFyIG0saCxmPXRoaXM7dC5leHRlbmQodGhpcyx7c2VuZDpmdW5jdGlvbihpLHIpe3ZhciBzPXRoaXMsbD1cIk1vemlsbGFcIj09PXUuYnJvd3NlciYmdS52ZXJDb21wKHUudmVyc2lvbiw0LFwiPj1cIikmJnUudmVyQ29tcCh1LnZlcnNpb24sNyxcIjxcIiksZj1cIkFuZHJvaWQgQnJvd3NlclwiPT09dS5icm93c2VyLHA9ITE7aWYoaD1pLnVybC5yZXBsYWNlKC9eLis/XFwvKFtcXHdcXC1cXC5dKykkLyxcIiQxXCIpLnRvTG93ZXJDYXNlKCksbT1jKCksbS5vcGVuKGkubWV0aG9kLGkudXJsLGkuYXN5bmMsaS51c2VyLGkucGFzc3dvcmQpLHIgaW5zdGFuY2VvZiBvKXIuaXNEZXRhY2hlZCgpJiYocD0hMCkscj1yLmdldFNvdXJjZSgpO2Vsc2UgaWYociBpbnN0YW5jZW9mIGEpe2lmKHIuaGFzQmxvYigpKWlmKHIuZ2V0QmxvYigpLmlzRGV0YWNoZWQoKSlyPWQuY2FsbChzLHIpLHA9ITA7ZWxzZSBpZigobHx8ZikmJlwiYmxvYlwiPT09dC50eXBlT2Yoci5nZXRCbG9iKCkuZ2V0U291cmNlKCkpJiZ3aW5kb3cuRmlsZVJlYWRlcilyZXR1cm4gZS5jYWxsKHMsaSxyKSx2b2lkIDA7aWYociBpbnN0YW5jZW9mIGEpe3ZhciBnPW5ldyB3aW5kb3cuRm9ybURhdGE7ci5lYWNoKGZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIG8/Zy5hcHBlbmQodCxlLmdldFNvdXJjZSgpKTpnLmFwcGVuZCh0LGUpfSkscj1nfX1tLnVwbG9hZD8oaS53aXRoQ3JlZGVudGlhbHMmJihtLndpdGhDcmVkZW50aWFscz0hMCksbS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGZ1bmN0aW9uKGUpe3MudHJpZ2dlcihlKX0pLG0uYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsZnVuY3Rpb24oZSl7cy50cmlnZ2VyKGUpfSksbS5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixmdW5jdGlvbihlKXtzLnRyaWdnZXIoZSl9KSxtLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixmdW5jdGlvbihlKXtzLnRyaWdnZXIoe3R5cGU6XCJVcGxvYWRQcm9ncmVzc1wiLGxvYWRlZDplLmxvYWRlZCx0b3RhbDplLnRvdGFsfSl9KSk6bS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtzd2l0Y2gobS5yZWFkeVN0YXRlKXtjYXNlIDE6YnJlYWs7Y2FzZSAyOmJyZWFrO2Nhc2UgMzp2YXIgZSx0O3RyeXtuLmhhc1NhbWVPcmlnaW4oaS51cmwpJiYoZT1tLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1MZW5ndGhcIil8fDApLG0ucmVzcG9uc2VUZXh0JiYodD1tLnJlc3BvbnNlVGV4dC5sZW5ndGgpfWNhdGNoKHIpe2U9dD0wfXMudHJpZ2dlcih7dHlwZTpcInByb2dyZXNzXCIsbGVuZ3RoQ29tcHV0YWJsZTohIWUsdG90YWw6cGFyc2VJbnQoZSwxMCksbG9hZGVkOnR9KTticmVhaztjYXNlIDQ6bS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt9O3RyeXtpZihtLnN0YXR1cz49MjAwJiZtLnN0YXR1czw0MDApe3MudHJpZ2dlcihcImxvYWRcIik7YnJlYWt9fWNhdGNoKHIpe31zLnRyaWdnZXIoXCJlcnJvclwiKX19LHQuaXNFbXB0eU9iaihpLmhlYWRlcnMpfHx0LmVhY2goaS5oZWFkZXJzLGZ1bmN0aW9uKGUsdCl7bS5zZXRSZXF1ZXN0SGVhZGVyKHQsZSl9KSxcIlwiIT09aS5yZXNwb25zZVR5cGUmJlwicmVzcG9uc2VUeXBlXCJpbiBtJiYobS5yZXNwb25zZVR5cGU9XCJqc29uXCIhPT1pLnJlc3BvbnNlVHlwZXx8dS5jYW4oXCJyZXR1cm5fcmVzcG9uc2VfdHlwZVwiLFwianNvblwiKT9pLnJlc3BvbnNlVHlwZTpcInRleHRcIikscD9tLnNlbmRBc0JpbmFyeT9tLnNlbmRBc0JpbmFyeShyKTpmdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgVWludDhBcnJheShyLmxlbmd0aCksdD0wO3Q8ci5sZW5ndGg7dCsrKWVbdF09MjU1JnIuY2hhckNvZGVBdCh0KTttLnNlbmQoZS5idWZmZXIpfSgpOm0uc2VuZChyKSxzLnRyaWdnZXIoXCJsb2Fkc3RhcnRcIil9LGdldFN0YXR1czpmdW5jdGlvbigpe3RyeXtpZihtKXJldHVybiBtLnN0YXR1c31jYXRjaChlKXt9cmV0dXJuIDB9LGdldFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0UnVudGltZSgpO3RyeXtzd2l0Y2goZSl7Y2FzZVwiYmxvYlwiOnZhciBuPW5ldyByKHQudWlkLG0ucmVzcG9uc2UpLG89bS5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtRGlzcG9zaXRpb25cIik7aWYobyl7dmFyIGE9by5tYXRjaCgvZmlsZW5hbWU9KFtcXCdcXFwiJ10pKFteXFwxXSspXFwxLyk7YSYmKGg9YVsyXSl9cmV0dXJuIG4ubmFtZT1oLG4udHlwZXx8KG4udHlwZT1pLmdldEZpbGVNaW1lKGgpKSxuO2Nhc2VcImpzb25cIjpyZXR1cm4gdS5jYW4oXCJyZXR1cm5fcmVzcG9uc2VfdHlwZVwiLFwianNvblwiKT9tLnJlc3BvbnNlOjIwMD09PW0uc3RhdHVzJiZ3aW5kb3cuSlNPTj9KU09OLnBhcnNlKG0ucmVzcG9uc2VUZXh0KTpudWxsO2Nhc2VcImRvY3VtZW50XCI6cmV0dXJuIGwobSk7ZGVmYXVsdDpyZXR1cm5cIlwiIT09bS5yZXNwb25zZVRleHQ/bS5yZXNwb25zZVRleHQ6bnVsbH19Y2F0Y2gocyl7cmV0dXJuIG51bGx9fSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG0uZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCl9Y2F0Y2goZSl7fXJldHVyblwiXCJ9LGFib3J0OmZ1bmN0aW9uKCl7bSYmbS5hYm9ydCgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zj1oPW51bGwsdGhpcy5nZXRSdW50aW1lKCkuZ2V0U2hpbSgpLnJlbW92ZUluc3RhbmNlKHRoaXMudWlkKX19KX1yZXR1cm4gZS5YTUxIdHRwUmVxdWVzdD1jfSksbihcIm1veGllL3J1bnRpbWUvaHRtbDUvdXRpbHMvQmluYXJ5UmVhZGVyXCIsW1wibW94aWUvY29yZS91dGlscy9CYXNpY1wiXSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe2UgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBpKHQpe3ZhciBpPW5ldyBEYXRhVmlldyh0KTtlLmV4dGVuZCh0aGlzLHtyZWFkQnl0ZUF0OmZ1bmN0aW9uKGUpe3JldHVybiBpLmdldFVpbnQ4KGUpfSx3cml0ZUJ5dGVBdDpmdW5jdGlvbihlLHQpe2kuc2V0VWludDgoZSx0KX0sU0VHTUVOVDpmdW5jdGlvbihlLG4scil7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMjpyZXR1cm4gdC5zbGljZShlLGUrbik7Y2FzZSAxOnJldHVybiB0LnNsaWNlKGUpO2Nhc2UgMzppZihudWxsPT09ciYmKHI9bmV3IEFycmF5QnVmZmVyKSxyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3ZhciBvPW5ldyBVaW50OEFycmF5KHRoaXMubGVuZ3RoKCktbityLmJ5dGVMZW5ndGgpO2U+MCYmby5zZXQobmV3IFVpbnQ4QXJyYXkodC5zbGljZSgwLGUpKSwwKSxvLnNldChuZXcgVWludDhBcnJheShyKSxlKSxvLnNldChuZXcgVWludDhBcnJheSh0LnNsaWNlKGUrbikpLGUrci5ieXRlTGVuZ3RoKSx0aGlzLmNsZWFyKCksdD1vLmJ1ZmZlcixpPW5ldyBEYXRhVmlldyh0KTticmVha31kZWZhdWx0OnJldHVybiB0fX0sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHQ/dC5ieXRlTGVuZ3RoOjB9LGNsZWFyOmZ1bmN0aW9uKCl7aT10PW51bGx9fSl9ZnVuY3Rpb24gbih0KXtmdW5jdGlvbiBpKGUsaSxuKXtuPTM9PT1hcmd1bWVudHMubGVuZ3RoP246dC5sZW5ndGgtaS0xLHQ9dC5zdWJzdHIoMCxpKStlK3Quc3Vic3RyKG4raSl9ZS5leHRlbmQodGhpcyx7cmVhZEJ5dGVBdDpmdW5jdGlvbihlKXtyZXR1cm4gdC5jaGFyQ29kZUF0KGUpfSx3cml0ZUJ5dGVBdDpmdW5jdGlvbihlLHQpe2koU3RyaW5nLmZyb21DaGFyQ29kZSh0KSxlLDEpfSxTRUdNRU5UOmZ1bmN0aW9uKGUsbixyKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOnJldHVybiB0LnN1YnN0cihlKTtjYXNlIDI6cmV0dXJuIHQuc3Vic3RyKGUsbik7Y2FzZSAzOmkobnVsbCE9PXI/cjpcIlwiLGUsbik7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gdH19LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiB0P3QubGVuZ3RoOjB9LGNsZWFyOmZ1bmN0aW9uKCl7dD1udWxsfX0pfXJldHVybiBlLmV4dGVuZCh0LnByb3RvdHlwZSx7bGl0dGxlRW5kaWFuOiExLHJlYWQ6ZnVuY3Rpb24oZSx0KXt2YXIgaSxuLHI7aWYoZSt0PnRoaXMubGVuZ3RoKCkpdGhyb3cgbmV3IEVycm9yKFwiWW91IGFyZSB0cnlpbmcgdG8gcmVhZCBvdXRzaWRlIHRoZSBzb3VyY2UgYm91bmRhcmllcy5cIik7Zm9yKG49dGhpcy5saXR0bGVFbmRpYW4/MDotOCoodC0xKSxyPTAsaT0wO3Q+cjtyKyspaXw9dGhpcy5yZWFkQnl0ZUF0KGUrcik8PE1hdGguYWJzKG4rOCpyKTtyZXR1cm4gaX0sd3JpdGU6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHI7aWYoZT50aGlzLmxlbmd0aCgpKXRocm93IG5ldyBFcnJvcihcIllvdSBhcmUgdHJ5aW5nIHRvIHdyaXRlIG91dHNpZGUgdGhlIHNvdXJjZSBib3VuZGFyaWVzLlwiKTtmb3Iobj10aGlzLmxpdHRsZUVuZGlhbj8wOi04KihpLTEpLHI9MDtpPnI7cisrKXRoaXMud3JpdGVCeXRlQXQoZStyLDI1NSZ0Pj5NYXRoLmFicyhuKzgqcikpfSxCWVRFOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlYWQoZSwxKX0sU0hPUlQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVhZChlLDIpfSxMT05HOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlYWQoZSw0KX0sU0xPTkc6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yZWFkKGUsNCk7cmV0dXJuIHQ+MjE0NzQ4MzY0Nz90LTQyOTQ5NjcyOTY6dH0sQ0hBUjpmdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLnJlYWQoZSwxKSl9LFNUUklORzpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFzQXJyYXkoXCJDSEFSXCIsZSx0KS5qb2luKFwiXCIpfSxhc0FycmF5OmZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49W10scj0wO2k+cjtyKyspbltyXT10aGlzW2VdKHQrcik7cmV0dXJuIG59fSksdH0pLG4oXCJtb3hpZS9ydW50aW1lL2h0bWw1L2ltYWdlL0pQRUdIZWFkZXJzXCIsW1wibW94aWUvcnVudGltZS9odG1sNS91dGlscy9CaW5hcnlSZWFkZXJcIixcIm1veGllL2NvcmUvRXhjZXB0aW9uc1wiXSxmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbiBpKG4pe3ZhciByLG8sYSxzPVtdLHU9MDtpZihyPW5ldyBlKG4pLDY1NDk2IT09ci5TSE9SVCgwKSl0aHJvdyByLmNsZWFyKCksbmV3IHQuSW1hZ2VFcnJvcih0LkltYWdlRXJyb3IuV1JPTkdfRk9STUFUKTtmb3Iobz0yO288PXIubGVuZ3RoKCk7KWlmKGE9ci5TSE9SVChvKSxhPj02NTQ4OCYmNjU0OTU+PWEpbys9MjtlbHNle2lmKDY1NDk4PT09YXx8NjU0OTc9PT1hKWJyZWFrO3U9ci5TSE9SVChvKzIpKzIsYT49NjU1MDUmJjY1NTE5Pj1hJiZzLnB1c2goe2hleDphLG5hbWU6XCJBUFBcIisoMTUmYSksc3RhcnQ6byxsZW5ndGg6dSxzZWdtZW50OnIuU0VHTUVOVChvLHUpfSksbys9dX1yZXR1cm4gci5jbGVhcigpLHtoZWFkZXJzOnMscmVzdG9yZTpmdW5jdGlvbih0KXt2YXIgaSxuLHI7Zm9yKHI9bmV3IGUodCksbz02NTUwND09ci5TSE9SVCgyKT80K3IuU0hPUlQoNCk6MixuPTAsaT1zLmxlbmd0aDtpPm47bisrKXIuU0VHTUVOVChvLDAsc1tuXS5zZWdtZW50KSxvKz1zW25dLmxlbmd0aDtyZXR1cm4gdD1yLlNFR01FTlQoKSxyLmNsZWFyKCksdH0sc3RyaXA6ZnVuY3Rpb24odCl7dmFyIG4scixvLGE7Zm9yKG89bmV3IGkodCkscj1vLmhlYWRlcnMsby5wdXJnZSgpLG49bmV3IGUodCksYT1yLmxlbmd0aDthLS07KW4uU0VHTUVOVChyW2FdLnN0YXJ0LHJbYV0ubGVuZ3RoLFwiXCIpO3JldHVybiB0PW4uU0VHTUVOVCgpLG4uY2xlYXIoKSx0fSxnZXQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLGk9MCxuPXMubGVuZ3RoO24+aTtpKyspc1tpXS5uYW1lPT09ZS50b1VwcGVyQ2FzZSgpJiZ0LnB1c2goc1tpXS5zZWdtZW50KTtyZXR1cm4gdH0sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIGksbixyLG89W107Zm9yKFwic3RyaW5nXCI9PXR5cGVvZiB0P28ucHVzaCh0KTpvPXQsaT1uPTAscj1zLmxlbmd0aDtyPmkmJihzW2ldLm5hbWU9PT1lLnRvVXBwZXJDYXNlKCkmJihzW2ldLnNlZ21lbnQ9b1tuXSxzW2ldLmxlbmd0aD1vW25dLmxlbmd0aCxuKyspLCEobj49by5sZW5ndGgpKTtpKyspO30scHVyZ2U6ZnVuY3Rpb24oKXt0aGlzLmhlYWRlcnM9cz1bXX19fX0pLG4oXCJtb3hpZS9ydW50aW1lL2h0bWw1L2ltYWdlL0V4aWZQYXJzZXJcIixbXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCIsXCJtb3hpZS9ydW50aW1lL2h0bWw1L3V0aWxzL0JpbmFyeVJlYWRlclwiLFwibW94aWUvY29yZS9FeGNlcHRpb25zXCJdLGZ1bmN0aW9uKGUsaSxuKXtmdW5jdGlvbiByKG8pe2Z1bmN0aW9uIGEoaSxyKXt2YXIgbyxhLHMsdSxjLG0saCxmLHA9dGhpcyxnPVtdLHg9e30sdj17MTpcIkJZVEVcIiw3OlwiVU5ERUZJTkVEXCIsMjpcIkFTQ0lJXCIsMzpcIlNIT1JUXCIsNDpcIkxPTkdcIiw1OlwiUkFUSU9OQUxcIiw5OlwiU0xPTkdcIiwxMDpcIlNSQVRJT05BTFwifSx3PXtCWVRFOjEsVU5ERUZJTkVEOjEsQVNDSUk6MSxTSE9SVDoyLExPTkc6NCxSQVRJT05BTDo4LFNMT05HOjQsU1JBVElPTkFMOjh9O2ZvcihvPXAuU0hPUlQoaSksYT0wO28+YTthKyspaWYoZz1bXSxoPWkrMisxMiphLHM9cltwLlNIT1JUKGgpXSxzIT09dCl7aWYodT12W3AuU0hPUlQoaCs9MildLGM9cC5MT05HKGgrPTIpLG09d1t1XSwhbSl0aHJvdyBuZXcgbi5JbWFnZUVycm9yKG4uSW1hZ2VFcnJvci5JTlZBTElEX01FVEFfRVJSKTtpZihoKz00LG0qYz40JiYoaD1wLkxPTkcoaCkrZC50aWZmSGVhZGVyKSxoK20qYz49dGhpcy5sZW5ndGgoKSl0aHJvdyBuZXcgbi5JbWFnZUVycm9yKG4uSW1hZ2VFcnJvci5JTlZBTElEX01FVEFfRVJSKTtcIkFTQ0lJXCIhPT11PyhnPXAuYXNBcnJheSh1LGgsYyksZj0xPT1jP2dbMF06Zyx4W3NdPWwuaGFzT3duUHJvcGVydHkocykmJlwib2JqZWN0XCIhPXR5cGVvZiBmP2xbc11bZl06Zik6eFtzXT1lLnRyaW0ocC5TVFJJTkcoaCxjKS5yZXBsYWNlKC9cXDAkLyxcIlwiKSl9cmV0dXJuIHh9ZnVuY3Rpb24gcyhlLHQsaSl7dmFyIG4scixvLGE9MDtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7dmFyIHM9Y1tlLnRvTG93ZXJDYXNlKCldO2Zvcih2YXIgdSBpbiBzKWlmKHNbdV09PT10KXt0PXU7YnJlYWt9fW49ZFtlLnRvTG93ZXJDYXNlKCkrXCJJRkRcIl0scj10aGlzLlNIT1JUKG4pO2Zvcih2YXIgbD0wO3I+bDtsKyspaWYobz1uKzEyKmwrMix0aGlzLlNIT1JUKG8pPT10KXthPW8rODticmVha31pZighYSlyZXR1cm4hMTt0cnl7dGhpcy53cml0ZShhLGksNCl9Y2F0Y2gobSl7cmV0dXJuITF9cmV0dXJuITB9dmFyIHUsYyxsLGQsbSxoO2lmKGkuY2FsbCh0aGlzLG8pLGM9e3RpZmY6ezI3NDpcIk9yaWVudGF0aW9uXCIsMjcwOlwiSW1hZ2VEZXNjcmlwdGlvblwiLDI3MTpcIk1ha2VcIiwyNzI6XCJNb2RlbFwiLDMwNTpcIlNvZnR3YXJlXCIsMzQ2NjU6XCJFeGlmSUZEUG9pbnRlclwiLDM0ODUzOlwiR1BTSW5mb0lGRFBvaW50ZXJcIn0sZXhpZjp7MzY4NjQ6XCJFeGlmVmVyc2lvblwiLDQwOTYxOlwiQ29sb3JTcGFjZVwiLDQwOTYyOlwiUGl4ZWxYRGltZW5zaW9uXCIsNDA5NjM6XCJQaXhlbFlEaW1lbnNpb25cIiwzNjg2NzpcIkRhdGVUaW1lT3JpZ2luYWxcIiwzMzQzNDpcIkV4cG9zdXJlVGltZVwiLDMzNDM3OlwiRk51bWJlclwiLDM0ODU1OlwiSVNPU3BlZWRSYXRpbmdzXCIsMzczNzc6XCJTaHV0dGVyU3BlZWRWYWx1ZVwiLDM3Mzc4OlwiQXBlcnR1cmVWYWx1ZVwiLDM3MzgzOlwiTWV0ZXJpbmdNb2RlXCIsMzczODQ6XCJMaWdodFNvdXJjZVwiLDM3Mzg1OlwiRmxhc2hcIiwzNzM4NjpcIkZvY2FsTGVuZ3RoXCIsNDE5ODY6XCJFeHBvc3VyZU1vZGVcIiw0MTk4NzpcIldoaXRlQmFsYW5jZVwiLDQxOTkwOlwiU2NlbmVDYXB0dXJlVHlwZVwiLDQxOTg4OlwiRGlnaXRhbFpvb21SYXRpb1wiLDQxOTkyOlwiQ29udHJhc3RcIiw0MTk5MzpcIlNhdHVyYXRpb25cIiw0MTk5NDpcIlNoYXJwbmVzc1wifSxncHM6ezA6XCJHUFNWZXJzaW9uSURcIiwxOlwiR1BTTGF0aXR1ZGVSZWZcIiwyOlwiR1BTTGF0aXR1ZGVcIiwzOlwiR1BTTG9uZ2l0dWRlUmVmXCIsNDpcIkdQU0xvbmdpdHVkZVwifSx0aHVtYjp7NTEzOlwiSlBFR0ludGVyY2hhbmdlRm9ybWF0XCIsNTE0OlwiSlBFR0ludGVyY2hhbmdlRm9ybWF0TGVuZ3RoXCJ9fSxsPXtDb2xvclNwYWNlOnsxOlwic1JHQlwiLDA6XCJVbmNhbGlicmF0ZWRcIn0sTWV0ZXJpbmdNb2RlOnswOlwiVW5rbm93blwiLDE6XCJBdmVyYWdlXCIsMjpcIkNlbnRlcldlaWdodGVkQXZlcmFnZVwiLDM6XCJTcG90XCIsNDpcIk11bHRpU3BvdFwiLDU6XCJQYXR0ZXJuXCIsNjpcIlBhcnRpYWxcIiwyNTU6XCJPdGhlclwifSxMaWdodFNvdXJjZTp7MTpcIkRheWxpZ2h0XCIsMjpcIkZsaW9yZXNjZW50XCIsMzpcIlR1bmdzdGVuXCIsNDpcIkZsYXNoXCIsOTpcIkZpbmUgd2VhdGhlclwiLDEwOlwiQ2xvdWR5IHdlYXRoZXJcIiwxMTpcIlNoYWRlXCIsMTI6XCJEYXlsaWdodCBmbHVvcmVzY2VudCAoRCA1NzAwIC0gNzEwMEspXCIsMTM6XCJEYXkgd2hpdGUgZmx1b3Jlc2NlbnQgKE4gNDYwMCAtNTQwMEspXCIsMTQ6XCJDb29sIHdoaXRlIGZsdW9yZXNjZW50IChXIDM5MDAgLSA0NTAwSylcIiwxNTpcIldoaXRlIGZsdW9yZXNjZW50IChXVyAzMjAwIC0gMzcwMEspXCIsMTc6XCJTdGFuZGFyZCBsaWdodCBBXCIsMTg6XCJTdGFuZGFyZCBsaWdodCBCXCIsMTk6XCJTdGFuZGFyZCBsaWdodCBDXCIsMjA6XCJENTVcIiwyMTpcIkQ2NVwiLDIyOlwiRDc1XCIsMjM6XCJENTBcIiwyNDpcIklTTyBzdHVkaW8gdHVuZ3N0ZW5cIiwyNTU6XCJPdGhlclwifSxGbGFzaDp7MDpcIkZsYXNoIGRpZCBub3QgZmlyZVwiLDE6XCJGbGFzaCBmaXJlZFwiLDU6XCJTdHJvYmUgcmV0dXJuIGxpZ2h0IG5vdCBkZXRlY3RlZFwiLDc6XCJTdHJvYmUgcmV0dXJuIGxpZ2h0IGRldGVjdGVkXCIsOTpcIkZsYXNoIGZpcmVkLCBjb21wdWxzb3J5IGZsYXNoIG1vZGVcIiwxMzpcIkZsYXNoIGZpcmVkLCBjb21wdWxzb3J5IGZsYXNoIG1vZGUsIHJldHVybiBsaWdodCBub3QgZGV0ZWN0ZWRcIiwxNTpcIkZsYXNoIGZpcmVkLCBjb21wdWxzb3J5IGZsYXNoIG1vZGUsIHJldHVybiBsaWdodCBkZXRlY3RlZFwiLDE2OlwiRmxhc2ggZGlkIG5vdCBmaXJlLCBjb21wdWxzb3J5IGZsYXNoIG1vZGVcIiwyNDpcIkZsYXNoIGRpZCBub3QgZmlyZSwgYXV0byBtb2RlXCIsMjU6XCJGbGFzaCBmaXJlZCwgYXV0byBtb2RlXCIsMjk6XCJGbGFzaCBmaXJlZCwgYXV0byBtb2RlLCByZXR1cm4gbGlnaHQgbm90IGRldGVjdGVkXCIsMzE6XCJGbGFzaCBmaXJlZCwgYXV0byBtb2RlLCByZXR1cm4gbGlnaHQgZGV0ZWN0ZWRcIiwzMjpcIk5vIGZsYXNoIGZ1bmN0aW9uXCIsNjU6XCJGbGFzaCBmaXJlZCwgcmVkLWV5ZSByZWR1Y3Rpb24gbW9kZVwiLDY5OlwiRmxhc2ggZmlyZWQsIHJlZC1leWUgcmVkdWN0aW9uIG1vZGUsIHJldHVybiBsaWdodCBub3QgZGV0ZWN0ZWRcIiw3MTpcIkZsYXNoIGZpcmVkLCByZWQtZXllIHJlZHVjdGlvbiBtb2RlLCByZXR1cm4gbGlnaHQgZGV0ZWN0ZWRcIiw3MzpcIkZsYXNoIGZpcmVkLCBjb21wdWxzb3J5IGZsYXNoIG1vZGUsIHJlZC1leWUgcmVkdWN0aW9uIG1vZGVcIiw3NzpcIkZsYXNoIGZpcmVkLCBjb21wdWxzb3J5IGZsYXNoIG1vZGUsIHJlZC1leWUgcmVkdWN0aW9uIG1vZGUsIHJldHVybiBsaWdodCBub3QgZGV0ZWN0ZWRcIiw3OTpcIkZsYXNoIGZpcmVkLCBjb21wdWxzb3J5IGZsYXNoIG1vZGUsIHJlZC1leWUgcmVkdWN0aW9uIG1vZGUsIHJldHVybiBsaWdodCBkZXRlY3RlZFwiLDg5OlwiRmxhc2ggZmlyZWQsIGF1dG8gbW9kZSwgcmVkLWV5ZSByZWR1Y3Rpb24gbW9kZVwiLDkzOlwiRmxhc2ggZmlyZWQsIGF1dG8gbW9kZSwgcmV0dXJuIGxpZ2h0IG5vdCBkZXRlY3RlZCwgcmVkLWV5ZSByZWR1Y3Rpb24gbW9kZVwiLDk1OlwiRmxhc2ggZmlyZWQsIGF1dG8gbW9kZSwgcmV0dXJuIGxpZ2h0IGRldGVjdGVkLCByZWQtZXllIHJlZHVjdGlvbiBtb2RlXCJ9LEV4cG9zdXJlTW9kZTp7MDpcIkF1dG8gZXhwb3N1cmVcIiwxOlwiTWFudWFsIGV4cG9zdXJlXCIsMjpcIkF1dG8gYnJhY2tldFwifSxXaGl0ZUJhbGFuY2U6ezA6XCJBdXRvIHdoaXRlIGJhbGFuY2VcIiwxOlwiTWFudWFsIHdoaXRlIGJhbGFuY2VcIn0sU2NlbmVDYXB0dXJlVHlwZTp7MDpcIlN0YW5kYXJkXCIsMTpcIkxhbmRzY2FwZVwiLDI6XCJQb3J0cmFpdFwiLDM6XCJOaWdodCBzY2VuZVwifSxDb250cmFzdDp7MDpcIk5vcm1hbFwiLDE6XCJTb2Z0XCIsMjpcIkhhcmRcIn0sU2F0dXJhdGlvbjp7MDpcIk5vcm1hbFwiLDE6XCJMb3cgc2F0dXJhdGlvblwiLDI6XCJIaWdoIHNhdHVyYXRpb25cIn0sU2hhcnBuZXNzOnswOlwiTm9ybWFsXCIsMTpcIlNvZnRcIiwyOlwiSGFyZFwifSxHUFNMYXRpdHVkZVJlZjp7TjpcIk5vcnRoIGxhdGl0dWRlXCIsUzpcIlNvdXRoIGxhdGl0dWRlXCJ9LEdQU0xvbmdpdHVkZVJlZjp7RTpcIkVhc3QgbG9uZ2l0dWRlXCIsVzpcIldlc3QgbG9uZ2l0dWRlXCJ9fSxkPXt0aWZmSGVhZGVyOjEwfSxtPWQudGlmZkhlYWRlcix1PXtjbGVhcjp0aGlzLmNsZWFyfSxlLmV4dGVuZCh0aGlzLHtyZWFkOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiByLnByb3RvdHlwZS5yZWFkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChlKXt0aHJvdyBuZXcgbi5JbWFnZUVycm9yKG4uSW1hZ2VFcnJvci5JTlZBTElEX01FVEFfRVJSKX19LHdyaXRlOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiByLnByb3RvdHlwZS53cml0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZSl7dGhyb3cgbmV3IG4uSW1hZ2VFcnJvcihuLkltYWdlRXJyb3IuSU5WQUxJRF9NRVRBX0VSUil9fSxVTkRFRklORUQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5CWVRFLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sUkFUSU9OQUw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuTE9ORyhlKS90aGlzLkxPTkcoZSs0KX0sU1JBVElPTkFMOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlNMT05HKGUpL3RoaXMuU0xPTkcoZSs0KX0sQVNDSUk6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuQ0hBUihlKX0sVElGRjpmdW5jdGlvbigpe3JldHVybiBofHxudWxsfSxFWElGOmZ1bmN0aW9uKCl7dmFyIHQ9bnVsbDtpZihkLmV4aWZJRkQpe3RyeXt0PWEuY2FsbCh0aGlzLGQuZXhpZklGRCxjLmV4aWYpfWNhdGNoKGkpe3JldHVybiBudWxsfWlmKHQuRXhpZlZlcnNpb24mJlwiYXJyYXlcIj09PWUudHlwZU9mKHQuRXhpZlZlcnNpb24pKXtmb3IodmFyIG49MCxyPVwiXCI7bjx0LkV4aWZWZXJzaW9uLmxlbmd0aDtuKyspcis9U3RyaW5nLmZyb21DaGFyQ29kZSh0LkV4aWZWZXJzaW9uW25dKTt0LkV4aWZWZXJzaW9uPXJ9fXJldHVybiB0fSxHUFM6ZnVuY3Rpb24oKXt2YXIgdD1udWxsO2lmKGQuZ3BzSUZEKXt0cnl7dD1hLmNhbGwodGhpcyxkLmdwc0lGRCxjLmdwcyl9Y2F0Y2goaSl7cmV0dXJuIG51bGx9dC5HUFNWZXJzaW9uSUQmJlwiYXJyYXlcIj09PWUudHlwZU9mKHQuR1BTVmVyc2lvbklEKSYmKHQuR1BTVmVyc2lvbklEPXQuR1BTVmVyc2lvbklELmpvaW4oXCIuXCIpKX1yZXR1cm4gdH0sdGh1bWI6ZnVuY3Rpb24oKXtpZihkLklGRDEpdHJ5e3ZhciBlPWEuY2FsbCh0aGlzLGQuSUZEMSxjLnRodW1iKTtpZihcIkpQRUdJbnRlcmNoYW5nZUZvcm1hdFwiaW4gZSlyZXR1cm4gdGhpcy5TRUdNRU5UKGQudGlmZkhlYWRlcitlLkpQRUdJbnRlcmNoYW5nZUZvcm1hdCxlLkpQRUdJbnRlcmNoYW5nZUZvcm1hdExlbmd0aCl9Y2F0Y2godCl7fXJldHVybiBudWxsfSxzZXRFeGlmOmZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJQaXhlbFhEaW1lbnNpb25cIiE9PWUmJlwiUGl4ZWxZRGltZW5zaW9uXCIhPT1lPyExOnMuY2FsbCh0aGlzLFwiZXhpZlwiLGUsdCl9LGNsZWFyOmZ1bmN0aW9uKCl7dS5jbGVhcigpLG89Yz1sPWg9ZD11PW51bGx9fSksNjU1MDUhPT10aGlzLlNIT1JUKDApfHxcIkVYSUZcXDBcIiE9PXRoaXMuU1RSSU5HKDQsNSkudG9VcHBlckNhc2UoKSl0aHJvdyBuZXcgbi5JbWFnZUVycm9yKG4uSW1hZ2VFcnJvci5JTlZBTElEX01FVEFfRVJSKTtpZih0aGlzLmxpdHRsZUVuZGlhbj0xODc2MT09dGhpcy5TSE9SVChtKSw0MiE9PXRoaXMuU0hPUlQobSs9MikpdGhyb3cgbmV3IG4uSW1hZ2VFcnJvcihuLkltYWdlRXJyb3IuSU5WQUxJRF9NRVRBX0VSUik7ZC5JRkQwPWQudGlmZkhlYWRlcit0aGlzLkxPTkcobSs9MiksaD1hLmNhbGwodGhpcyxkLklGRDAsYy50aWZmKSxcIkV4aWZJRkRQb2ludGVyXCJpbiBoJiYoZC5leGlmSUZEPWQudGlmZkhlYWRlcitoLkV4aWZJRkRQb2ludGVyLGRlbGV0ZSBoLkV4aWZJRkRQb2ludGVyKSxcIkdQU0luZm9JRkRQb2ludGVyXCJpbiBoJiYoZC5ncHNJRkQ9ZC50aWZmSGVhZGVyK2guR1BTSW5mb0lGRFBvaW50ZXIsZGVsZXRlIGguR1BTSW5mb0lGRFBvaW50ZXIpLGUuaXNFbXB0eU9iaihoKSYmKGg9bnVsbCk7dmFyIGY9dGhpcy5MT05HKGQuSUZEMCsxMip0aGlzLlNIT1JUKGQuSUZEMCkrMik7ZiYmKGQuSUZEMT1kLnRpZmZIZWFkZXIrZil9cmV0dXJuIHIucHJvdG90eXBlPWkucHJvdG90eXBlLHJ9KSxuKFwibW94aWUvcnVudGltZS9odG1sNS9pbWFnZS9KUEVHXCIsW1wibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvY29yZS9FeGNlcHRpb25zXCIsXCJtb3hpZS9ydW50aW1lL2h0bWw1L2ltYWdlL0pQRUdIZWFkZXJzXCIsXCJtb3hpZS9ydW50aW1lL2h0bWw1L3V0aWxzL0JpbmFyeVJlYWRlclwiLFwibW94aWUvcnVudGltZS9odG1sNS9pbWFnZS9FeGlmUGFyc2VyXCJdLGZ1bmN0aW9uKGUsdCxpLG4scil7ZnVuY3Rpb24gbyhvKXtmdW5jdGlvbiBhKGUpe3ZhciB0LGksbj0wO2ZvcihlfHwoZT1jKTtuPD1lLmxlbmd0aCgpOyl7aWYodD1lLlNIT1JUKG4rPTIpLHQ+PTY1NDcyJiY2NTQ3NT49dClyZXR1cm4gbis9NSx7aGVpZ2h0OmUuU0hPUlQobiksd2lkdGg6ZS5TSE9SVChuKz0yKX07aT1lLlNIT1JUKG4rPTIpLG4rPWktMn1yZXR1cm4gbnVsbH1mdW5jdGlvbiBzKCl7dmFyIGUsdCxpPWQudGh1bWIoKTtyZXR1cm4gaSYmKGU9bmV3IG4oaSksdD1hKGUpLGUuY2xlYXIoKSx0KT8odC5kYXRhPWksdCk6bnVsbH1mdW5jdGlvbiB1KCl7ZCYmbCYmYyYmKGQuY2xlYXIoKSxsLnB1cmdlKCksYy5jbGVhcigpLG09bD1kPWM9bnVsbCl9dmFyIGMsbCxkLG07aWYoYz1uZXcgbihvKSw2NTQ5NiE9PWMuU0hPUlQoMCkpdGhyb3cgbmV3IHQuSW1hZ2VFcnJvcih0LkltYWdlRXJyb3IuV1JPTkdfRk9STUFUKTtsPW5ldyBpKG8pO3RyeXtkPW5ldyByKGwuZ2V0KFwiYXBwMVwiKVswXSl9Y2F0Y2goaCl7fW09YS5jYWxsKHRoaXMpLGUuZXh0ZW5kKHRoaXMse3R5cGU6XCJpbWFnZS9qcGVnXCIsc2l6ZTpjLmxlbmd0aCgpLHdpZHRoOm0mJm0ud2lkdGh8fDAsaGVpZ2h0Om0mJm0uaGVpZ2h0fHwwLHNldEV4aWY6ZnVuY3Rpb24odCxpKXtyZXR1cm4gZD8oXCJvYmplY3RcIj09PWUudHlwZU9mKHQpP2UuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7ZC5zZXRFeGlmKHQsZSl9KTpkLnNldEV4aWYodCxpKSxsLnNldChcImFwcDFcIixkLlNFR01FTlQoKSksdm9pZCAwKTohMX0sd3JpdGVIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/bC5yZXN0b3JlKGFyZ3VtZW50c1swXSk6bC5yZXN0b3JlKG8pfSxzdHJpcEhlYWRlcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGwuc3RyaXAoZSl9LHB1cmdlOmZ1bmN0aW9uKCl7dS5jYWxsKHRoaXMpfX0pLGQmJih0aGlzLm1ldGE9e3RpZmY6ZC5USUZGKCksZXhpZjpkLkVYSUYoKSxncHM6ZC5HUFMoKSx0aHVtYjpzKCl9KX1yZXR1cm4gb30pLG4oXCJtb3hpZS9ydW50aW1lL2h0bWw1L2ltYWdlL1BOR1wiLFtcIm1veGllL2NvcmUvRXhjZXB0aW9uc1wiLFwibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvcnVudGltZS9odG1sNS91dGlscy9CaW5hcnlSZWFkZXJcIl0sZnVuY3Rpb24oZSx0LGkpe2Z1bmN0aW9uIG4obil7ZnVuY3Rpb24gcigpe3ZhciBlLHQ7cmV0dXJuIGU9YS5jYWxsKHRoaXMsOCksXCJJSERSXCI9PWUudHlwZT8odD1lLnN0YXJ0LHt3aWR0aDpzLkxPTkcodCksaGVpZ2h0OnMuTE9ORyh0Kz00KX0pOm51bGx9ZnVuY3Rpb24gbygpe3MmJihzLmNsZWFyKCksbj1sPXU9Yz1zPW51bGwpfWZ1bmN0aW9uIGEoZSl7dmFyIHQsaSxuLHI7cmV0dXJuIHQ9cy5MT05HKGUpLGk9cy5TVFJJTkcoZSs9NCw0KSxuPWUrPTQscj1zLkxPTkcoZSt0KSx7bGVuZ3RoOnQsdHlwZTppLHN0YXJ0Om4sQ1JDOnJ9fXZhciBzLHUsYyxsO3M9bmV3IGkobiksZnVuY3Rpb24oKXt2YXIgdD0wLGk9MCxuPVszNTE1MiwyMDAzOSwzMzM4LDY2NjZdO2ZvcihpPTA7aTxuLmxlbmd0aDtpKyssdCs9MilpZihuW2ldIT1zLlNIT1JUKHQpKXRocm93IG5ldyBlLkltYWdlRXJyb3IoZS5JbWFnZUVycm9yLldST05HX0ZPUk1BVCl9KCksbD1yLmNhbGwodGhpcyksdC5leHRlbmQodGhpcyx7dHlwZTpcImltYWdlL3BuZ1wiLHNpemU6cy5sZW5ndGgoKSx3aWR0aDpsLndpZHRoLGhlaWdodDpsLmhlaWdodCxwdXJnZTpmdW5jdGlvbigpe28uY2FsbCh0aGlzKX19KSxvLmNhbGwodGhpcyl9cmV0dXJuIG59KSxuKFwibW94aWUvcnVudGltZS9odG1sNS9pbWFnZS9JbWFnZUluZm9cIixbXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCIsXCJtb3hpZS9jb3JlL0V4Y2VwdGlvbnNcIixcIm1veGllL3J1bnRpbWUvaHRtbDUvaW1hZ2UvSlBFR1wiLFwibW94aWUvcnVudGltZS9odG1sNS9pbWFnZS9QTkdcIl0sZnVuY3Rpb24oZSx0LGksbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBvLGE9W2ksbl07bz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKXRyeXtyZXR1cm4gbmV3IGFbZV0ocil9Y2F0Y2goaSl7fXRocm93IG5ldyB0LkltYWdlRXJyb3IodC5JbWFnZUVycm9yLldST05HX0ZPUk1BVCl9KCksZS5leHRlbmQodGhpcyx7dHlwZTpcIlwiLHNpemU6MCx3aWR0aDowLGhlaWdodDowLHNldEV4aWY6ZnVuY3Rpb24oKXt9LHdyaXRlSGVhZGVyczpmdW5jdGlvbihlKXtyZXR1cm4gZX0sc3RyaXBIZWFkZXJzOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxwdXJnZTpmdW5jdGlvbigpe3I9bnVsbH19KSxlLmV4dGVuZCh0aGlzLG8pLHRoaXMucHVyZ2U9ZnVuY3Rpb24oKXtvLnB1cmdlKCksbz1udWxsfX19KSxuKFwibW94aWUvcnVudGltZS9odG1sNS9pbWFnZS9SZXNpemVyQ2FudmFzXCIsW10sZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGksbixyKXt2YXIgbz1pLndpZHRoPmkuaGVpZ2h0P1wid2lkdGhcIjpcImhlaWdodFwiLGE9TWF0aC5yb3VuZChpW29dKm4pLHM9ITE7XCJuZWFyZXN0XCIhPT1yJiYoLjU+bnx8bj4yKSYmKG49LjU+bj8uNToyLHM9ITApO3ZhciB1PXQoaSxuKTtyZXR1cm4gcz9lKHUsYS91W29dLHIpOnV9ZnVuY3Rpb24gdChlLHQpe3ZhciBpPWUud2lkdGgsbj1lLmhlaWdodCxyPU1hdGgucm91bmQoaSp0KSxvPU1hdGgucm91bmQobip0KSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuIGEud2lkdGg9cixhLmhlaWdodD1vLGEuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZShlLDAsMCxpLG4sMCwwLHIsbyksZT1udWxsLGF9cmV0dXJue3NjYWxlOmV9fSksbihcIm1veGllL3J1bnRpbWUvaHRtbDUvaW1hZ2UvSW1hZ2VcIixbXCJtb3hpZS9ydW50aW1lL2h0bWw1L1J1bnRpbWVcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL2NvcmUvRXhjZXB0aW9uc1wiLFwibW94aWUvY29yZS91dGlscy9FbmNvZGVcIixcIm1veGllL2ZpbGUvQmxvYlwiLFwibW94aWUvZmlsZS9GaWxlXCIsXCJtb3hpZS9ydW50aW1lL2h0bWw1L2ltYWdlL0ltYWdlSW5mb1wiLFwibW94aWUvcnVudGltZS9odG1sNS9pbWFnZS9SZXNpemVyQ2FudmFzXCIsXCJtb3hpZS9jb3JlL3V0aWxzL01pbWVcIixcIm1veGllL2NvcmUvdXRpbHMvRW52XCJdLGZ1bmN0aW9uKGUsdCxpLG4scixvLGEscyx1KXtmdW5jdGlvbiBjKCl7ZnVuY3Rpb24gZSgpe2lmKCF2JiYhZyl0aHJvdyBuZXcgaS5JbWFnZUVycm9yKGkuRE9NRXhjZXB0aW9uLklOVkFMSURfU1RBVEVfRVJSKTtyZXR1cm4gdnx8Z31mdW5jdGlvbiBjKCl7dmFyIHQ9ZSgpO3JldHVyblwiY2FudmFzXCI9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT90Oih2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksdi53aWR0aD10LndpZHRoLHYuaGVpZ2h0PXQuaGVpZ2h0LHYuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZSh0LDAsMCksdil9ZnVuY3Rpb24gbChlKXtyZXR1cm4gbi5hdG9iKGUuc3Vic3RyaW5nKGUuaW5kZXhPZihcImJhc2U2NCxcIikrNykpfWZ1bmN0aW9uIGQoZSx0KXtyZXR1cm5cImRhdGE6XCIrKHR8fFwiXCIpK1wiO2Jhc2U2NCxcIituLmJ0b2EoZSl9ZnVuY3Rpb24gbShlKXt2YXIgdD10aGlzO2c9bmV3IEltYWdlLGcub25lcnJvcj1mdW5jdGlvbigpe3AuY2FsbCh0aGlzKSx0LnRyaWdnZXIoXCJlcnJvclwiLGkuSW1hZ2VFcnJvci5XUk9OR19GT1JNQVQpfSxnLm9ubG9hZD1mdW5jdGlvbigpe3QudHJpZ2dlcihcImxvYWRcIil9LGcuc3JjPVwiZGF0YTpcIj09ZS5zdWJzdHIoMCw1KT9lOmQoZSx5LnR5cGUpfWZ1bmN0aW9uIGgoZSx0KXt2YXIgbixyPXRoaXM7cmV0dXJuIHdpbmRvdy5GaWxlUmVhZGVyPyhuPW5ldyBGaWxlUmVhZGVyLG4ub25sb2FkPWZ1bmN0aW9uKCl7dC5jYWxsKHIsdGhpcy5yZXN1bHQpfSxuLm9uZXJyb3I9ZnVuY3Rpb24oKXtyLnRyaWdnZXIoXCJlcnJvclwiLGkuSW1hZ2VFcnJvci5XUk9OR19GT1JNQVQpfSxuLnJlYWRBc0RhdGFVUkwoZSksdm9pZCAwKTp0LmNhbGwodGhpcyxlLmdldEFzRGF0YVVSTCgpKX1mdW5jdGlvbiBmKGUsaSl7dmFyIG49TWF0aC5QSS8xODAscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLG89ci5nZXRDb250ZXh0KFwiMmRcIiksYT1lLndpZHRoLHM9ZS5oZWlnaHQ7c3dpdGNoKHQuaW5BcnJheShpLFs1LDYsNyw4XSk+LTE/KHIud2lkdGg9cyxyLmhlaWdodD1hKTooci53aWR0aD1hLHIuaGVpZ2h0PXMpLGkpe2Nhc2UgMjpvLnRyYW5zbGF0ZShhLDApLG8uc2NhbGUoLTEsMSk7YnJlYWs7Y2FzZSAzOm8udHJhbnNsYXRlKGEscyksby5yb3RhdGUoMTgwKm4pO2JyZWFrO2Nhc2UgNDpvLnRyYW5zbGF0ZSgwLHMpLG8uc2NhbGUoMSwtMSk7YnJlYWs7Y2FzZSA1Om8ucm90YXRlKDkwKm4pLG8uc2NhbGUoMSwtMSk7YnJlYWs7Y2FzZSA2Om8ucm90YXRlKDkwKm4pLG8udHJhbnNsYXRlKDAsLXMpO2JyZWFrO2Nhc2UgNzpvLnJvdGF0ZSg5MCpuKSxvLnRyYW5zbGF0ZShhLC1zKSxvLnNjYWxlKC0xLDEpO2JyZWFrO2Nhc2UgODpvLnJvdGF0ZSgtOTAqbiksby50cmFuc2xhdGUoLWEsMCl9cmV0dXJuIG8uZHJhd0ltYWdlKGUsMCwwLGEscykscn1mdW5jdGlvbiBwKCl7eCYmKHgucHVyZ2UoKSx4PW51bGwpLHc9Zz12PXk9bnVsbCxiPSExfXZhciBnLHgsdix3LHksRT10aGlzLGI9ITEsXz0hMDt0LmV4dGVuZCh0aGlzLHtsb2FkRnJvbUJsb2I6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRSdW50aW1lKCksbj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOiEwO2lmKCF0LmNhbihcImFjY2Vzc19iaW5hcnlcIikpdGhyb3cgbmV3IGkuUnVudGltZUVycm9yKGkuUnVudGltZUVycm9yLk5PVF9TVVBQT1JURURfRVJSKTtyZXR1cm4geT1lLGUuaXNEZXRhY2hlZCgpPyh3PWUuZ2V0U291cmNlKCksbS5jYWxsKHRoaXMsdyksdm9pZCAwKTooaC5jYWxsKHRoaXMsZS5nZXRTb3VyY2UoKSxmdW5jdGlvbihlKXtuJiYodz1sKGUpKSxtLmNhbGwodGhpcyxlKX0pLHZvaWQgMCl9LGxvYWRGcm9tSW1hZ2U6ZnVuY3Rpb24oZSx0KXt0aGlzLm1ldGE9ZS5tZXRhLHk9bmV3IG8obnVsbCx7bmFtZTplLm5hbWUsc2l6ZTplLnNpemUsdHlwZTplLnR5cGV9KSxtLmNhbGwodGhpcyx0P3c9ZS5nZXRBc0JpbmFyeVN0cmluZygpOmUuZ2V0QXNEYXRhVVJMKCkpfSxnZXRJbmZvOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLmdldFJ1bnRpbWUoKTtyZXR1cm4heCYmdyYmaS5jYW4oXCJhY2Nlc3NfaW1hZ2VfYmluYXJ5XCIpJiYoeD1uZXcgYSh3KSksdD17d2lkdGg6ZSgpLndpZHRofHwwLGhlaWdodDplKCkuaGVpZ2h0fHwwLHR5cGU6eS50eXBlfHx1LmdldEZpbGVNaW1lKHkubmFtZSksc2l6ZTp3JiZ3Lmxlbmd0aHx8eS5zaXplfHwwLG5hbWU6eS5uYW1lfHxcIlwiLG1ldGE6bnVsbH0sXyYmKHQubWV0YT14JiZ4Lm1ldGF8fHRoaXMubWV0YXx8e30sIXQubWV0YXx8IXQubWV0YS50aHVtYnx8dC5tZXRhLnRodW1iLmRhdGEgaW5zdGFuY2VvZiByfHwodC5tZXRhLnRodW1iLmRhdGE9bmV3IHIobnVsbCx7dHlwZTpcImltYWdlL2pwZWdcIixkYXRhOnQubWV0YS50aHVtYi5kYXRhfSkpKSx0fSxyZXNpemU6ZnVuY3Rpb24odCxpLG4pe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7aWYoci53aWR0aD10LndpZHRoLHIuaGVpZ2h0PXQuaGVpZ2h0LHIuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZShlKCksdC54LHQueSx0LndpZHRoLHQuaGVpZ2h0LDAsMCxyLndpZHRoLHIuaGVpZ2h0KSx2PXMuc2NhbGUocixpKSxfPW4ucHJlc2VydmVIZWFkZXJzLCFfKXt2YXIgbz10aGlzLm1ldGEmJnRoaXMubWV0YS50aWZmJiZ0aGlzLm1ldGEudGlmZi5PcmllbnRhdGlvbnx8MTt2PWYodixvKX10aGlzLndpZHRoPXYud2lkdGgsdGhpcy5oZWlnaHQ9di5oZWlnaHQsYj0hMCx0aGlzLnRyaWdnZXIoXCJSZXNpemVcIil9LGdldEFzQ2FudmFzOmZ1bmN0aW9uKCl7cmV0dXJuIHZ8fCh2PWMoKSksdi5pZD10aGlzLnVpZCtcIl9jYW52YXNcIix2fSxnZXRBc0Jsb2I6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSE9PXRoaXMudHlwZT8oYj0hMCxuZXcgbyhudWxsLHtuYW1lOnkubmFtZXx8XCJcIix0eXBlOmUsZGF0YTpFLmdldEFzRGF0YVVSTChlLHQpfSkpOm5ldyBvKG51bGwse25hbWU6eS5uYW1lfHxcIlwiLHR5cGU6ZSxkYXRhOkUuZ2V0QXNCaW5hcnlTdHJpbmcoZSx0KX0pfSxnZXRBc0RhdGFVUkw6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzWzFdfHw5MDtpZighYilyZXR1cm4gZy5zcmM7aWYoYygpLFwiaW1hZ2UvanBlZ1wiIT09ZSlyZXR1cm4gdi50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7dHJ5e3JldHVybiB2LnRvRGF0YVVSTChcImltYWdlL2pwZWdcIix0LzEwMCl9Y2F0Y2goaSl7cmV0dXJuIHYudG9EYXRhVVJMKFwiaW1hZ2UvanBlZ1wiKX19LGdldEFzQmluYXJ5U3RyaW5nOmZ1bmN0aW9uKGUsdCl7aWYoIWIpcmV0dXJuIHd8fCh3PWwoRS5nZXRBc0RhdGFVUkwoZSx0KSkpLHc7aWYoXCJpbWFnZS9qcGVnXCIhPT1lKXc9bChFLmdldEFzRGF0YVVSTChlLHQpKTtlbHNle3ZhciBpO3R8fCh0PTkwKSxjKCk7dHJ5e2k9di50b0RhdGFVUkwoXCJpbWFnZS9qcGVnXCIsdC8xMDApfWNhdGNoKG4pe2k9di50b0RhdGFVUkwoXCJpbWFnZS9qcGVnXCIpfXc9bChpKSx4JiYodz14LnN0cmlwSGVhZGVycyh3KSxfJiYoeC5tZXRhJiZ4Lm1ldGEuZXhpZiYmeC5zZXRFeGlmKHtQaXhlbFhEaW1lbnNpb246dGhpcy53aWR0aCxQaXhlbFlEaW1lbnNpb246dGhpcy5oZWlnaHR9KSx3PXgud3JpdGVIZWFkZXJzKHcpKSx4LnB1cmdlKCkseD1udWxsKX1yZXR1cm4gYj0hMSx3fSxkZXN0cm95OmZ1bmN0aW9uKCl7RT1udWxsLHAuY2FsbCh0aGlzKSx0aGlzLmdldFJ1bnRpbWUoKS5nZXRTaGltKCkucmVtb3ZlSW5zdGFuY2UodGhpcy51aWQpfX0pfXJldHVybiBlLkltYWdlPWN9KSxuKFwibW94aWUvcnVudGltZS9mbGFzaC9SdW50aW1lXCIsW1wibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvY29yZS91dGlscy9FbnZcIixcIm1veGllL2NvcmUvdXRpbHMvRG9tXCIsXCJtb3hpZS9jb3JlL0V4Y2VwdGlvbnNcIixcIm1veGllL3J1bnRpbWUvUnVudGltZVwiXSxmdW5jdGlvbihlLHQsaSxuLG8pe2Z1bmN0aW9uIGEoKXt2YXIgZTt0cnl7ZT1uYXZpZ2F0b3IucGx1Z2luc1tcIlNob2Nrd2F2ZSBGbGFzaFwiXSxlPWUuZGVzY3JpcHRpb259Y2F0Y2godCl7dHJ5e2U9bmV3IEFjdGl2ZVhPYmplY3QoXCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaFwiKS5HZXRWYXJpYWJsZShcIiR2ZXJzaW9uXCIpfWNhdGNoKGkpe2U9XCIwLjBcIn19cmV0dXJuIGU9ZS5tYXRjaCgvXFxkKy9nKSxwYXJzZUZsb2F0KGVbMF0rXCIuXCIrZVsxXSl9ZnVuY3Rpb24gcyhlKXt2YXIgbj1pLmdldChlKTtuJiZcIk9CSkVDVFwiPT1uLm5vZGVOYW1lJiYoXCJJRVwiPT09dC5icm93c2VyPyhuLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZnVuY3Rpb24gcigpezQ9PW4ucmVhZHlTdGF0ZT91KGUpOnNldFRpbWVvdXQociwxMCl9KCkpOm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSl9ZnVuY3Rpb24gdShlKXt2YXIgdD1pLmdldChlKTtpZih0KXtmb3IodmFyIG4gaW4gdClcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W25dJiYodFtuXT1udWxsKTt0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9fWZ1bmN0aW9uIGModSl7dmFyIGMsbT10aGlzO3U9ZS5leHRlbmQoe3N3Zl91cmw6dC5zd2ZfdXJsfSx1KSxvLmNhbGwodGhpcyx1LGwse2FjY2Vzc19iaW5hcnk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiYnJvd3NlclwiPT09bS5tb2RlfSxhY2Nlc3NfaW1hZ2VfYmluYXJ5OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImJyb3dzZXJcIj09PW0ubW9kZX0sZGlzcGxheV9tZWRpYTpvLmNhcFRlc3QocihcIm1veGllL2ltYWdlL0ltYWdlXCIpKSxkb19jb3JzOm8uY2FwVHJ1ZSxkcmFnX2FuZF9kcm9wOiExLHJlcG9ydF91cGxvYWRfcHJvZ3Jlc3M6ZnVuY3Rpb24oKXtyZXR1cm5cImNsaWVudFwiPT09bS5tb2RlfSxyZXNpemVfaW1hZ2U6by5jYXBUcnVlLHJldHVybl9yZXNwb25zZV9oZWFkZXJzOiExLHJldHVybl9yZXNwb25zZV90eXBlOmZ1bmN0aW9uKHQpe3JldHVyblwianNvblwiPT09dCYmd2luZG93LkpTT04/ITA6IWUuYXJyYXlEaWZmKHQsW1wiXCIsXCJ0ZXh0XCIsXCJkb2N1bWVudFwiXSl8fFwiYnJvd3NlclwiPT09bS5tb2RlfSxyZXR1cm5fc3RhdHVzX2NvZGU6ZnVuY3Rpb24odCl7cmV0dXJuXCJicm93c2VyXCI9PT1tLm1vZGV8fCFlLmFycmF5RGlmZih0LFsyMDAsNDA0XSl9LHNlbGVjdF9maWxlOm8uY2FwVHJ1ZSxzZWxlY3RfbXVsdGlwbGU6by5jYXBUcnVlLHNlbmRfYmluYXJ5X3N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJicm93c2VyXCI9PT1tLm1vZGV9LHNlbmRfYnJvd3Nlcl9jb29raWVzOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImJyb3dzZXJcIj09PW0ubW9kZX0sc2VuZF9jdXN0b21faGVhZGVyczpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJicm93c2VyXCI9PT1tLm1vZGV9LHNlbmRfbXVsdGlwYXJ0Om8uY2FwVHJ1ZSxzbGljZV9ibG9iOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImJyb3dzZXJcIj09PW0ubW9kZX0sc3RyZWFtX3VwbG9hZDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJicm93c2VyXCI9PT1tLm1vZGV9LHN1bW1vbl9maWxlX2RpYWxvZzohMSx1cGxvYWRfZmlsZXNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIGUucGFyc2VTaXplU3RyKHQpPD0yMDk3MTUyfHxcImNsaWVudFwiPT09bS5tb2RlfSx1c2VfaHR0cF9tZXRob2Q6ZnVuY3Rpb24odCl7cmV0dXJuIWUuYXJyYXlEaWZmKHQsW1wiR0VUXCIsXCJQT1NUXCJdKX19LHthY2Nlc3NfYmluYXJ5OmZ1bmN0aW9uKGUpe3JldHVybiBlP1wiYnJvd3NlclwiOlwiY2xpZW50XCJ9LGFjY2Vzc19pbWFnZV9iaW5hcnk6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/XCJicm93c2VyXCI6XCJjbGllbnRcIn0scmVwb3J0X3VwbG9hZF9wcm9ncmVzczpmdW5jdGlvbihlKXtyZXR1cm4gZT9cImJyb3dzZXJcIjpcImNsaWVudFwifSxyZXR1cm5fcmVzcG9uc2VfdHlwZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5hcnJheURpZmYodCxbXCJcIixcInRleHRcIixcImpzb25cIixcImRvY3VtZW50XCJdKT9cImJyb3dzZXJcIjpbXCJjbGllbnRcIixcImJyb3dzZXJcIl19LHJldHVybl9zdGF0dXNfY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5hcnJheURpZmYodCxbMjAwLDQwNF0pP1wiYnJvd3NlclwiOltcImNsaWVudFwiLFwiYnJvd3NlclwiXX0sc2VuZF9iaW5hcnlfc3RyaW5nOmZ1bmN0aW9uKGUpe3JldHVybiBlP1wiYnJvd3NlclwiOlwiY2xpZW50XCJ9LHNlbmRfYnJvd3Nlcl9jb29raWVzOmZ1bmN0aW9uKGUpe3JldHVybiBlP1wiYnJvd3NlclwiOlwiY2xpZW50XCJ9LHNlbmRfY3VzdG9tX2hlYWRlcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/XCJicm93c2VyXCI6XCJjbGllbnRcIn0sc2xpY2VfYmxvYjpmdW5jdGlvbihlKXtyZXR1cm4gZT9cImJyb3dzZXJcIjpcImNsaWVudFwifSxzdHJlYW1fdXBsb2FkOmZ1bmN0aW9uKGUpe3JldHVybiBlP1wiY2xpZW50XCI6XCJicm93c2VyXCJ9LHVwbG9hZF9maWxlc2l6ZTpmdW5jdGlvbih0KXtyZXR1cm4gZS5wYXJzZVNpemVTdHIodCk+PTIwOTcxNTI/XCJjbGllbnRcIjpcImJyb3dzZXJcIn19LFwiY2xpZW50XCIpLGEoKTwxMS4zJiYodGhpcy5tb2RlPSExKSxlLmV4dGVuZCh0aGlzLHtnZXRTaGltOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZ2V0KHRoaXMudWlkKX0sc2hpbUV4ZWM6ZnVuY3Rpb24oZSx0KXt2YXIgaT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gbS5nZXRTaGltKCkuZXhlYyh0aGlzLnVpZCxlLHQsaSl9LGluaXQ6ZnVuY3Rpb24oKXt2YXIgaSxyLGE7YT10aGlzLmdldFNoaW1Db250YWluZXIoKSxlLmV4dGVuZChhLnN0eWxlLHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiLThweFwiLGxlZnQ6XCItOHB4XCIsd2lkdGg6XCI5cHhcIixoZWlnaHQ6XCI5cHhcIixvdmVyZmxvdzpcImhpZGRlblwifSksaT0nPG9iamVjdCBpZD1cIicrdGhpcy51aWQrJ1wiIHR5cGU9XCJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaFwiIGRhdGE9XCInK3Uuc3dmX3VybCsnXCIgJyxcIklFXCI9PT10LmJyb3dzZXImJihpKz0nY2xhc3NpZD1cImNsc2lkOmQyN2NkYjZlLWFlNmQtMTFjZi05NmI4LTQ0NDU1MzU0MDAwMFwiICcpLGkrPSd3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgc3R5bGU9XCJvdXRsaW5lOjBcIj48cGFyYW0gbmFtZT1cIm1vdmllXCIgdmFsdWU9XCInK3Uuc3dmX3VybCsnXCIgLz4nKyc8cGFyYW0gbmFtZT1cImZsYXNodmFyc1wiIHZhbHVlPVwidWlkPScrZXNjYXBlKHRoaXMudWlkKStcIiZ0YXJnZXQ9XCIrby5nZXRHbG9iYWxFdmVudFRhcmdldCgpKydcIiAvPicrJzxwYXJhbSBuYW1lPVwid21vZGVcIiB2YWx1ZT1cInRyYW5zcGFyZW50XCIgLz4nKyc8cGFyYW0gbmFtZT1cImFsbG93c2NyaXB0YWNjZXNzXCIgdmFsdWU9XCJhbHdheXNcIiAvPicrXCI8L29iamVjdD5cIixcIklFXCI9PT10LmJyb3dzZXI/KHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxhLmFwcGVuZENoaWxkKHIpLHIub3V0ZXJIVE1MPWkscj1hPW51bGwpOmEuaW5uZXJIVE1MPWksYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bSYmIW0uaW5pdGlhbGl6ZWQmJm0udHJpZ2dlcihcIkVycm9yXCIsbmV3IG4uUnVudGltZUVycm9yKG4uUnVudGltZUVycm9yLk5PVF9JTklUX0VSUikpfSw1ZTMpfSxkZXN0cm95OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3MobS51aWQpLGUuY2FsbChtKSxjbGVhclRpbWVvdXQoYyksdT1jPWU9bT1udWxsfX0odGhpcy5kZXN0cm95KX0sZCl9dmFyIGw9XCJmbGFzaFwiLGQ9e307cmV0dXJuIG8uYWRkQ29uc3RydWN0b3IobCxjKSxkfSksbihcIm1veGllL3J1bnRpbWUvZmxhc2gvZmlsZS9CbG9iXCIsW1wibW94aWUvcnVudGltZS9mbGFzaC9SdW50aW1lXCIsXCJtb3hpZS9maWxlL0Jsb2JcIl0sZnVuY3Rpb24oZSx0KXt2YXIgaT17c2xpY2U6ZnVuY3Rpb24oZSxpLG4scil7dmFyIG89dGhpcy5nZXRSdW50aW1lKCk7cmV0dXJuIDA+aT9pPU1hdGgubWF4KGUuc2l6ZStpLDApOmk+MCYmKGk9TWF0aC5taW4oaSxlLnNpemUpKSwwPm4/bj1NYXRoLm1heChlLnNpemUrbiwwKTpuPjAmJihuPU1hdGgubWluKG4sZS5zaXplKSksZT1vLnNoaW1FeGVjLmNhbGwodGhpcyxcIkJsb2JcIixcInNsaWNlXCIsaSxuLHJ8fFwiXCIpLGUmJihlPW5ldyB0KG8udWlkLGUpKSxlfX07cmV0dXJuIGUuQmxvYj1pfSksbihcIm1veGllL3J1bnRpbWUvZmxhc2gvZmlsZS9GaWxlSW5wdXRcIixbXCJtb3hpZS9ydW50aW1lL2ZsYXNoL1J1bnRpbWVcIixcIm1veGllL2ZpbGUvRmlsZVwiLFwibW94aWUvY29yZS91dGlscy9Eb21cIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIl0sZnVuY3Rpb24oZSx0LGksbil7dmFyIHI9e2luaXQ6ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcyxvPXRoaXMuZ2V0UnVudGltZSgpLGE9aS5nZXQoZS5icm93c2VfYnV0dG9uKTthJiYoYS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLC0xKSxhPW51bGwpLHRoaXMuYmluZChcIkNoYW5nZVwiLGZ1bmN0aW9uKCl7dmFyIGU9by5zaGltRXhlYy5jYWxsKHIsXCJGaWxlSW5wdXRcIixcImdldEZpbGVzXCIpO3IuZmlsZXM9W10sbi5lYWNoKGUsZnVuY3Rpb24oZSl7ci5maWxlcy5wdXNoKG5ldyB0KG8udWlkLGUpKX0pfSw5OTkpLHRoaXMuZ2V0UnVudGltZSgpLnNoaW1FeGVjLmNhbGwodGhpcyxcIkZpbGVJbnB1dFwiLFwiaW5pdFwiLHthY2NlcHQ6ZS5hY2NlcHQsbXVsdGlwbGU6ZS5tdWx0aXBsZX0pLHRoaXMudHJpZ2dlcihcInJlYWR5XCIpfX07cmV0dXJuIGUuRmlsZUlucHV0PXJ9KSxuKFwibW94aWUvcnVudGltZS9mbGFzaC9maWxlL0ZpbGVSZWFkZXJcIixbXCJtb3hpZS9ydW50aW1lL2ZsYXNoL1J1bnRpbWVcIixcIm1veGllL2NvcmUvdXRpbHMvRW5jb2RlXCJdLGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaShlLGkpe3N3aXRjaChpKXtjYXNlXCJyZWFkQXNUZXh0XCI6cmV0dXJuIHQuYXRvYihlLFwidXRmOFwiKTtjYXNlXCJyZWFkQXNCaW5hcnlTdHJpbmdcIjpyZXR1cm4gdC5hdG9iKGUpO2Nhc2VcInJlYWRBc0RhdGFVUkxcIjpyZXR1cm4gZX1yZXR1cm4gbnVsbH12YXIgbj17cmVhZDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIG4ucmVzdWx0PVwiXCIsXCJyZWFkQXNEYXRhVVJMXCI9PT1lJiYobi5yZXN1bHQ9XCJkYXRhOlwiKyh0LnR5cGV8fFwiXCIpK1wiO2Jhc2U2NCxcIiksbi5iaW5kKFwiUHJvZ3Jlc3NcIixmdW5jdGlvbih0LHIpe3ImJihuLnJlc3VsdCs9aShyLGUpKX0sOTk5KSxuLmdldFJ1bnRpbWUoKS5zaGltRXhlYy5jYWxsKHRoaXMsXCJGaWxlUmVhZGVyXCIsXCJyZWFkQXNCYXNlNjRcIix0LnVpZCl9fTtyZXR1cm4gZS5GaWxlUmVhZGVyPW59KSxuKFwibW94aWUvcnVudGltZS9mbGFzaC9maWxlL0ZpbGVSZWFkZXJTeW5jXCIsW1wibW94aWUvcnVudGltZS9mbGFzaC9SdW50aW1lXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0VuY29kZVwiXSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoZSxpKXtzd2l0Y2goaSl7Y2FzZVwicmVhZEFzVGV4dFwiOnJldHVybiB0LmF0b2IoZSxcInV0ZjhcIik7Y2FzZVwicmVhZEFzQmluYXJ5U3RyaW5nXCI6cmV0dXJuIHQuYXRvYihlKTtjYXNlXCJyZWFkQXNEYXRhVVJMXCI6cmV0dXJuIGV9cmV0dXJuIG51bGx9dmFyIG49e3JlYWQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPXRoaXMuZ2V0UnVudGltZSgpO3JldHVybihuPXIuc2hpbUV4ZWMuY2FsbCh0aGlzLFwiRmlsZVJlYWRlclN5bmNcIixcInJlYWRBc0Jhc2U2NFwiLHQudWlkKSk/KFwicmVhZEFzRGF0YVVSTFwiPT09ZSYmKG49XCJkYXRhOlwiKyh0LnR5cGV8fFwiXCIpK1wiO2Jhc2U2NCxcIituKSxpKG4sZSx0LnR5cGUpKTpudWxsfX07cmV0dXJuIGUuRmlsZVJlYWRlclN5bmM9bn0pLG4oXCJtb3hpZS9ydW50aW1lL2ZsYXNoL3J1bnRpbWUvVHJhbnNwb3J0ZXJcIixbXCJtb3hpZS9ydW50aW1lL2ZsYXNoL1J1bnRpbWVcIixcIm1veGllL2ZpbGUvQmxvYlwiXSxmdW5jdGlvbihlLHQpe3ZhciBpPXtnZXRBc0Jsb2I6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcy5nZXRSdW50aW1lKCksbj1pLnNoaW1FeGVjLmNhbGwodGhpcyxcIlRyYW5zcG9ydGVyXCIsXCJnZXRBc0Jsb2JcIixlKTtyZXR1cm4gbj9uZXcgdChpLnVpZCxuKTpudWxsfX07cmV0dXJuIGUuVHJhbnNwb3J0ZXI9aX0pLG4oXCJtb3hpZS9ydW50aW1lL2ZsYXNoL3hoci9YTUxIdHRwUmVxdWVzdFwiLFtcIm1veGllL3J1bnRpbWUvZmxhc2gvUnVudGltZVwiLFwibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvZmlsZS9CbG9iXCIsXCJtb3hpZS9maWxlL0ZpbGVcIixcIm1veGllL2ZpbGUvRmlsZVJlYWRlclN5bmNcIixcIm1veGllL3J1bnRpbWUvZmxhc2gvZmlsZS9GaWxlUmVhZGVyU3luY1wiLFwibW94aWUveGhyL0Zvcm1EYXRhXCIsXCJtb3hpZS9ydW50aW1lL1RyYW5zcG9ydGVyXCIsXCJtb3hpZS9ydW50aW1lL2ZsYXNoL3J1bnRpbWUvVHJhbnNwb3J0ZXJcIl0sZnVuY3Rpb24oZSx0LGksbixyLG8sYSxzKXt2YXIgdT17c2VuZDpmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHIoKXtlLnRyYW5zcG9ydD1sLm1vZGUsbC5zaGltRXhlYy5jYWxsKGMsXCJYTUxIdHRwUmVxdWVzdFwiLFwic2VuZFwiLGUsbil9ZnVuY3Rpb24gbyhlLHQpe2wuc2hpbUV4ZWMuY2FsbChjLFwiWE1MSHR0cFJlcXVlc3RcIixcImFwcGVuZEJsb2JcIixlLHQudWlkKSxuPW51bGwscigpfWZ1bmN0aW9uIHUoZSx0KXt2YXIgaT1uZXcgcztpLmJpbmQoXCJUcmFuc3BvcnRpbmdDb21wbGV0ZVwiLGZ1bmN0aW9uKCl7dCh0aGlzLnJlc3VsdCl9KSxpLnRyYW5zcG9ydChlLmdldFNvdXJjZSgpLGUudHlwZSx7cnVpZDpsLnVpZH0pfXZhciBjPXRoaXMsbD1jLmdldFJ1bnRpbWUoKTtpZih0LmlzRW1wdHlPYmooZS5oZWFkZXJzKXx8dC5lYWNoKGUuaGVhZGVycyxmdW5jdGlvbihlLHQpe2wuc2hpbUV4ZWMuY2FsbChjLFwiWE1MSHR0cFJlcXVlc3RcIixcInNldFJlcXVlc3RIZWFkZXJcIix0LGUudG9TdHJpbmcoKSl9KSxuIGluc3RhbmNlb2YgYSl7dmFyIGQ7aWYobi5lYWNoKGZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIGk/ZD10Omwuc2hpbUV4ZWMuY2FsbChjLFwiWE1MSHR0cFJlcXVlc3RcIixcImFwcGVuZFwiLHQsZSl9KSxuLmhhc0Jsb2IoKSl7dmFyIG09bi5nZXRCbG9iKCk7bS5pc0RldGFjaGVkKCk/dShtLGZ1bmN0aW9uKGUpe20uZGVzdHJveSgpLG8oZCxlKX0pOm8oZCxtKX1lbHNlIG49bnVsbCxyKCl9ZWxzZSBuIGluc3RhbmNlb2YgaT9uLmlzRGV0YWNoZWQoKT91KG4sZnVuY3Rpb24oZSl7bi5kZXN0cm95KCksbj1lLnVpZCxyKCl9KToobj1uLnVpZCxyKCkpOnIoKX0sZ2V0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIGksbyxhPXRoaXMuZ2V0UnVudGltZSgpO2lmKG89YS5zaGltRXhlYy5jYWxsKHRoaXMsXCJYTUxIdHRwUmVxdWVzdFwiLFwiZ2V0UmVzcG9uc2VBc0Jsb2JcIikpe2lmKG89bmV3IG4oYS51aWQsbyksXCJibG9iXCI9PT1lKXJldHVybiBvO3RyeXtpZihpPW5ldyByLH50LmluQXJyYXkoZSxbXCJcIixcInRleHRcIl0pKXJldHVybiBpLnJlYWRBc1RleHQobyk7aWYoXCJqc29uXCI9PT1lJiZ3aW5kb3cuSlNPTilyZXR1cm4gSlNPTi5wYXJzZShpLnJlYWRBc1RleHQobykpfWZpbmFsbHl7by5kZXN0cm95KCl9fXJldHVybiBudWxsfSxhYm9ydDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UnVudGltZSgpO2Uuc2hpbUV4ZWMuY2FsbCh0aGlzLFwiWE1MSHR0cFJlcXVlc3RcIixcImFib3J0XCIpLHRoaXMuZGlzcGF0Y2hFdmVudChcInJlYWR5c3RhdGVjaGFuZ2VcIiksdGhpcy5kaXNwYXRjaEV2ZW50KFwiYWJvcnRcIil9fTtyZXR1cm4gZS5YTUxIdHRwUmVxdWVzdD11fSksbihcIm1veGllL3J1bnRpbWUvZmxhc2gvaW1hZ2UvSW1hZ2VcIixbXCJtb3hpZS9ydW50aW1lL2ZsYXNoL1J1bnRpbWVcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL3J1bnRpbWUvVHJhbnNwb3J0ZXJcIixcIm1veGllL2ZpbGUvQmxvYlwiLFwibW94aWUvZmlsZS9GaWxlUmVhZGVyU3luY1wiXSxmdW5jdGlvbihlLHQsaSxuLHIpe3ZhciBvPXtsb2FkRnJvbUJsb2I6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyLnNoaW1FeGVjLmNhbGwobixcIkltYWdlXCIsXCJsb2FkRnJvbUJsb2JcIixlLnVpZCksbj1yPW51bGx9dmFyIG49dGhpcyxyPW4uZ2V0UnVudGltZSgpO2lmKGUuaXNEZXRhY2hlZCgpKXt2YXIgbz1uZXcgaTtvLmJpbmQoXCJUcmFuc3BvcnRpbmdDb21wbGV0ZVwiLGZ1bmN0aW9uKCl7dChvLnJlc3VsdC5nZXRTb3VyY2UoKSl9KSxvLnRyYW5zcG9ydChlLmdldFNvdXJjZSgpLGUudHlwZSx7cnVpZDpyLnVpZH0pfWVsc2UgdChlLmdldFNvdXJjZSgpKX0sbG9hZEZyb21JbWFnZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFJ1bnRpbWUoKTtyZXR1cm4gdC5zaGltRXhlYy5jYWxsKHRoaXMsXCJJbWFnZVwiLFwibG9hZEZyb21JbWFnZVwiLGUudWlkKX0sZ2V0SW5mbzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0UnVudGltZSgpLHQ9ZS5zaGltRXhlYy5jYWxsKHRoaXMsXCJJbWFnZVwiLFwiZ2V0SW5mb1wiKTtyZXR1cm4gdC5tZXRhJiZ0Lm1ldGEudGh1bWImJnQubWV0YS50aHVtYi5kYXRhJiYhKGUubWV0YS50aHVtYi5kYXRhIGluc3RhbmNlb2YgbikmJih0Lm1ldGEudGh1bWIuZGF0YT1uZXcgbihlLnVpZCx0Lm1ldGEudGh1bWIuZGF0YSkpLHR9LGdldEFzQmxvYjpmdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuZ2V0UnVudGltZSgpLHI9aS5zaGltRXhlYy5jYWxsKHRoaXMsXCJJbWFnZVwiLFwiZ2V0QXNCbG9iXCIsZSx0KTtyZXR1cm4gcj9uZXcgbihpLnVpZCxyKTpudWxsfSxnZXRBc0RhdGFVUkw6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuZ2V0UnVudGltZSgpLGk9dC5JbWFnZS5nZXRBc0Jsb2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBpPyhlPW5ldyByLGUucmVhZEFzRGF0YVVSTChpKSk6bnVsbH19O3JldHVybiBlLkltYWdlPW99KSxuKFwibW94aWUvcnVudGltZS9zaWx2ZXJsaWdodC9SdW50aW1lXCIsW1wibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvY29yZS91dGlscy9FbnZcIixcIm1veGllL2NvcmUvdXRpbHMvRG9tXCIsXCJtb3hpZS9jb3JlL0V4Y2VwdGlvbnNcIixcIm1veGllL3J1bnRpbWUvUnVudGltZVwiXSxmdW5jdGlvbihlLHQsaSxuLG8pe2Z1bmN0aW9uIGEoZSl7dmFyIHQsaSxuLHIsbyxhPSExLHM9bnVsbCx1PTA7dHJ5e3RyeXtzPW5ldyBBY3RpdmVYT2JqZWN0KFwiQWdDb250cm9sLkFnQ29udHJvbFwiKSxzLklzVmVyc2lvblN1cHBvcnRlZChlKSYmKGE9ITApLHM9bnVsbH1jYXRjaChjKXt2YXIgbD1uYXZpZ2F0b3IucGx1Z2luc1tcIlNpbHZlcmxpZ2h0IFBsdWctSW5cIl07aWYobCl7Zm9yKHQ9bC5kZXNjcmlwdGlvbixcIjEuMC4zMDIyNi4yXCI9PT10JiYodD1cIjIuMC4zMDIyNi4yXCIpLGk9dC5zcGxpdChcIi5cIik7aS5sZW5ndGg+MzspaS5wb3AoKTtmb3IoO2kubGVuZ3RoPDQ7KWkucHVzaCgwKTtmb3Iobj1lLnNwbGl0KFwiLlwiKTtuLmxlbmd0aD40OyluLnBvcCgpO2RvIHI9cGFyc2VJbnQoblt1XSwxMCksbz1wYXJzZUludChpW3VdLDEwKSx1Kys7d2hpbGUodTxuLmxlbmd0aCYmcj09PW8pO28+PXImJiFpc05hTihyKSYmKGE9ITApfX19Y2F0Y2goZCl7YT0hMX1yZXR1cm4gYX1mdW5jdGlvbiBzKHMpe3ZhciBsLGQ9dGhpcztzPWUuZXh0ZW5kKHt4YXBfdXJsOnQueGFwX3VybH0scyksby5jYWxsKHRoaXMscyx1LHthY2Nlc3NfYmluYXJ5Om8uY2FwVHJ1ZSxhY2Nlc3NfaW1hZ2VfYmluYXJ5Om8uY2FwVHJ1ZSxkaXNwbGF5X21lZGlhOm8uY2FwVGVzdChyKFwibW94aWUvaW1hZ2UvSW1hZ2VcIikpLGRvX2NvcnM6by5jYXBUcnVlLGRyYWdfYW5kX2Ryb3A6ITEscmVwb3J0X3VwbG9hZF9wcm9ncmVzczpvLmNhcFRydWUscmVzaXplX2ltYWdlOm8uY2FwVHJ1ZSxyZXR1cm5fcmVzcG9uc2VfaGVhZGVyczpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJjbGllbnRcIj09PWQubW9kZX0scmV0dXJuX3Jlc3BvbnNlX3R5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJqc29uXCIhPT1lPyEwOiEhd2luZG93LkpTT059LHJldHVybl9zdGF0dXNfY29kZTpmdW5jdGlvbih0KXtyZXR1cm5cImNsaWVudFwiPT09ZC5tb2RlfHwhZS5hcnJheURpZmYodCxbMjAwLDQwNF0pfSxzZWxlY3RfZmlsZTpvLmNhcFRydWUsc2VsZWN0X211bHRpcGxlOm8uY2FwVHJ1ZSxzZW5kX2JpbmFyeV9zdHJpbmc6by5jYXBUcnVlLHNlbmRfYnJvd3Nlcl9jb29raWVzOmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImJyb3dzZXJcIj09PWQubW9kZX0sc2VuZF9jdXN0b21faGVhZGVyczpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJjbGllbnRcIj09PWQubW9kZX0sc2VuZF9tdWx0aXBhcnQ6by5jYXBUcnVlLHNsaWNlX2Jsb2I6by5jYXBUcnVlLHN0cmVhbV91cGxvYWQ6ITAsc3VtbW9uX2ZpbGVfZGlhbG9nOiExLHVwbG9hZF9maWxlc2l6ZTpvLmNhcFRydWUsdXNlX2h0dHBfbWV0aG9kOmZ1bmN0aW9uKHQpe3JldHVyblwiY2xpZW50XCI9PT1kLm1vZGV8fCFlLmFycmF5RGlmZih0LFtcIkdFVFwiLFwiUE9TVFwiXSl9fSx7cmV0dXJuX3Jlc3BvbnNlX2hlYWRlcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/XCJjbGllbnRcIjpcImJyb3dzZXJcIn0scmV0dXJuX3N0YXR1c19jb2RlOmZ1bmN0aW9uKHQpe3JldHVybiBlLmFycmF5RGlmZih0LFsyMDAsNDA0XSk/XCJjbGllbnRcIjpbXCJjbGllbnRcIixcImJyb3dzZXJcIl19LHNlbmRfYnJvd3Nlcl9jb29raWVzOmZ1bmN0aW9uKGUpe3JldHVybiBlP1wiYnJvd3NlclwiOlwiY2xpZW50XCJ9LHNlbmRfY3VzdG9tX2hlYWRlcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/XCJjbGllbnRcIjpcImJyb3dzZXJcIn0sdXNlX2h0dHBfbWV0aG9kOmZ1bmN0aW9uKHQpe3JldHVybiBlLmFycmF5RGlmZih0LFtcIkdFVFwiLFwiUE9TVFwiXSk/XCJjbGllbnRcIjpbXCJjbGllbnRcIixcImJyb3dzZXJcIl19fSksYShcIjIuMC4zMTAwNS4wXCIpJiZcIk9wZXJhXCIhPT10LmJyb3dzZXJ8fCh0aGlzLm1vZGU9ITEpLGUuZXh0ZW5kKHRoaXMse2dldFNoaW06ZnVuY3Rpb24oKXtyZXR1cm4gaS5nZXQodGhpcy51aWQpLmNvbnRlbnQuTW94aWV9LHNoaW1FeGVjOmZ1bmN0aW9uKGUsdCl7dmFyIGk9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGQuZ2V0U2hpbSgpLmV4ZWModGhpcy51aWQsZSx0LGkpfSxpbml0OmZ1bmN0aW9uKCl7dmFyIGU7ZT10aGlzLmdldFNoaW1Db250YWluZXIoKSxlLmlubmVySFRNTD0nPG9iamVjdCBpZD1cIicrdGhpcy51aWQrJ1wiIGRhdGE9XCJkYXRhOmFwcGxpY2F0aW9uL3gtc2lsdmVybGlnaHQsXCIgdHlwZT1cImFwcGxpY2F0aW9uL3gtc2lsdmVybGlnaHQtMlwiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiBzdHlsZT1cIm91dGxpbmU6bm9uZTtcIj4nKyc8cGFyYW0gbmFtZT1cInNvdXJjZVwiIHZhbHVlPVwiJytzLnhhcF91cmwrJ1wiLz4nKyc8cGFyYW0gbmFtZT1cImJhY2tncm91bmRcIiB2YWx1ZT1cIlRyYW5zcGFyZW50XCIvPicrJzxwYXJhbSBuYW1lPVwid2luZG93bGVzc1wiIHZhbHVlPVwidHJ1ZVwiLz4nKyc8cGFyYW0gbmFtZT1cImVuYWJsZWh0bWxhY2Nlc3NcIiB2YWx1ZT1cInRydWVcIi8+JysnPHBhcmFtIG5hbWU9XCJpbml0UGFyYW1zXCIgdmFsdWU9XCJ1aWQ9Jyt0aGlzLnVpZCtcIix0YXJnZXQ9XCIrby5nZXRHbG9iYWxFdmVudFRhcmdldCgpKydcIi8+JytcIjwvb2JqZWN0PlwiLGw9c2V0VGltZW91dChmdW5jdGlvbigpe2QmJiFkLmluaXRpYWxpemVkJiZkLnRyaWdnZXIoXCJFcnJvclwiLG5ldyBuLlJ1bnRpbWVFcnJvcihuLlJ1bnRpbWVFcnJvci5OT1RfSU5JVF9FUlIpKX0sXCJXaW5kb3dzXCIhPT10Lk9TPzFlNDo1ZTMpfSxkZXN0cm95OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe2UuY2FsbChkKSxjbGVhclRpbWVvdXQobCkscz1sPWU9ZD1udWxsfX0odGhpcy5kZXN0cm95KX0sYyl9dmFyIHU9XCJzaWx2ZXJsaWdodFwiLGM9e307cmV0dXJuIG8uYWRkQ29uc3RydWN0b3IodSxzKSxjfSksbihcIm1veGllL3J1bnRpbWUvc2lsdmVybGlnaHQvZmlsZS9CbG9iXCIsW1wibW94aWUvcnVudGltZS9zaWx2ZXJsaWdodC9SdW50aW1lXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCIsXCJtb3hpZS9ydW50aW1lL2ZsYXNoL2ZpbGUvQmxvYlwiXSxmdW5jdGlvbihlLHQsaSl7cmV0dXJuIGUuQmxvYj10LmV4dGVuZCh7fSxpKX0pLG4oXCJtb3hpZS9ydW50aW1lL3NpbHZlcmxpZ2h0L2ZpbGUvRmlsZUlucHV0XCIsW1wibW94aWUvcnVudGltZS9zaWx2ZXJsaWdodC9SdW50aW1lXCIsXCJtb3hpZS9maWxlL0ZpbGVcIixcIm1veGllL2NvcmUvdXRpbHMvRG9tXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0Jhc2ljXCJdLGZ1bmN0aW9uKGUsdCxpLG4pe2Z1bmN0aW9uIHIoZSl7Zm9yKHZhciB0PVwiXCIsaT0wO2k8ZS5sZW5ndGg7aSsrKXQrPShcIlwiIT09dD9cInxcIjpcIlwiKStlW2ldLnRpdGxlK1wiIHwgKi5cIitlW2ldLmV4dGVuc2lvbnMucmVwbGFjZSgvLC9nLFwiOyouXCIpO3JldHVybiB0fXZhciBvPXtpbml0OmZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMsYT10aGlzLmdldFJ1bnRpbWUoKSxzPWkuZ2V0KGUuYnJvd3NlX2J1dHRvbik7cyYmKHMuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwtMSkscz1udWxsKSx0aGlzLmJpbmQoXCJDaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBlPWEuc2hpbUV4ZWMuY2FsbChvLFwiRmlsZUlucHV0XCIsXCJnZXRGaWxlc1wiKTtcbm8uZmlsZXM9W10sbi5lYWNoKGUsZnVuY3Rpb24oZSl7by5maWxlcy5wdXNoKG5ldyB0KGEudWlkLGUpKX0pfSw5OTkpLGEuc2hpbUV4ZWMuY2FsbCh0aGlzLFwiRmlsZUlucHV0XCIsXCJpbml0XCIscihlLmFjY2VwdCksZS5tdWx0aXBsZSksdGhpcy50cmlnZ2VyKFwicmVhZHlcIil9LHNldE9wdGlvbjpmdW5jdGlvbihlLHQpe1wiYWNjZXB0XCI9PWUmJih0PXIodCkpLHRoaXMuZ2V0UnVudGltZSgpLnNoaW1FeGVjLmNhbGwodGhpcyxcIkZpbGVJbnB1dFwiLFwic2V0T3B0aW9uXCIsZSx0KX19O3JldHVybiBlLkZpbGVJbnB1dD1vfSksbihcIm1veGllL3J1bnRpbWUvc2lsdmVybGlnaHQvZmlsZS9GaWxlRHJvcFwiLFtcIm1veGllL3J1bnRpbWUvc2lsdmVybGlnaHQvUnVudGltZVwiLFwibW94aWUvY29yZS91dGlscy9Eb21cIixcIm1veGllL2NvcmUvdXRpbHMvRXZlbnRzXCJdLGZ1bmN0aW9uKGUsdCxpKXt2YXIgbj17aW5pdDpmdW5jdGlvbigpe3ZhciBlLG49dGhpcyxyPW4uZ2V0UnVudGltZSgpO3JldHVybiBlPXIuZ2V0U2hpbUNvbnRhaW5lcigpLGkuYWRkRXZlbnQoZSxcImRyYWdvdmVyXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCksZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1cImNvcHlcIn0sbi51aWQpLGkuYWRkRXZlbnQoZSxcImRyYWdlbnRlclwiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTt2YXIgaT10LmdldChyLnVpZCkuZHJhZ0VudGVyKGUpO2kmJmUuc3RvcFByb3BhZ2F0aW9uKCl9LG4udWlkKSxpLmFkZEV2ZW50KGUsXCJkcm9wXCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBpPXQuZ2V0KHIudWlkKS5kcmFnRHJvcChlKTtpJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxuLnVpZCksci5zaGltRXhlYy5jYWxsKHRoaXMsXCJGaWxlRHJvcFwiLFwiaW5pdFwiKX19O3JldHVybiBlLkZpbGVEcm9wPW59KSxuKFwibW94aWUvcnVudGltZS9zaWx2ZXJsaWdodC9maWxlL0ZpbGVSZWFkZXJcIixbXCJtb3hpZS9ydW50aW1lL3NpbHZlcmxpZ2h0L1J1bnRpbWVcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL3J1bnRpbWUvZmxhc2gvZmlsZS9GaWxlUmVhZGVyXCJdLGZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZS5GaWxlUmVhZGVyPXQuZXh0ZW5kKHt9LGkpfSksbihcIm1veGllL3J1bnRpbWUvc2lsdmVybGlnaHQvZmlsZS9GaWxlUmVhZGVyU3luY1wiLFtcIm1veGllL3J1bnRpbWUvc2lsdmVybGlnaHQvUnVudGltZVwiLFwibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvcnVudGltZS9mbGFzaC9maWxlL0ZpbGVSZWFkZXJTeW5jXCJdLGZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZS5GaWxlUmVhZGVyU3luYz10LmV4dGVuZCh7fSxpKX0pLG4oXCJtb3hpZS9ydW50aW1lL3NpbHZlcmxpZ2h0L3J1bnRpbWUvVHJhbnNwb3J0ZXJcIixbXCJtb3hpZS9ydW50aW1lL3NpbHZlcmxpZ2h0L1J1bnRpbWVcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL3J1bnRpbWUvZmxhc2gvcnVudGltZS9UcmFuc3BvcnRlclwiXSxmdW5jdGlvbihlLHQsaSl7cmV0dXJuIGUuVHJhbnNwb3J0ZXI9dC5leHRlbmQoe30saSl9KSxuKFwibW94aWUvcnVudGltZS9zaWx2ZXJsaWdodC94aHIvWE1MSHR0cFJlcXVlc3RcIixbXCJtb3hpZS9ydW50aW1lL3NpbHZlcmxpZ2h0L1J1bnRpbWVcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL3J1bnRpbWUvZmxhc2gveGhyL1hNTEh0dHBSZXF1ZXN0XCIsXCJtb3hpZS9ydW50aW1lL3NpbHZlcmxpZ2h0L2ZpbGUvRmlsZVJlYWRlclN5bmNcIixcIm1veGllL3J1bnRpbWUvc2lsdmVybGlnaHQvcnVudGltZS9UcmFuc3BvcnRlclwiXSxmdW5jdGlvbihlLHQsaSl7cmV0dXJuIGUuWE1MSHR0cFJlcXVlc3Q9dC5leHRlbmQoe30saSl9KSxuKFwibW94aWUvcnVudGltZS9zaWx2ZXJsaWdodC9pbWFnZS9JbWFnZVwiLFtcIm1veGllL3J1bnRpbWUvc2lsdmVybGlnaHQvUnVudGltZVwiLFwibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvZmlsZS9CbG9iXCIsXCJtb3hpZS9ydW50aW1lL2ZsYXNoL2ltYWdlL0ltYWdlXCJdLGZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiBlLkltYWdlPXQuZXh0ZW5kKHt9LG4se2dldEluZm86ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFJ1bnRpbWUoKSxuPVtcInRpZmZcIixcImV4aWZcIixcImdwc1wiLFwidGh1bWJcIl0scj17bWV0YTp7fX0sbz1lLnNoaW1FeGVjLmNhbGwodGhpcyxcIkltYWdlXCIsXCJnZXRJbmZvXCIpO3JldHVybiBvLm1ldGEmJih0LmVhY2gobixmdW5jdGlvbihlKXt2YXIgdCxpLG4sYSxzPW8ubWV0YVtlXTtpZihzJiZzLmtleXMpZm9yKHIubWV0YVtlXT17fSxpPTAsbj1zLmtleXMubGVuZ3RoO24+aTtpKyspdD1zLmtleXNbaV0sYT1zW3RdLGEmJigvXihcXGR8WzEtOV1cXGQrKSQvLnRlc3QoYSk/YT1wYXJzZUludChhLDEwKTovXlxcZCpcXC5cXGQrJC8udGVzdChhKSYmKGE9cGFyc2VGbG9hdChhKSksci5tZXRhW2VdW3RdPWEpfSksci5tZXRhJiZyLm1ldGEudGh1bWImJnIubWV0YS50aHVtYi5kYXRhJiYhKGUubWV0YS50aHVtYi5kYXRhIGluc3RhbmNlb2YgaSkmJihyLm1ldGEudGh1bWIuZGF0YT1uZXcgaShlLnVpZCxyLm1ldGEudGh1bWIuZGF0YSkpKSxyLndpZHRoPXBhcnNlSW50KG8ud2lkdGgsMTApLHIuaGVpZ2h0PXBhcnNlSW50KG8uaGVpZ2h0LDEwKSxyLnNpemU9cGFyc2VJbnQoby5zaXplLDEwKSxyLnR5cGU9by50eXBlLHIubmFtZT1vLm5hbWUscn0scmVzaXplOmZ1bmN0aW9uKGUsdCxpKXt0aGlzLmdldFJ1bnRpbWUoKS5zaGltRXhlYy5jYWxsKHRoaXMsXCJJbWFnZVwiLFwicmVzaXplXCIsZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0LHQsaS5wcmVzZXJ2ZUhlYWRlcnMsaS5yZXNhbXBsZSl9fSl9KSxuKFwibW94aWUvcnVudGltZS9odG1sNC9SdW50aW1lXCIsW1wibW94aWUvY29yZS91dGlscy9CYXNpY1wiLFwibW94aWUvY29yZS9FeGNlcHRpb25zXCIsXCJtb3hpZS9ydW50aW1lL1J1bnRpbWVcIixcIm1veGllL2NvcmUvdXRpbHMvRW52XCJdLGZ1bmN0aW9uKGUsdCxpLG4pe2Z1bmN0aW9uIG8odCl7dmFyIG89dGhpcyx1PWkuY2FwVGVzdCxjPWkuY2FwVHJ1ZTtpLmNhbGwodGhpcyx0LGEse2FjY2Vzc19iaW5hcnk6dSh3aW5kb3cuRmlsZVJlYWRlcnx8d2luZG93LkZpbGUmJkZpbGUuZ2V0QXNEYXRhVVJMKSxhY2Nlc3NfaW1hZ2VfYmluYXJ5OiExLGRpc3BsYXlfbWVkaWE6dSgobi5jYW4oXCJjcmVhdGVfY2FudmFzXCIpfHxuLmNhbihcInVzZV9kYXRhX3VyaV9vdmVyMzJrYlwiKSkmJnIoXCJtb3hpZS9pbWFnZS9JbWFnZVwiKSksZG9fY29yczohMSxkcmFnX2FuZF9kcm9wOiExLGZpbHRlcl9ieV9leHRlbnNpb246dShmdW5jdGlvbigpe3JldHVybiEoXCJDaHJvbWVcIj09PW4uYnJvd3NlciYmbi52ZXJDb21wKG4udmVyc2lvbiwyOCxcIjxcIil8fFwiSUVcIj09PW4uYnJvd3NlciYmbi52ZXJDb21wKG4udmVyc2lvbiwxMCxcIjxcIil8fFwiU2FmYXJpXCI9PT1uLmJyb3dzZXImJm4udmVyQ29tcChuLnZlcnNpb24sNyxcIjxcIil8fFwiRmlyZWZveFwiPT09bi5icm93c2VyJiZuLnZlckNvbXAobi52ZXJzaW9uLDM3LFwiPFwiKSl9KCkpLHJlc2l6ZV9pbWFnZTpmdW5jdGlvbigpe3JldHVybiBzLkltYWdlJiZvLmNhbihcImFjY2Vzc19iaW5hcnlcIikmJm4uY2FuKFwiY3JlYXRlX2NhbnZhc1wiKX0scmVwb3J0X3VwbG9hZF9wcm9ncmVzczohMSxyZXR1cm5fcmVzcG9uc2VfaGVhZGVyczohMSxyZXR1cm5fcmVzcG9uc2VfdHlwZTpmdW5jdGlvbih0KXtyZXR1cm5cImpzb25cIj09PXQmJndpbmRvdy5KU09OPyEwOiEhfmUuaW5BcnJheSh0LFtcInRleHRcIixcImRvY3VtZW50XCIsXCJcIl0pfSxyZXR1cm5fc3RhdHVzX2NvZGU6ZnVuY3Rpb24odCl7cmV0dXJuIWUuYXJyYXlEaWZmKHQsWzIwMCw0MDRdKX0sc2VsZWN0X2ZpbGU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5jYW4oXCJ1c2VfZmlsZWlucHV0XCIpfSxzZWxlY3RfbXVsdGlwbGU6ITEsc2VuZF9iaW5hcnlfc3RyaW5nOiExLHNlbmRfY3VzdG9tX2hlYWRlcnM6ITEsc2VuZF9tdWx0aXBhcnQ6ITAsc2xpY2VfYmxvYjohMSxzdHJlYW1fdXBsb2FkOmZ1bmN0aW9uKCl7cmV0dXJuIG8uY2FuKFwic2VsZWN0X2ZpbGVcIil9LHN1bW1vbl9maWxlX2RpYWxvZzpmdW5jdGlvbigpe3JldHVybiBvLmNhbihcInNlbGVjdF9maWxlXCIpJiYhKFwiRmlyZWZveFwiPT09bi5icm93c2VyJiZuLnZlckNvbXAobi52ZXJzaW9uLDQsXCI8XCIpfHxcIk9wZXJhXCI9PT1uLmJyb3dzZXImJm4udmVyQ29tcChuLnZlcnNpb24sMTIsXCI8XCIpfHxcIklFXCI9PT1uLmJyb3dzZXImJm4udmVyQ29tcChuLnZlcnNpb24sMTAsXCI8XCIpKX0sdXBsb2FkX2ZpbGVzaXplOmMsdXNlX2h0dHBfbWV0aG9kOmZ1bmN0aW9uKHQpe3JldHVybiFlLmFycmF5RGlmZih0LFtcIkdFVFwiLFwiUE9TVFwiXSl9fSksZS5leHRlbmQodGhpcyx7aW5pdDpmdW5jdGlvbigpe3RoaXMudHJpZ2dlcihcIkluaXRcIil9LGRlc3Ryb3k6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7ZS5jYWxsKG8pLGU9bz1udWxsfX0odGhpcy5kZXN0cm95KX0pLGUuZXh0ZW5kKHRoaXMuZ2V0U2hpbSgpLHMpfXZhciBhPVwiaHRtbDRcIixzPXt9O3JldHVybiBpLmFkZENvbnN0cnVjdG9yKGEsbyksc30pLG4oXCJtb3hpZS9ydW50aW1lL2h0bWw0L2ZpbGUvRmlsZUlucHV0XCIsW1wibW94aWUvcnVudGltZS9odG1sNC9SdW50aW1lXCIsXCJtb3hpZS9maWxlL0ZpbGVcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL2NvcmUvdXRpbHMvRG9tXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0V2ZW50c1wiLFwibW94aWUvY29yZS91dGlscy9NaW1lXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0VudlwiXSxmdW5jdGlvbihlLHQsaSxuLHIsbyxhKXtmdW5jdGlvbiBzKCl7ZnVuY3Rpb24gZSgpe3ZhciBvLGMsZCxtLGgsZixwPXRoaXMsZz1wLmdldFJ1bnRpbWUoKTtmPWkuZ3VpZChcInVpZF9cIiksbz1nLmdldFNoaW1Db250YWluZXIoKSxzJiYoZD1uLmdldChzK1wiX2Zvcm1cIiksZCYmKGkuZXh0ZW5kKGQuc3R5bGUse3RvcDpcIjEwMCVcIn0pLGQuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLC0xKSkpLG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIiksbS5zZXRBdHRyaWJ1dGUoXCJpZFwiLGYrXCJfZm9ybVwiKSxtLnNldEF0dHJpYnV0ZShcIm1ldGhvZFwiLFwicG9zdFwiKSxtLnNldEF0dHJpYnV0ZShcImVuY3R5cGVcIixcIm11bHRpcGFydC9mb3JtLWRhdGFcIiksbS5zZXRBdHRyaWJ1dGUoXCJlbmNvZGluZ1wiLFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiKSxpLmV4dGVuZChtLnN0eWxlLHtvdmVyZmxvdzpcImhpZGRlblwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6MCxsZWZ0OjAsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwifSksaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksaC5zZXRBdHRyaWJ1dGUoXCJpZFwiLGYpLGguc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiZmlsZVwiKSxoLnNldEF0dHJpYnV0ZShcImFjY2VwdFwiLGwuam9pbihcIixcIikpLGcuY2FuKFwic3VtbW9uX2ZpbGVfZGlhbG9nXCIpJiZoLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsLTEpLGkuZXh0ZW5kKGguc3R5bGUse2ZvbnRTaXplOlwiOTk5cHhcIixvcGFjaXR5OjB9KSxtLmFwcGVuZENoaWxkKGgpLG8uYXBwZW5kQ2hpbGQobSksaS5leHRlbmQoaC5zdHlsZSx7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDowLGxlZnQ6MCx3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCJ9KSxcIklFXCI9PT1hLmJyb3dzZXImJmEudmVyQ29tcChhLnZlcnNpb24sMTAsXCI8XCIpJiZpLmV4dGVuZChoLnN0eWxlLHtmaWx0ZXI6XCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eT0wKVwifSksaC5vbmNoYW5nZT1mdW5jdGlvbigpe3ZhciBpO3RoaXMudmFsdWUmJihpPXRoaXMuZmlsZXM/dGhpcy5maWxlc1swXTp7bmFtZTp0aGlzLnZhbHVlfSxpPW5ldyB0KGcudWlkLGkpLHRoaXMub25jaGFuZ2U9ZnVuY3Rpb24oKXt9LGUuY2FsbChwKSxwLmZpbGVzPVtpXSxoLnNldEF0dHJpYnV0ZShcImlkXCIsaS51aWQpLG0uc2V0QXR0cmlidXRlKFwiaWRcIixpLnVpZCtcIl9mb3JtXCIpLHAudHJpZ2dlcihcImNoYW5nZVwiKSxoPW09bnVsbCl9LGcuY2FuKFwic3VtbW9uX2ZpbGVfZGlhbG9nXCIpJiYoYz1uLmdldCh1LmJyb3dzZV9idXR0b24pLHIucmVtb3ZlRXZlbnQoYyxcImNsaWNrXCIscC51aWQpLHIuYWRkRXZlbnQoYyxcImNsaWNrXCIsZnVuY3Rpb24oZSl7aCYmIWguZGlzYWJsZWQmJmguY2xpY2soKSxlLnByZXZlbnREZWZhdWx0KCl9LHAudWlkKSkscz1mLG89ZD1jPW51bGx9dmFyIHMsdSxjLGw9W107aS5leHRlbmQodGhpcyx7aW5pdDpmdW5jdGlvbih0KXt2YXIgaSxhPXRoaXMscz1hLmdldFJ1bnRpbWUoKTt1PXQsbD1vLmV4dExpc3QybWltZXModC5hY2NlcHQscy5jYW4oXCJmaWx0ZXJfYnlfZXh0ZW5zaW9uXCIpKSxpPXMuZ2V0U2hpbUNvbnRhaW5lcigpLGZ1bmN0aW9uKCl7dmFyIGUsbyxsO2U9bi5nZXQodC5icm93c2VfYnV0dG9uKSxjPW4uZ2V0U3R5bGUoZSxcInotaW5kZXhcIil8fFwiYXV0b1wiLHMuY2FuKFwic3VtbW9uX2ZpbGVfZGlhbG9nXCIpPyhcInN0YXRpY1wiPT09bi5nZXRTdHlsZShlLFwicG9zaXRpb25cIikmJihlLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksYS5iaW5kKFwiUmVmcmVzaFwiLGZ1bmN0aW9uKCl7bz1wYXJzZUludChjLDEwKXx8MSxuLmdldCh1LmJyb3dzZV9idXR0b24pLnN0eWxlLnpJbmRleD1vLHRoaXMuZ2V0UnVudGltZSgpLmdldFNoaW1Db250YWluZXIoKS5zdHlsZS56SW5kZXg9by0xfSkpOmUuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwtMSksbD1zLmNhbihcInN1bW1vbl9maWxlX2RpYWxvZ1wiKT9lOmksci5hZGRFdmVudChsLFwibW91c2VvdmVyXCIsZnVuY3Rpb24oKXthLnRyaWdnZXIoXCJtb3VzZWVudGVyXCIpfSxhLnVpZCksci5hZGRFdmVudChsLFwibW91c2VvdXRcIixmdW5jdGlvbigpe2EudHJpZ2dlcihcIm1vdXNlbGVhdmVcIil9LGEudWlkKSxyLmFkZEV2ZW50KGwsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe2EudHJpZ2dlcihcIm1vdXNlZG93blwiKX0sYS51aWQpLHIuYWRkRXZlbnQobi5nZXQodC5jb250YWluZXIpLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7YS50cmlnZ2VyKFwibW91c2V1cFwiKX0sYS51aWQpLGU9bnVsbH0oKSxlLmNhbGwodGhpcyksaT1udWxsLGEudHJpZ2dlcih7dHlwZTpcInJlYWR5XCIsYXN5bmM6ITB9KX0sc2V0T3B0aW9uOmZ1bmN0aW9uKGUsdCl7dmFyIGkscj10aGlzLmdldFJ1bnRpbWUoKTtcImFjY2VwdFwiPT1lJiYobD10Lm1pbWVzfHxvLmV4dExpc3QybWltZXModCxyLmNhbihcImZpbHRlcl9ieV9leHRlbnNpb25cIikpKSxpPW4uZ2V0KHMpLGkmJmkuc2V0QXR0cmlidXRlKFwiYWNjZXB0XCIsbC5qb2luKFwiLFwiKSl9LGRpc2FibGU6ZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9bi5nZXQocykpJiYodC5kaXNhYmxlZD0hIWUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRSdW50aW1lKCksdD1lLmdldFNoaW0oKSxpPWUuZ2V0U2hpbUNvbnRhaW5lcigpLG89dSYmbi5nZXQodS5jb250YWluZXIpLGE9dSYmbi5nZXQodS5icm93c2VfYnV0dG9uKTtvJiZyLnJlbW92ZUFsbEV2ZW50cyhvLHRoaXMudWlkKSxhJiYoci5yZW1vdmVBbGxFdmVudHMoYSx0aGlzLnVpZCksYS5zdHlsZS56SW5kZXg9YyksaSYmKHIucmVtb3ZlQWxsRXZlbnRzKGksdGhpcy51aWQpLGkuaW5uZXJIVE1MPVwiXCIpLHQucmVtb3ZlSW5zdGFuY2UodGhpcy51aWQpLHM9bD11PWk9bz1hPXQ9bnVsbH19KX1yZXR1cm4gZS5GaWxlSW5wdXQ9c30pLG4oXCJtb3hpZS9ydW50aW1lL2h0bWw0L2ZpbGUvRmlsZVJlYWRlclwiLFtcIm1veGllL3J1bnRpbWUvaHRtbDQvUnVudGltZVwiLFwibW94aWUvcnVudGltZS9odG1sNS9maWxlL0ZpbGVSZWFkZXJcIl0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5GaWxlUmVhZGVyPXR9KSxuKFwibW94aWUvcnVudGltZS9odG1sNC94aHIvWE1MSHR0cFJlcXVlc3RcIixbXCJtb3hpZS9ydW50aW1lL2h0bWw0L1J1bnRpbWVcIixcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL2NvcmUvdXRpbHMvRG9tXCIsXCJtb3hpZS9jb3JlL3V0aWxzL1VybFwiLFwibW94aWUvY29yZS9FeGNlcHRpb25zXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0V2ZW50c1wiLFwibW94aWUvZmlsZS9CbG9iXCIsXCJtb3hpZS94aHIvRm9ybURhdGFcIl0sZnVuY3Rpb24oZSx0LGksbixyLG8sYSxzKXtmdW5jdGlvbiB1KCl7ZnVuY3Rpb24gZShlKXt2YXIgdCxuLHIsYSxzPXRoaXMsdT0hMTtpZihsKXtpZih0PWwuaWQucmVwbGFjZSgvX2lmcmFtZSQvLFwiXCIpLG49aS5nZXQodCtcIl9mb3JtXCIpKXtmb3Iocj1uLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIiksYT1yLmxlbmd0aDthLS07KXN3aXRjaChyW2FdLmdldEF0dHJpYnV0ZShcInR5cGVcIikpe2Nhc2VcImhpZGRlblwiOnJbYV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyW2FdKTticmVhaztjYXNlXCJmaWxlXCI6dT0hMH1yPVtdLHV8fG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxuPW51bGx9c2V0VGltZW91dChmdW5jdGlvbigpe28ucmVtb3ZlRXZlbnQobCxcImxvYWRcIixzLnVpZCksbC5wYXJlbnROb2RlJiZsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCk7dmFyIHQ9cy5nZXRSdW50aW1lKCkuZ2V0U2hpbUNvbnRhaW5lcigpO3QuY2hpbGRyZW4ubGVuZ3RofHx0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD1sPW51bGwsZSgpfSwxKX19dmFyIHUsYyxsO3QuZXh0ZW5kKHRoaXMse3NlbmQ6ZnVuY3Rpb24oZCxtKXtmdW5jdGlvbiBoKCl7dmFyIGk9dy5nZXRTaGltQ29udGFpbmVyKCl8fGRvY3VtZW50LmJvZHkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3IuaW5uZXJIVE1MPSc8aWZyYW1lIGlkPVwiJytmKydfaWZyYW1lXCIgbmFtZT1cIicrZisnX2lmcmFtZVwiIHNyYz1cImphdmFzY3JpcHQ6JnF1b3Q7JnF1b3Q7XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj48L2lmcmFtZT4nLGw9ci5maXJzdENoaWxkLGkuYXBwZW5kQ2hpbGQobCksby5hZGRFdmVudChsLFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGk7dHJ5e2k9bC5jb250ZW50V2luZG93LmRvY3VtZW50fHxsLmNvbnRlbnREb2N1bWVudHx8d2luZG93LmZyYW1lc1tsLmlkXS5kb2N1bWVudCwvXjQoMFswLTldfDFbMC03XXwyWzIzNDZdKVxccy8udGVzdChpLnRpdGxlKT91PWkudGl0bGUucmVwbGFjZSgvXihcXGQrKS4qJC8sXCIkMVwiKToodT0yMDAsYz10LnRyaW0oaS5ib2R5LmlubmVySFRNTCksdi50cmlnZ2VyKHt0eXBlOlwicHJvZ3Jlc3NcIixsb2FkZWQ6Yy5sZW5ndGgsdG90YWw6Yy5sZW5ndGh9KSx4JiZ2LnRyaWdnZXIoe3R5cGU6XCJ1cGxvYWRwcm9ncmVzc1wiLGxvYWRlZDp4LnNpemV8fDEwMjUsdG90YWw6eC5zaXplfHwxMDI1fSkpfWNhdGNoKHIpe2lmKCFuLmhhc1NhbWVPcmlnaW4oZC51cmwpKXJldHVybiBlLmNhbGwodixmdW5jdGlvbigpe3YudHJpZ2dlcihcImVycm9yXCIpfSksdm9pZCAwO3U9NDA0fWUuY2FsbCh2LGZ1bmN0aW9uKCl7di50cmlnZ2VyKFwibG9hZFwiKX0pfSx2LnVpZCl9dmFyIGYscCxnLHgsdj10aGlzLHc9di5nZXRSdW50aW1lKCk7aWYodT1jPW51bGwsbSBpbnN0YW5jZW9mIHMmJm0uaGFzQmxvYigpKXtpZih4PW0uZ2V0QmxvYigpLGY9eC51aWQsZz1pLmdldChmKSxwPWkuZ2V0KGYrXCJfZm9ybVwiKSwhcCl0aHJvdyBuZXcgci5ET01FeGNlcHRpb24oci5ET01FeGNlcHRpb24uTk9UX0ZPVU5EX0VSUil9ZWxzZSBmPXQuZ3VpZChcInVpZF9cIikscD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKSxwLnNldEF0dHJpYnV0ZShcImlkXCIsZitcIl9mb3JtXCIpLHAuc2V0QXR0cmlidXRlKFwibWV0aG9kXCIsZC5tZXRob2QpLHAuc2V0QXR0cmlidXRlKFwiZW5jdHlwZVwiLFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiKSxwLnNldEF0dHJpYnV0ZShcImVuY29kaW5nXCIsXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIpLHcuZ2V0U2hpbUNvbnRhaW5lcigpLmFwcGVuZENoaWxkKHApO3Auc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsZitcIl9pZnJhbWVcIiksbSBpbnN0YW5jZW9mIHMmJm0uZWFjaChmdW5jdGlvbihlLGkpe2lmKGUgaW5zdGFuY2VvZiBhKWcmJmcuc2V0QXR0cmlidXRlKFwibmFtZVwiLGkpO2Vsc2V7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3QuZXh0ZW5kKG4se3R5cGU6XCJoaWRkZW5cIixuYW1lOmksdmFsdWU6ZX0pLGc/cC5pbnNlcnRCZWZvcmUobixnKTpwLmFwcGVuZENoaWxkKG4pfX0pLHAuc2V0QXR0cmlidXRlKFwiYWN0aW9uXCIsZC51cmwpLGgoKSxwLnN1Ym1pdCgpLHYudHJpZ2dlcihcImxvYWRzdGFydFwiKX0sZ2V0U3RhdHVzOmZ1bmN0aW9uKCl7cmV0dXJuIHV9LGdldFJlc3BvbnNlOmZ1bmN0aW9uKGUpe2lmKFwianNvblwiPT09ZSYmXCJzdHJpbmdcIj09PXQudHlwZU9mKGMpJiZ3aW5kb3cuSlNPTil0cnl7cmV0dXJuIEpTT04ucGFyc2UoYy5yZXBsYWNlKC9eXFxzKjxwcmVbXj5dKj4vLFwiXCIpLnJlcGxhY2UoLzxcXC9wcmU+XFxzKiQvLFwiXCIpKX1jYXRjaChpKXtyZXR1cm4gbnVsbH1yZXR1cm4gY30sYWJvcnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2wmJmwuY29udGVudFdpbmRvdyYmKGwuY29udGVudFdpbmRvdy5zdG9wP2wuY29udGVudFdpbmRvdy5zdG9wKCk6bC5jb250ZW50V2luZG93LmRvY3VtZW50LmV4ZWNDb21tYW5kP2wuY29udGVudFdpbmRvdy5kb2N1bWVudC5leGVjQ29tbWFuZChcIlN0b3BcIik6bC5zcmM9XCJhYm91dDpibGFua1wiKSxlLmNhbGwodGhpcyxmdW5jdGlvbigpe3QuZGlzcGF0Y2hFdmVudChcImFib3J0XCIpfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmdldFJ1bnRpbWUoKS5nZXRTaGltKCkucmVtb3ZlSW5zdGFuY2UodGhpcy51aWQpfX0pfXJldHVybiBlLlhNTEh0dHBSZXF1ZXN0PXV9KSxuKFwibW94aWUvcnVudGltZS9odG1sNC9pbWFnZS9JbWFnZVwiLFtcIm1veGllL3J1bnRpbWUvaHRtbDQvUnVudGltZVwiLFwibW94aWUvcnVudGltZS9odG1sNS9pbWFnZS9JbWFnZVwiXSxmdW5jdGlvbihlLHQpe3JldHVybiBlLkltYWdlPXR9KSxhKFtcIm1veGllL2NvcmUvdXRpbHMvQmFzaWNcIixcIm1veGllL2NvcmUvdXRpbHMvRW5jb2RlXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0VudlwiLFwibW94aWUvY29yZS9FeGNlcHRpb25zXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0RvbVwiLFwibW94aWUvY29yZS9FdmVudFRhcmdldFwiLFwibW94aWUvcnVudGltZS9SdW50aW1lXCIsXCJtb3hpZS9ydW50aW1lL1J1bnRpbWVDbGllbnRcIixcIm1veGllL2ZpbGUvQmxvYlwiLFwibW94aWUvY29yZS9JMThuXCIsXCJtb3hpZS9jb3JlL3V0aWxzL01pbWVcIixcIm1veGllL2ZpbGUvRmlsZUlucHV0XCIsXCJtb3hpZS9maWxlL0ZpbGVcIixcIm1veGllL2ZpbGUvRmlsZURyb3BcIixcIm1veGllL2ZpbGUvRmlsZVJlYWRlclwiLFwibW94aWUvY29yZS91dGlscy9VcmxcIixcIm1veGllL3J1bnRpbWUvUnVudGltZVRhcmdldFwiLFwibW94aWUveGhyL0Zvcm1EYXRhXCIsXCJtb3hpZS94aHIvWE1MSHR0cFJlcXVlc3RcIixcIm1veGllL2ltYWdlL0ltYWdlXCIsXCJtb3hpZS9jb3JlL3V0aWxzL0V2ZW50c1wiLFwibW94aWUvcnVudGltZS9odG1sNS9pbWFnZS9SZXNpemVyQ2FudmFzXCJdKX0odGhpcyl9KTtcbi8qKlxuICogUGx1cGxvYWQgLSBtdWx0aS1ydW50aW1lIEZpbGUgVXBsb2FkZXJcbiAqIHYyLjMuNlxuICpcbiAqIENvcHlyaWdodCAyMDEzLCBNb3hpZWNvZGUgU3lzdGVtcyBBQlxuICogUmVsZWFzZWQgdW5kZXIgR1BMIExpY2Vuc2UuXG4gKlxuICogTGljZW5zZTogaHR0cDovL3d3dy5wbHVwbG9hZC5jb20vbGljZW5zZVxuICogQ29udHJpYnV0aW5nOiBodHRwOi8vd3d3LnBsdXBsb2FkLmNvbS9jb250cmlidXRpbmdcbiAqXG4gKiBEYXRlOiAyMDE3LTExLTAzXG4gKi9cbiFmdW5jdGlvbihlLHQpe3ZhciBpPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIHQuYXBwbHkoZSxhcmd1bWVudHMpLGUucGx1cGxvYWR9O1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJwbHVwbG9hZFwiLFtcIi4vbW94aWVcIl0saSk6XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9aShyZXF1aXJlKFwiLi9tb3hpZVwiKSk6ZS5wbHVwbG9hZD1pKGUubW94aWUpfSh0aGlzfHx3aW5kb3csZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsdCxpKXtmdW5jdGlvbiBuKGUpe2Z1bmN0aW9uIHQoZSx0LGkpe3ZhciByPXtjaHVua3M6XCJzbGljZV9ibG9iXCIsanBncmVzaXplOlwic2VuZF9iaW5hcnlfc3RyaW5nXCIscG5ncmVzaXplOlwic2VuZF9iaW5hcnlfc3RyaW5nXCIscHJvZ3Jlc3M6XCJyZXBvcnRfdXBsb2FkX3Byb2dyZXNzXCIsbXVsdGlfc2VsZWN0aW9uOlwic2VsZWN0X211bHRpcGxlXCIsZHJhZ2Ryb3A6XCJkcmFnX2FuZF9kcm9wXCIsZHJvcF9lbGVtZW50OlwiZHJhZ19hbmRfZHJvcFwiLGhlYWRlcnM6XCJzZW5kX2N1c3RvbV9oZWFkZXJzXCIsdXJsc3RyZWFtX3VwbG9hZDpcInNlbmRfYmluYXJ5X3N0cmluZ1wiLGNhblNlbmRCaW5hcnk6XCJzZW5kX2JpbmFyeVwiLHRyaWdnZXJEaWFsb2c6XCJzdW1tb25fZmlsZV9kaWFsb2dcIn07cltlXT9uW3JbZV1dPXQ6aXx8KG5bZV09dCl9dmFyIGk9ZS5yZXF1aXJlZF9mZWF0dXJlcyxuPXt9O3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBpP2wuZWFjaChpLnNwbGl0KC9cXHMqLFxccyovKSxmdW5jdGlvbihlKXt0KGUsITApfSk6XCJvYmplY3RcIj09dHlwZW9mIGk/bC5lYWNoKGksZnVuY3Rpb24oZSxpKXt0KGksZSl9KTppPT09ITAmJihlLmNodW5rX3NpemUmJmUuY2h1bmtfc2l6ZT4wJiYobi5zbGljZV9ibG9iPSEwKSxsLmlzRW1wdHlPYmooZS5yZXNpemUpJiZlLm11bHRpcGFydCE9PSExfHwobi5zZW5kX2JpbmFyeV9zdHJpbmc9ITApLGUuaHR0cF9tZXRob2QmJihuLnVzZV9odHRwX21ldGhvZD1lLmh0dHBfbWV0aG9kKSxsLmVhY2goZSxmdW5jdGlvbihlLGkpe3QoaSwhIWUsITApfSkpLG59dmFyIHI9d2luZG93LnNldFRpbWVvdXQscz17fSxhPXQuY29yZS51dGlscyxvPXQucnVudGltZS5SdW50aW1lLGw9e1ZFUlNJT046XCIyLjMuNlwiLFNUT1BQRUQ6MSxTVEFSVEVEOjIsUVVFVUVEOjEsVVBMT0FESU5HOjIsRkFJTEVEOjQsRE9ORTo1LEdFTkVSSUNfRVJST1I6LTEwMCxIVFRQX0VSUk9SOi0yMDAsSU9fRVJST1I6LTMwMCxTRUNVUklUWV9FUlJPUjotNDAwLElOSVRfRVJST1I6LTUwMCxGSUxFX1NJWkVfRVJST1I6LTYwMCxGSUxFX0VYVEVOU0lPTl9FUlJPUjotNjAxLEZJTEVfRFVQTElDQVRFX0VSUk9SOi02MDIsSU1BR0VfRk9STUFUX0VSUk9SOi03MDAsTUVNT1JZX0VSUk9SOi03MDEsSU1BR0VfRElNRU5TSU9OU19FUlJPUjotNzAyLG1veGllOnQsbWltZVR5cGVzOmEuTWltZS5taW1lcyx1YTphLkVudix0eXBlT2Y6YS5CYXNpYy50eXBlT2YsZXh0ZW5kOmEuQmFzaWMuZXh0ZW5kLGd1aWQ6YS5CYXNpYy5ndWlkLGdldEFsbDpmdW5jdGlvbihlKXt2YXIgdCxpPVtdO1wiYXJyYXlcIiE9PWwudHlwZU9mKGUpJiYoZT1bZV0pO2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KXQ9bC5nZXQoZVtuXSksdCYmaS5wdXNoKHQpO3JldHVybiBpLmxlbmd0aD9pOm51bGx9LGdldDphLkRvbS5nZXQsZWFjaDphLkJhc2ljLmVhY2gsZ2V0UG9zOmEuRG9tLmdldFBvcyxnZXRTaXplOmEuRG9tLmdldFNpemUseG1sRW5jb2RlOmZ1bmN0aW9uKGUpe3ZhciB0PXtcIjxcIjpcImx0XCIsXCI+XCI6XCJndFwiLFwiJlwiOlwiYW1wXCIsJ1wiJzpcInF1b3RcIixcIidcIjpcIiMzOVwifSxpPS9bPD4mXFxcIlxcJ10vZztyZXR1cm4gZT8oXCJcIitlKS5yZXBsYWNlKGksZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV0/XCImXCIrdFtlXStcIjtcIjplfSk6ZX0sdG9BcnJheTphLkJhc2ljLnRvQXJyYXksaW5BcnJheTphLkJhc2ljLmluQXJyYXksaW5TZXJpZXM6YS5CYXNpYy5pblNlcmllcyxhZGRJMThuOnQuY29yZS5JMThuLmFkZEkxOG4sdHJhbnNsYXRlOnQuY29yZS5JMThuLnRyYW5zbGF0ZSxzcHJpbnRmOmEuQmFzaWMuc3ByaW50Zixpc0VtcHR5T2JqOmEuQmFzaWMuaXNFbXB0eU9iaixoYXNDbGFzczphLkRvbS5oYXNDbGFzcyxhZGRDbGFzczphLkRvbS5hZGRDbGFzcyxyZW1vdmVDbGFzczphLkRvbS5yZW1vdmVDbGFzcyxnZXRTdHlsZTphLkRvbS5nZXRTdHlsZSxhZGRFdmVudDphLkV2ZW50cy5hZGRFdmVudCxyZW1vdmVFdmVudDphLkV2ZW50cy5yZW1vdmVFdmVudCxyZW1vdmVBbGxFdmVudHM6YS5FdmVudHMucmVtb3ZlQWxsRXZlbnRzLGNsZWFuTmFtZTpmdW5jdGlvbihlKXt2YXIgdCxpO2ZvcihpPVsvW1xcMzAwLVxcMzA2XS9nLFwiQVwiLC9bXFwzNDAtXFwzNDZdL2csXCJhXCIsL1xcMzA3L2csXCJDXCIsL1xcMzQ3L2csXCJjXCIsL1tcXDMxMC1cXDMxM10vZyxcIkVcIiwvW1xcMzUwLVxcMzUzXS9nLFwiZVwiLC9bXFwzMTQtXFwzMTddL2csXCJJXCIsL1tcXDM1NC1cXDM1N10vZyxcImlcIiwvXFwzMjEvZyxcIk5cIiwvXFwzNjEvZyxcIm5cIiwvW1xcMzIyLVxcMzMwXS9nLFwiT1wiLC9bXFwzNjItXFwzNzBdL2csXCJvXCIsL1tcXDMzMS1cXDMzNF0vZyxcIlVcIiwvW1xcMzcxLVxcMzc0XS9nLFwidVwiXSx0PTA7dDxpLmxlbmd0aDt0Kz0yKWU9ZS5yZXBsYWNlKGlbdF0saVt0KzFdKTtyZXR1cm4gZT1lLnJlcGxhY2UoL1xccysvZyxcIl9cIiksZT1lLnJlcGxhY2UoL1teYS16MC05X1xcLVxcLl0rL2dpLFwiXCIpfSxidWlsZFVybDpmdW5jdGlvbihlLHQpe3ZhciBpPVwiXCI7cmV0dXJuIGwuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7aSs9KGk/XCImXCI6XCJcIikrZW5jb2RlVVJJQ29tcG9uZW50KHQpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChlKX0pLGkmJihlKz0oZS5pbmRleE9mKFwiP1wiKT4wP1wiJlwiOlwiP1wiKStpKSxlfSxmb3JtYXRTaXplOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXtyZXR1cm4gTWF0aC5yb3VuZChlKk1hdGgucG93KDEwLHQpKS9NYXRoLnBvdygxMCx0KX1pZihlPT09aXx8L1xcRC8udGVzdChlKSlyZXR1cm4gbC50cmFuc2xhdGUoXCJOL0FcIik7dmFyIG49TWF0aC5wb3coMTAyNCw0KTtyZXR1cm4gZT5uP3QoZS9uLDEpK1wiIFwiK2wudHJhbnNsYXRlKFwidGJcIik6ZT4obi89MTAyNCk/dChlL24sMSkrXCIgXCIrbC50cmFuc2xhdGUoXCJnYlwiKTplPihuLz0xMDI0KT90KGUvbiwxKStcIiBcIitsLnRyYW5zbGF0ZShcIm1iXCIpOmU+MTAyND9NYXRoLnJvdW5kKGUvMTAyNCkrXCIgXCIrbC50cmFuc2xhdGUoXCJrYlwiKTplK1wiIFwiK2wudHJhbnNsYXRlKFwiYlwiKX0scGFyc2VTaXplOmEuQmFzaWMucGFyc2VTaXplU3RyLHByZWRpY3RSdW50aW1lOmZ1bmN0aW9uKGUsdCl7dmFyIGksbjtyZXR1cm4gaT1uZXcgbC5VcGxvYWRlcihlKSxuPW8udGhhdENhbihpLmdldE9wdGlvbigpLnJlcXVpcmVkX2ZlYXR1cmVzLHR8fGUucnVudGltZXMpLGkuZGVzdHJveSgpLG59LGFkZEZpbGVGaWx0ZXI6ZnVuY3Rpb24oZSx0KXtzW2VdPXR9fTtsLmFkZEZpbGVGaWx0ZXIoXCJtaW1lX3R5cGVzXCIsZnVuY3Rpb24oZSx0LGkpe2UubGVuZ3RoJiYhZS5yZWdleHAudGVzdCh0Lm5hbWUpPyh0aGlzLnRyaWdnZXIoXCJFcnJvclwiLHtjb2RlOmwuRklMRV9FWFRFTlNJT05fRVJST1IsbWVzc2FnZTpsLnRyYW5zbGF0ZShcIkZpbGUgZXh0ZW5zaW9uIGVycm9yLlwiKSxmaWxlOnR9KSxpKCExKSk6aSghMCl9KSxsLmFkZEZpbGVGaWx0ZXIoXCJtYXhfZmlsZV9zaXplXCIsZnVuY3Rpb24oZSx0LGkpe3ZhciBuO2U9bC5wYXJzZVNpemUoZSksdC5zaXplIT09biYmZSYmdC5zaXplPmU/KHRoaXMudHJpZ2dlcihcIkVycm9yXCIse2NvZGU6bC5GSUxFX1NJWkVfRVJST1IsbWVzc2FnZTpsLnRyYW5zbGF0ZShcIkZpbGUgc2l6ZSBlcnJvci5cIiksZmlsZTp0fSksaSghMSkpOmkoITApfSksbC5hZGRGaWxlRmlsdGVyKFwicHJldmVudF9kdXBsaWNhdGVzXCIsZnVuY3Rpb24oZSx0LGkpe2lmKGUpZm9yKHZhciBuPXRoaXMuZmlsZXMubGVuZ3RoO24tLTspaWYodC5uYW1lPT09dGhpcy5maWxlc1tuXS5uYW1lJiZ0LnNpemU9PT10aGlzLmZpbGVzW25dLnNpemUpcmV0dXJuIHRoaXMudHJpZ2dlcihcIkVycm9yXCIse2NvZGU6bC5GSUxFX0RVUExJQ0FURV9FUlJPUixtZXNzYWdlOmwudHJhbnNsYXRlKFwiRHVwbGljYXRlIGZpbGUgZXJyb3IuXCIpLGZpbGU6dH0pLGkoITEpLHZvaWQgMDtpKCEwKX0pLGwuYWRkRmlsZUZpbHRlcihcInByZXZlbnRfZW1wdHlcIixmdW5jdGlvbihlLHQsbil7ZSYmIXQuc2l6ZSYmdC5zaXplIT09aT8odGhpcy50cmlnZ2VyKFwiRXJyb3JcIix7Y29kZTpsLkZJTEVfU0laRV9FUlJPUixtZXNzYWdlOmwudHJhbnNsYXRlKFwiRmlsZSBzaXplIGVycm9yLlwiKSxmaWxlOnR9KSxuKCExKSk6bighMCl9KSxsLlVwbG9hZGVyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGEoKXt2YXIgZSx0LGk9MDtpZih0aGlzLnN0YXRlPT1sLlNUQVJURUQpe2Zvcih0PTA7dDxELmxlbmd0aDt0KyspZXx8RFt0XS5zdGF0dXMhPWwuUVVFVUVEP2krKzooZT1EW3RdLHRoaXMudHJpZ2dlcihcIkJlZm9yZVVwbG9hZFwiLGUpJiYoZS5zdGF0dXM9bC5VUExPQURJTkcsdGhpcy50cmlnZ2VyKFwiVXBsb2FkRmlsZVwiLGUpKSk7aT09RC5sZW5ndGgmJih0aGlzLnN0YXRlIT09bC5TVE9QUEVEJiYodGhpcy5zdGF0ZT1sLlNUT1BQRUQsdGhpcy50cmlnZ2VyKFwiU3RhdGVDaGFuZ2VkXCIpKSx0aGlzLnRyaWdnZXIoXCJVcGxvYWRDb21wbGV0ZVwiLEQpKX19ZnVuY3Rpb24gdShlKXtlLnBlcmNlbnQ9ZS5zaXplPjA/TWF0aC5jZWlsKDEwMCooZS5sb2FkZWQvZS5zaXplKSk6MTAwLGQoKX1mdW5jdGlvbiBkKCl7dmFyIGUsdCxuLHI9MDtmb3IoSS5yZXNldCgpLGU9MDtlPEQubGVuZ3RoO2UrKyl0PURbZV0sdC5zaXplIT09aT8oSS5zaXplKz10Lm9yaWdTaXplLG49dC5sb2FkZWQqdC5vcmlnU2l6ZS90LnNpemUsKCF0LmNvbXBsZXRlVGltZXN0YW1wfHx0LmNvbXBsZXRlVGltZXN0YW1wPlMpJiYocis9biksSS5sb2FkZWQrPW4pOkkuc2l6ZT1pLHQuc3RhdHVzPT1sLkRPTkU/SS51cGxvYWRlZCsrOnQuc3RhdHVzPT1sLkZBSUxFRD9JLmZhaWxlZCsrOkkucXVldWVkKys7SS5zaXplPT09aT9JLnBlcmNlbnQ9RC5sZW5ndGg+MD9NYXRoLmNlaWwoMTAwKihJLnVwbG9hZGVkL0QubGVuZ3RoKSk6MDooSS5ieXRlc1BlclNlYz1NYXRoLmNlaWwoci8oKCtuZXcgRGF0ZS1TfHwxKS8xZTMpKSxJLnBlcmNlbnQ9SS5zaXplPjA/TWF0aC5jZWlsKDEwMCooSS5sb2FkZWQvSS5zaXplKSk6MCl9ZnVuY3Rpb24gYygpe3ZhciBlPUZbMF18fFBbMF07cmV0dXJuIGU/ZS5nZXRSdW50aW1lKCkudWlkOiExfWZ1bmN0aW9uIGYoKXt0aGlzLmJpbmQoXCJGaWxlc0FkZGVkIEZpbGVzUmVtb3ZlZFwiLGZ1bmN0aW9uKGUpe2UudHJpZ2dlcihcIlF1ZXVlQ2hhbmdlZFwiKSxlLnJlZnJlc2goKX0pLHRoaXMuYmluZChcIkNhbmNlbFVwbG9hZFwiLGIpLHRoaXMuYmluZChcIkJlZm9yZVVwbG9hZFwiLG0pLHRoaXMuYmluZChcIlVwbG9hZEZpbGVcIixfKSx0aGlzLmJpbmQoXCJVcGxvYWRQcm9ncmVzc1wiLEUpLHRoaXMuYmluZChcIlN0YXRlQ2hhbmdlZFwiLHYpLHRoaXMuYmluZChcIlF1ZXVlQ2hhbmdlZFwiLGQpLHRoaXMuYmluZChcIkVycm9yXCIsUiksdGhpcy5iaW5kKFwiRmlsZVVwbG9hZGVkXCIseSksdGhpcy5iaW5kKFwiRGVzdHJveVwiLHopfWZ1bmN0aW9uIHAoZSxpKXt2YXIgbj10aGlzLHI9MCxzPVtdLGE9e3J1bnRpbWVfb3JkZXI6ZS5ydW50aW1lcyxyZXF1aXJlZF9jYXBzOmUucmVxdWlyZWRfZmVhdHVyZXMscHJlZmVycmVkX2NhcHM6eCxzd2ZfdXJsOmUuZmxhc2hfc3dmX3VybCx4YXBfdXJsOmUuc2lsdmVybGlnaHRfeGFwX3VybH07bC5lYWNoKGUucnVudGltZXMuc3BsaXQoL1xccyosXFxzKi8pLGZ1bmN0aW9uKHQpe2VbdF0mJihhW3RdPWVbdF0pfSksZS5icm93c2VfYnV0dG9uJiZsLmVhY2goZS5icm93c2VfYnV0dG9uLGZ1bmN0aW9uKGkpe3MucHVzaChmdW5jdGlvbihzKXt2YXIgdT1uZXcgdC5maWxlLkZpbGVJbnB1dChsLmV4dGVuZCh7fSxhLHthY2NlcHQ6ZS5maWx0ZXJzLm1pbWVfdHlwZXMsbmFtZTplLmZpbGVfZGF0YV9uYW1lLG11bHRpcGxlOmUubXVsdGlfc2VsZWN0aW9uLGNvbnRhaW5lcjplLmNvbnRhaW5lcixicm93c2VfYnV0dG9uOml9KSk7dS5vbnJlYWR5PWZ1bmN0aW9uKCl7dmFyIGU9by5nZXRJbmZvKHRoaXMucnVpZCk7bC5leHRlbmQobi5mZWF0dXJlcyx7Y2h1bmtzOmUuY2FuKFwic2xpY2VfYmxvYlwiKSxtdWx0aXBhcnQ6ZS5jYW4oXCJzZW5kX211bHRpcGFydFwiKSxtdWx0aV9zZWxlY3Rpb246ZS5jYW4oXCJzZWxlY3RfbXVsdGlwbGVcIil9KSxyKyssRi5wdXNoKHRoaXMpLHMoKX0sdS5vbmNoYW5nZT1mdW5jdGlvbigpe24uYWRkRmlsZSh0aGlzLmZpbGVzKX0sdS5iaW5kKFwibW91c2VlbnRlciBtb3VzZWxlYXZlIG1vdXNlZG93biBtb3VzZXVwXCIsZnVuY3Rpb24odCl7VXx8KGUuYnJvd3NlX2J1dHRvbl9ob3ZlciYmKFwibW91c2VlbnRlclwiPT09dC50eXBlP2wuYWRkQ2xhc3MoaSxlLmJyb3dzZV9idXR0b25faG92ZXIpOlwibW91c2VsZWF2ZVwiPT09dC50eXBlJiZsLnJlbW92ZUNsYXNzKGksZS5icm93c2VfYnV0dG9uX2hvdmVyKSksZS5icm93c2VfYnV0dG9uX2FjdGl2ZSYmKFwibW91c2Vkb3duXCI9PT10LnR5cGU/bC5hZGRDbGFzcyhpLGUuYnJvd3NlX2J1dHRvbl9hY3RpdmUpOlwibW91c2V1cFwiPT09dC50eXBlJiZsLnJlbW92ZUNsYXNzKGksZS5icm93c2VfYnV0dG9uX2FjdGl2ZSkpKX0pLHUuYmluZChcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7bi50cmlnZ2VyKFwiQnJvd3NlXCIpfSksdS5iaW5kKFwiZXJyb3IgcnVudGltZWVycm9yXCIsZnVuY3Rpb24oKXt1PW51bGwscygpfSksdS5pbml0KCl9KX0pLGUuZHJvcF9lbGVtZW50JiZsLmVhY2goZS5kcm9wX2VsZW1lbnQsZnVuY3Rpb24oZSl7cy5wdXNoKGZ1bmN0aW9uKGkpe3ZhciBzPW5ldyB0LmZpbGUuRmlsZURyb3AobC5leHRlbmQoe30sYSx7ZHJvcF96b25lOmV9KSk7cy5vbnJlYWR5PWZ1bmN0aW9uKCl7dmFyIGU9by5nZXRJbmZvKHRoaXMucnVpZCk7bC5leHRlbmQobi5mZWF0dXJlcyx7Y2h1bmtzOmUuY2FuKFwic2xpY2VfYmxvYlwiKSxtdWx0aXBhcnQ6ZS5jYW4oXCJzZW5kX211bHRpcGFydFwiKSxkcmFnZHJvcDplLmNhbihcImRyYWdfYW5kX2Ryb3BcIil9KSxyKyssUC5wdXNoKHRoaXMpLGkoKX0scy5vbmRyb3A9ZnVuY3Rpb24oKXtuLmFkZEZpbGUodGhpcy5maWxlcyl9LHMuYmluZChcImVycm9yIHJ1bnRpbWVlcnJvclwiLGZ1bmN0aW9uKCl7cz1udWxsLGkoKX0pLHMuaW5pdCgpfSl9KSxsLmluU2VyaWVzKHMsZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZpKHIpfSl9ZnVuY3Rpb24gZyhlLG4scixzKXt2YXIgYT1uZXcgdC5pbWFnZS5JbWFnZTt0cnl7YS5vbmxvYWQ9ZnVuY3Rpb24oKXtuLndpZHRoPnRoaXMud2lkdGgmJm4uaGVpZ2h0PnRoaXMuaGVpZ2h0JiZuLnF1YWxpdHk9PT1pJiZuLnByZXNlcnZlX2hlYWRlcnMmJiFuLmNyb3A/KHRoaXMuZGVzdHJveSgpLHMoZSkpOmEuZG93bnNpemUobi53aWR0aCxuLmhlaWdodCxuLmNyb3Asbi5wcmVzZXJ2ZV9oZWFkZXJzKX0sYS5vbnJlc2l6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0QXNCbG9iKGUudHlwZSxuLnF1YWxpdHkpO3RoaXMuZGVzdHJveSgpLHModCl9LGEuYmluZChcImVycm9yIHJ1bnRpbWVlcnJvclwiLGZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCkscyhlKX0pLGEubG9hZChlLHIpfWNhdGNoKG8pe3MoZSl9fWZ1bmN0aW9uIGgoZSxpLHIpe2Z1bmN0aW9uIHMoZSxpLG4pe3ZhciByPU9bZV07c3dpdGNoKGUpe2Nhc2VcIm1heF9maWxlX3NpemVcIjpcIm1heF9maWxlX3NpemVcIj09PWUmJihPLm1heF9maWxlX3NpemU9Ty5maWx0ZXJzLm1heF9maWxlX3NpemU9aSk7YnJlYWs7Y2FzZVwiY2h1bmtfc2l6ZVwiOihpPWwucGFyc2VTaXplKGkpKSYmKE9bZV09aSxPLnNlbmRfZmlsZV9uYW1lPSEwKTticmVhaztjYXNlXCJtdWx0aXBhcnRcIjpPW2VdPWksaXx8KE8uc2VuZF9maWxlX25hbWU9ITApO2JyZWFrO2Nhc2VcImh0dHBfbWV0aG9kXCI6T1tlXT1cIlBVVFwiPT09aS50b1VwcGVyQ2FzZSgpP1wiUFVUXCI6XCJQT1NUXCI7YnJlYWs7Y2FzZVwidW5pcXVlX25hbWVzXCI6T1tlXT1pLGkmJihPLnNlbmRfZmlsZV9uYW1lPSEwKTticmVhaztjYXNlXCJmaWx0ZXJzXCI6XCJhcnJheVwiPT09bC50eXBlT2YoaSkmJihpPXttaW1lX3R5cGVzOml9KSxuP2wuZXh0ZW5kKE8uZmlsdGVycyxpKTpPLmZpbHRlcnM9aSxpLm1pbWVfdHlwZXMmJihcInN0cmluZ1wiPT09bC50eXBlT2YoaS5taW1lX3R5cGVzKSYmKGkubWltZV90eXBlcz10LmNvcmUudXRpbHMuTWltZS5taW1lczJleHRMaXN0KGkubWltZV90eXBlcykpLGkubWltZV90eXBlcy5yZWdleHA9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGwuZWFjaChlLGZ1bmN0aW9uKGUpe2wuZWFjaChlLmV4dGVuc2lvbnMuc3BsaXQoLywvKSxmdW5jdGlvbihlKXsvXlxccypcXCpcXHMqJC8udGVzdChlKT90LnB1c2goXCJcXFxcLipcIik6dC5wdXNoKFwiXFxcXC5cIitlLnJlcGxhY2UobmV3IFJlZ0V4cChcIltcIitcIi9eJC4qKz98KClbXXt9XFxcXFwiLnJlcGxhY2UoLy4vZyxcIlxcXFwkJlwiKStcIl1cIixcImdcIiksXCJcXFxcJCZcIikpfSl9KSxuZXcgUmVnRXhwKFwiKFwiK3Quam9pbihcInxcIikrXCIpJFwiLFwiaVwiKX0oaS5taW1lX3R5cGVzKSxPLmZpbHRlcnMubWltZV90eXBlcz1pLm1pbWVfdHlwZXMpO2JyZWFrO2Nhc2VcInJlc2l6ZVwiOk8ucmVzaXplPWk/bC5leHRlbmQoe3ByZXNlcnZlX2hlYWRlcnM6ITAsY3JvcDohMX0saSk6ITE7YnJlYWs7Y2FzZVwicHJldmVudF9kdXBsaWNhdGVzXCI6Ty5wcmV2ZW50X2R1cGxpY2F0ZXM9Ty5maWx0ZXJzLnByZXZlbnRfZHVwbGljYXRlcz0hIWk7YnJlYWs7Y2FzZVwiY29udGFpbmVyXCI6Y2FzZVwiYnJvd3NlX2J1dHRvblwiOmNhc2VcImRyb3BfZWxlbWVudFwiOmk9XCJjb250YWluZXJcIj09PWU/bC5nZXQoaSk6bC5nZXRBbGwoaSk7Y2FzZVwicnVudGltZXNcIjpjYXNlXCJtdWx0aV9zZWxlY3Rpb25cIjpjYXNlXCJmbGFzaF9zd2ZfdXJsXCI6Y2FzZVwic2lsdmVybGlnaHRfeGFwX3VybFwiOk9bZV09aSxufHwodT0hMCk7YnJlYWs7ZGVmYXVsdDpPW2VdPWl9bnx8YS50cmlnZ2VyKFwiT3B0aW9uQ2hhbmdlZFwiLGUsaSxyKX12YXIgYT10aGlzLHU9ITE7XCJvYmplY3RcIj09dHlwZW9mIGU/bC5lYWNoKGUsZnVuY3Rpb24oZSx0KXtzKHQsZSxyKX0pOnMoZSxpLHIpLHI/KE8ucmVxdWlyZWRfZmVhdHVyZXM9bihsLmV4dGVuZCh7fSxPKSkseD1uKGwuZXh0ZW5kKHt9LE8se3JlcXVpcmVkX2ZlYXR1cmVzOiEwfSkpKTp1JiYoYS50cmlnZ2VyKFwiRGVzdHJveVwiKSxwLmNhbGwoYSxPLGZ1bmN0aW9uKGUpe2U/KGEucnVudGltZT1vLmdldEluZm8oYygpKS50eXBlLGEudHJpZ2dlcihcIkluaXRcIix7cnVudGltZTphLnJ1bnRpbWV9KSxhLnRyaWdnZXIoXCJQb3N0SW5pdFwiKSk6YS50cmlnZ2VyKFwiRXJyb3JcIix7Y29kZTpsLklOSVRfRVJST1IsbWVzc2FnZTpsLnRyYW5zbGF0ZShcIkluaXQgZXJyb3IuXCIpfSl9KSl9ZnVuY3Rpb24gbShlLHQpe2lmKGUuc2V0dGluZ3MudW5pcXVlX25hbWVzKXt2YXIgaT10Lm5hbWUubWF0Y2goL1xcLihbXi5dKykkLyksbj1cInBhcnRcIjtpJiYobj1pWzFdKSx0LnRhcmdldF9uYW1lPXQuaWQrXCIuXCIrbn19ZnVuY3Rpb24gXyhlLGkpe2Z1bmN0aW9uIG4oKXtjLS0+MD9yKHMsMWUzKTooaS5sb2FkZWQ9cCxlLnRyaWdnZXIoXCJFcnJvclwiLHtjb2RlOmwuSFRUUF9FUlJPUixtZXNzYWdlOmwudHJhbnNsYXRlKFwiSFRUUCBFcnJvci5cIiksZmlsZTppLHJlc3BvbnNlOlQucmVzcG9uc2VUZXh0LHN0YXR1czpULnN0YXR1cyxyZXNwb25zZUhlYWRlcnM6VC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKX0pKX1mdW5jdGlvbiBzKCl7dmFyIHQsbixyPXt9O2kuc3RhdHVzPT09bC5VUExPQURJTkcmJmUuc3RhdGUhPT1sLlNUT1BQRUQmJihlLnNldHRpbmdzLnNlbmRfZmlsZV9uYW1lJiYoci5uYW1lPWkudGFyZ2V0X25hbWV8fGkubmFtZSksZCYmZi5jaHVua3MmJm8uc2l6ZT5kPyhuPU1hdGgubWluKGQsby5zaXplLXApLHQ9by5zbGljZShwLHArbikpOihuPW8uc2l6ZSx0PW8pLGQmJmYuY2h1bmtzJiYoZS5zZXR0aW5ncy5zZW5kX2NodW5rX251bWJlcj8oci5jaHVuaz1NYXRoLmNlaWwocC9kKSxyLmNodW5rcz1NYXRoLmNlaWwoby5zaXplL2QpKTooci5vZmZzZXQ9cCxyLnRvdGFsPW8uc2l6ZSkpLGUudHJpZ2dlcihcIkJlZm9yZUNodW5rVXBsb2FkXCIsaSxyLHQscCkmJmEocix0LG4pKX1mdW5jdGlvbiBhKGEsZCxnKXt2YXIgbTtUPW5ldyB0Lnhoci5YTUxIdHRwUmVxdWVzdCxULnVwbG9hZCYmKFQudXBsb2FkLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24odCl7aS5sb2FkZWQ9TWF0aC5taW4oaS5zaXplLHArdC5sb2FkZWQpLGUudHJpZ2dlcihcIlVwbG9hZFByb2dyZXNzXCIsaSl9KSxULm9ubG9hZD1mdW5jdGlvbigpe3JldHVybiBULnN0YXR1czwyMDB8fFQuc3RhdHVzPj00MDA/KG4oKSx2b2lkIDApOihjPWUuc2V0dGluZ3MubWF4X3JldHJpZXMsZzxvLnNpemU/KGQuZGVzdHJveSgpLHArPWcsaS5sb2FkZWQ9TWF0aC5taW4ocCxvLnNpemUpLGUudHJpZ2dlcihcIkNodW5rVXBsb2FkZWRcIixpLHtvZmZzZXQ6aS5sb2FkZWQsdG90YWw6by5zaXplLHJlc3BvbnNlOlQucmVzcG9uc2VUZXh0LHN0YXR1czpULnN0YXR1cyxyZXNwb25zZUhlYWRlcnM6VC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKX0pLFwiQW5kcm9pZCBCcm93c2VyXCI9PT1sLnVhLmJyb3dzZXImJmUudHJpZ2dlcihcIlVwbG9hZFByb2dyZXNzXCIsaSkpOmkubG9hZGVkPWkuc2l6ZSxkPW09bnVsbCwhcHx8cD49by5zaXplPyhpLnNpemUhPWkub3JpZ1NpemUmJihvLmRlc3Ryb3koKSxvPW51bGwpLGUudHJpZ2dlcihcIlVwbG9hZFByb2dyZXNzXCIsaSksaS5zdGF0dXM9bC5ET05FLGkuY29tcGxldGVUaW1lc3RhbXA9K25ldyBEYXRlLGUudHJpZ2dlcihcIkZpbGVVcGxvYWRlZFwiLGkse3Jlc3BvbnNlOlQucmVzcG9uc2VUZXh0LHN0YXR1czpULnN0YXR1cyxyZXNwb25zZUhlYWRlcnM6VC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKX0pKTpyKHMsMSksdm9pZCAwKX0sVC5vbmVycm9yPWZ1bmN0aW9uKCl7bigpfSxULm9ubG9hZGVuZD1mdW5jdGlvbigpe3RoaXMuZGVzdHJveSgpfSxlLnNldHRpbmdzLm11bHRpcGFydCYmZi5tdWx0aXBhcnQ/KFQub3BlbihlLnNldHRpbmdzLmh0dHBfbWV0aG9kLHUsITApLGwuZWFjaChlLnNldHRpbmdzLmhlYWRlcnMsZnVuY3Rpb24oZSx0KXtULnNldFJlcXVlc3RIZWFkZXIodCxlKX0pLG09bmV3IHQueGhyLkZvcm1EYXRhLGwuZWFjaChsLmV4dGVuZChhLGUuc2V0dGluZ3MubXVsdGlwYXJ0X3BhcmFtcyksZnVuY3Rpb24oZSx0KXttLmFwcGVuZCh0LGUpfSksbS5hcHBlbmQoZS5zZXR0aW5ncy5maWxlX2RhdGFfbmFtZSxkKSxULnNlbmQobSxoKSk6KHU9bC5idWlsZFVybChlLnNldHRpbmdzLnVybCxsLmV4dGVuZChhLGUuc2V0dGluZ3MubXVsdGlwYXJ0X3BhcmFtcykpLFQub3BlbihlLnNldHRpbmdzLmh0dHBfbWV0aG9kLHUsITApLGwuZWFjaChlLnNldHRpbmdzLmhlYWRlcnMsZnVuY3Rpb24oZSx0KXtULnNldFJlcXVlc3RIZWFkZXIodCxlKX0pLFQuaGFzUmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKXx8VC5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIiksVC5zZW5kKGQsaCkpfXZhciBvLHU9ZS5zZXR0aW5ncy51cmwsZD1lLnNldHRpbmdzLmNodW5rX3NpemUsYz1lLnNldHRpbmdzLm1heF9yZXRyaWVzLGY9ZS5mZWF0dXJlcyxwPTAsaD17cnVudGltZV9vcmRlcjplLnNldHRpbmdzLnJ1bnRpbWVzLHJlcXVpcmVkX2NhcHM6ZS5zZXR0aW5ncy5yZXF1aXJlZF9mZWF0dXJlcyxwcmVmZXJyZWRfY2Fwczp4LHN3Zl91cmw6ZS5zZXR0aW5ncy5mbGFzaF9zd2ZfdXJsLHhhcF91cmw6ZS5zZXR0aW5ncy5zaWx2ZXJsaWdodF94YXBfdXJsfTtpLmxvYWRlZCYmKHA9aS5sb2FkZWQ9ZD9kKk1hdGguZmxvb3IoaS5sb2FkZWQvZCk6MCksbz1pLmdldFNvdXJjZSgpLGwuaXNFbXB0eU9iaihlLnNldHRpbmdzLnJlc2l6ZSl8fC0xPT09bC5pbkFycmF5KG8udHlwZSxbXCJpbWFnZS9qcGVnXCIsXCJpbWFnZS9wbmdcIl0pP3MoKTpnKG8sZS5zZXR0aW5ncy5yZXNpemUsaCxmdW5jdGlvbihlKXtvPWUsaS5zaXplPWUuc2l6ZSxzKCl9KX1mdW5jdGlvbiBFKGUsdCl7dSh0KX1mdW5jdGlvbiB2KGUpe2lmKGUuc3RhdGU9PWwuU1RBUlRFRClTPStuZXcgRGF0ZTtlbHNlIGlmKGUuc3RhdGU9PWwuU1RPUFBFRClmb3IodmFyIHQ9ZS5maWxlcy5sZW5ndGgtMTt0Pj0wO3QtLSllLmZpbGVzW3RdLnN0YXR1cz09bC5VUExPQURJTkcmJihlLmZpbGVzW3RdLnN0YXR1cz1sLlFVRVVFRCxkKCkpfWZ1bmN0aW9uIGIoKXtUJiZULmFib3J0KCl9ZnVuY3Rpb24geShlKXtkKCkscihmdW5jdGlvbigpe2EuY2FsbChlKX0sMSl9ZnVuY3Rpb24gUihlLHQpe3QuY29kZT09PWwuSU5JVF9FUlJPUj9lLmRlc3Ryb3koKTp0LmNvZGU9PT1sLkhUVFBfRVJST1ImJih0LmZpbGUuc3RhdHVzPWwuRkFJTEVELHQuZmlsZS5jb21wbGV0ZVRpbWVzdGFtcD0rbmV3IERhdGUsdSh0LmZpbGUpLGUuc3RhdGU9PWwuU1RBUlRFRCYmKGUudHJpZ2dlcihcIkNhbmNlbFVwbG9hZFwiKSxyKGZ1bmN0aW9uKCl7YS5jYWxsKGUpfSwxKSkpfWZ1bmN0aW9uIHooZSl7ZS5zdG9wKCksbC5lYWNoKEQsZnVuY3Rpb24oZSl7ZS5kZXN0cm95KCl9KSxEPVtdLEYubGVuZ3RoJiYobC5lYWNoKEYsZnVuY3Rpb24oZSl7ZS5kZXN0cm95KCl9KSxGPVtdKSxQLmxlbmd0aCYmKGwuZWFjaChQLGZ1bmN0aW9uKGUpe2UuZGVzdHJveSgpfSksUD1bXSkseD17fSxVPSExLFM9VD1udWxsLEkucmVzZXQoKX12YXIgTyxTLEksVCx3PWwuZ3VpZCgpLEQ9W10seD17fSxGPVtdLFA9W10sVT0hMTtPPXtjaHVua19zaXplOjAsZmlsZV9kYXRhX25hbWU6XCJmaWxlXCIsZmlsdGVyczp7bWltZV90eXBlczpbXSxtYXhfZmlsZV9zaXplOjAscHJldmVudF9kdXBsaWNhdGVzOiExLHByZXZlbnRfZW1wdHk6ITB9LGZsYXNoX3N3Zl91cmw6XCJqcy9Nb3hpZS5zd2ZcIixodHRwX21ldGhvZDpcIlBPU1RcIixtYXhfcmV0cmllczowLG11bHRpcGFydDohMCxtdWx0aV9zZWxlY3Rpb246ITAscmVzaXplOiExLHJ1bnRpbWVzOm8ub3JkZXIsc2VuZF9maWxlX25hbWU6ITAsc2VuZF9jaHVua19udW1iZXI6ITAsc2lsdmVybGlnaHRfeGFwX3VybDpcImpzL01veGllLnhhcFwifSxoLmNhbGwodGhpcyxlLG51bGwsITApLEk9bmV3IGwuUXVldWVQcm9ncmVzcyxsLmV4dGVuZCh0aGlzLHtpZDp3LHVpZDp3LHN0YXRlOmwuU1RPUFBFRCxmZWF0dXJlczp7fSxydW50aW1lOm51bGwsZmlsZXM6RCxzZXR0aW5nczpPLHRvdGFsOkksaW5pdDpmdW5jdGlvbigpe3ZhciBlLHQsaT10aGlzO3JldHVybiBlPWkuZ2V0T3B0aW9uKFwicHJlaW5pdFwiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UoaSk6bC5lYWNoKGUsZnVuY3Rpb24oZSx0KXtpLmJpbmQodCxlKX0pLGYuY2FsbChpKSxsLmVhY2goW1wiY29udGFpbmVyXCIsXCJicm93c2VfYnV0dG9uXCIsXCJkcm9wX2VsZW1lbnRcIl0sZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1pLmdldE9wdGlvbihlKT8odD17Y29kZTpsLklOSVRfRVJST1IsbWVzc2FnZTpsLnNwcmludGYobC50cmFuc2xhdGUoXCIlcyBzcGVjaWZpZWQsIGJ1dCBjYW5ub3QgYmUgZm91bmQuXCIpLGUpfSwhMSk6dm9pZCAwfSksdD9pLnRyaWdnZXIoXCJFcnJvclwiLHQpOk8uYnJvd3NlX2J1dHRvbnx8Ty5kcm9wX2VsZW1lbnQ/KHAuY2FsbChpLE8sZnVuY3Rpb24oZSl7dmFyIHQ9aS5nZXRPcHRpb24oXCJpbml0XCIpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChpKTpsLmVhY2godCxmdW5jdGlvbihlLHQpe2kuYmluZCh0LGUpfSksZT8oaS5ydW50aW1lPW8uZ2V0SW5mbyhjKCkpLnR5cGUsaS50cmlnZ2VyKFwiSW5pdFwiLHtydW50aW1lOmkucnVudGltZX0pLGkudHJpZ2dlcihcIlBvc3RJbml0XCIpKTppLnRyaWdnZXIoXCJFcnJvclwiLHtjb2RlOmwuSU5JVF9FUlJPUixtZXNzYWdlOmwudHJhbnNsYXRlKFwiSW5pdCBlcnJvci5cIil9KX0pLHZvaWQgMCk6aS50cmlnZ2VyKFwiRXJyb3JcIix7Y29kZTpsLklOSVRfRVJST1IsbWVzc2FnZTpsLnRyYW5zbGF0ZShcIllvdSBtdXN0IHNwZWNpZnkgZWl0aGVyIGJyb3dzZV9idXR0b24gb3IgZHJvcF9lbGVtZW50LlwiKX0pfSxzZXRPcHRpb246ZnVuY3Rpb24oZSx0KXtoLmNhbGwodGhpcyxlLHQsIXRoaXMucnVudGltZSl9LGdldE9wdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gZT9PW2VdOk99LHJlZnJlc2g6ZnVuY3Rpb24oKXtGLmxlbmd0aCYmbC5lYWNoKEYsZnVuY3Rpb24oZSl7ZS50cmlnZ2VyKFwiUmVmcmVzaFwiKX0pLHRoaXMudHJpZ2dlcihcIlJlZnJlc2hcIil9LHN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZSE9bC5TVEFSVEVEJiYodGhpcy5zdGF0ZT1sLlNUQVJURUQsdGhpcy50cmlnZ2VyKFwiU3RhdGVDaGFuZ2VkXCIpLGEuY2FsbCh0aGlzKSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlIT1sLlNUT1BQRUQmJih0aGlzLnN0YXRlPWwuU1RPUFBFRCx0aGlzLnRyaWdnZXIoXCJTdGF0ZUNoYW5nZWRcIiksdGhpcy50cmlnZ2VyKFwiQ2FuY2VsVXBsb2FkXCIpKX0sZGlzYWJsZUJyb3dzZTpmdW5jdGlvbigpe1U9YXJndW1lbnRzWzBdIT09aT9hcmd1bWVudHNbMF06ITAsRi5sZW5ndGgmJmwuZWFjaChGLGZ1bmN0aW9uKGUpe2UuZGlzYWJsZShVKX0pLHRoaXMudHJpZ2dlcihcIkRpc2FibGVCcm93c2VcIixVKX0sZ2V0RmlsZTpmdW5jdGlvbihlKXt2YXIgdDtmb3IodD1ELmxlbmd0aC0xO3Q+PTA7dC0tKWlmKERbdF0uaWQ9PT1lKXJldHVybiBEW3RdfSxhZGRGaWxlOmZ1bmN0aW9uKGUsaSl7ZnVuY3Rpb24gbihlLHQpe3ZhciBpPVtdO2wuZWFjaCh1LnNldHRpbmdzLmZpbHRlcnMsZnVuY3Rpb24odCxuKXtzW25dJiZpLnB1c2goZnVuY3Rpb24oaSl7c1tuXS5jYWxsKHUsdCxlLGZ1bmN0aW9uKGUpe2koIWUpfSl9KX0pLGwuaW5TZXJpZXMoaSx0KX1mdW5jdGlvbiBhKGUpe3ZhciBzPWwudHlwZU9mKGUpO2lmKGUgaW5zdGFuY2VvZiB0LmZpbGUuRmlsZSl7aWYoIWUucnVpZCYmIWUuaXNEZXRhY2hlZCgpKXtpZighbylyZXR1cm4hMTtlLnJ1aWQ9byxlLmNvbm5lY3RSdW50aW1lKG8pfWEobmV3IGwuRmlsZShlKSl9ZWxzZSBlIGluc3RhbmNlb2YgdC5maWxlLkJsb2I/KGEoZS5nZXRTb3VyY2UoKSksZS5kZXN0cm95KCkpOmUgaW5zdGFuY2VvZiBsLkZpbGU/KGkmJihlLm5hbWU9aSksZC5wdXNoKGZ1bmN0aW9uKHQpe24oZSxmdW5jdGlvbihpKXtpfHwoRC5wdXNoKGUpLGYucHVzaChlKSx1LnRyaWdnZXIoXCJGaWxlRmlsdGVyZWRcIixlKSkscih0LDEpfSl9KSk6LTEhPT1sLmluQXJyYXkocyxbXCJmaWxlXCIsXCJibG9iXCJdKT9hKG5ldyB0LmZpbGUuRmlsZShudWxsLGUpKTpcIm5vZGVcIj09PXMmJlwiZmlsZWxpc3RcIj09PWwudHlwZU9mKGUuZmlsZXMpP2wuZWFjaChlLmZpbGVzLGEpOlwiYXJyYXlcIj09PXMmJihpPW51bGwsbC5lYWNoKGUsYSkpfXZhciBvLHU9dGhpcyxkPVtdLGY9W107bz1jKCksYShlKSxkLmxlbmd0aCYmbC5pblNlcmllcyhkLGZ1bmN0aW9uKCl7Zi5sZW5ndGgmJnUudHJpZ2dlcihcIkZpbGVzQWRkZWRcIixmKX0pfSxyZW1vdmVGaWxlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cInN0cmluZ1wiPT10eXBlb2YgZT9lOmUuaWQsaT1ELmxlbmd0aC0xO2k+PTA7aS0tKWlmKERbaV0uaWQ9PT10KXJldHVybiB0aGlzLnNwbGljZShpLDEpWzBdfSxzcGxpY2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1ELnNwbGljZShlPT09aT8wOmUsdD09PWk/RC5sZW5ndGg6dCkscj0hMTtyZXR1cm4gdGhpcy5zdGF0ZT09bC5TVEFSVEVEJiYobC5lYWNoKG4sZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdHVzPT09bC5VUExPQURJTkc/KHI9ITAsITEpOnZvaWQgMH0pLHImJnRoaXMuc3RvcCgpKSx0aGlzLnRyaWdnZXIoXCJGaWxlc1JlbW92ZWRcIixuKSxsLmVhY2gobixmdW5jdGlvbihlKXtlLmRlc3Ryb3koKX0pLHImJnRoaXMuc3RhcnQoKSxufSxkaXNwYXRjaEV2ZW50OmZ1bmN0aW9uKGUpe3ZhciB0LGk7aWYoZT1lLnRvTG93ZXJDYXNlKCksdD10aGlzLmhhc0V2ZW50TGlzdGVuZXIoZSkpe3Quc29ydChmdW5jdGlvbihlLHQpe3JldHVybiB0LnByaW9yaXR5LWUucHJpb3JpdHl9KSxpPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxpLnNoaWZ0KCksaS51bnNoaWZ0KHRoaXMpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0uZm4uYXBwbHkodFtuXS5zY29wZSxpKT09PSExKXJldHVybiExfXJldHVybiEwfSxiaW5kOmZ1bmN0aW9uKGUsdCxpLG4pe2wuVXBsb2FkZXIucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLGUsdCxuLGkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKFwiRGVzdHJveVwiKSxPPUk9bnVsbCx0aGlzLnVuYmluZEFsbCgpfX0pfSxsLlVwbG9hZGVyLnByb3RvdHlwZT10LmNvcmUuRXZlbnRUYXJnZXQuaW5zdGFuY2UsbC5GaWxlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtsLmV4dGVuZCh0aGlzLHtpZDpsLmd1aWQoKSxuYW1lOmUubmFtZXx8ZS5maWxlTmFtZSx0eXBlOmUudHlwZXx8XCJcIixyZWxhdGl2ZVBhdGg6ZS5yZWxhdGl2ZVBhdGh8fFwiXCIsc2l6ZTplLmZpbGVTaXplfHxlLnNpemUsb3JpZ1NpemU6ZS5maWxlU2l6ZXx8ZS5zaXplLGxvYWRlZDowLHBlcmNlbnQ6MCxzdGF0dXM6bC5RVUVVRUQsbGFzdE1vZGlmaWVkRGF0ZTplLmxhc3RNb2RpZmllZERhdGV8fChuZXcgRGF0ZSkudG9Mb2NhbGVTdHJpbmcoKSxjb21wbGV0ZVRpbWVzdGFtcDowLGdldE5hdGl2ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0U291cmNlKCkuZ2V0U291cmNlKCk7cmV0dXJuLTEhPT1sLmluQXJyYXkobC50eXBlT2YoZSksW1wiYmxvYlwiLFwiZmlsZVwiXSk/ZTpudWxsfSxnZXRTb3VyY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdFt0aGlzLmlkXT90W3RoaXMuaWRdOm51bGx9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNvdXJjZSgpO2UmJihlLmRlc3Ryb3koKSxkZWxldGUgdFt0aGlzLmlkXSl9fSksdFt0aGlzLmlkXT1lfXZhciB0PXt9O3JldHVybiBlfSgpLGwuUXVldWVQcm9ncmVzcz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5zaXplPTAsZS5sb2FkZWQ9MCxlLnVwbG9hZGVkPTAsZS5mYWlsZWQ9MCxlLnF1ZXVlZD0wLGUucGVyY2VudD0wLGUuYnl0ZXNQZXJTZWM9MCxlLnJlc2V0PWZ1bmN0aW9uKCl7ZS5zaXplPWUubG9hZGVkPWUudXBsb2FkZWQ9ZS5mYWlsZWQ9ZS5xdWV1ZWQ9ZS5wZXJjZW50PWUuYnl0ZXNQZXJTZWM9MH19LGUucGx1cGxvYWQ9bH0odGhpcyxlKX0pO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3BsdXBsb2FkL2pzL3BsdXBsb2FkLmZ1bGwubWluLmpzXG4vLyBtb2R1bGUgaWQgPSAuL25vZGVfbW9kdWxlcy9wbHVwbG9hZC9qcy9wbHVwbG9hZC5mdWxsLm1pbi5qc1xuLy8gbW9kdWxlIGNodW5rcyA9IDQgNSA2IDciXSwic291cmNlUm9vdCI6IiJ9